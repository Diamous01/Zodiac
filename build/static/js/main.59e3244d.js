/*! For license information please see main.59e3244d.js.LICENSE.txt */
!function(){var e={5345:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,L(w);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=h;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,E=null,T=-1,k=5,C=-1;function A(){return!(t.unstable_now()-C<k)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(M=!1,E=null)}}else M=!1}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){g(P,0)};function L(e){E=e,M||(M=!0,S())}function O(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(T),T=-1):m=!0,O(_,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,L(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},4545:function(e,t,n){"use strict";e.exports=n(5345)},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7494:function(e){function t(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},2244:function(e,t,n){var r=n(7447),i=n(8051).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},4e3:function(e,t,n){var r=n(2244),i=n(8051),a=i.each,o=i.isFunction,s=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},7447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},8051:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},8153:function(e,t,n){var r=n(4e3);e.exports=new r},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),v=l(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{u(t,g,y)}catch(x){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||_(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===g)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},5477:function(e,t,n){var r=n(2806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},5095:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return c.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||o.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function x(e){return u=e,s=setTimeout(_,t),c?y(e):o}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function _(){var e=p();if(b(e))return w(e);s=setTimeout(_,function(e){var n=t-(e-l);return d?h(n,a-(e-u)):n}(e))}function w(e){return s=void 0,g&&r?y(e):(r=i=void 0,o)}function S(){var e=p(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return x(l);if(d)return s=setTimeout(_,t),y(l)}return void 0===s&&(s=setTimeout(_,t)),o}return t=m(t)||0,v(n)&&(c=!!n.leading,a=(d="maxWait"in n)?f(m(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},S.flush=function(){return void 0===s?o:w(p())},S}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,U=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function j(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case M:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Me=null;function Ee(e){if(e=xi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Te(e){Se?Me?Me.push(e):Me=[e]:Se=e}function ke(){if(Se){var e=Se,t=Me;if(Me=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Se||null!==Me)&&(Ae(),ke())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Le=!1}function Ie(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Ue=null,Fe=!1,ze=null,je={onError:function(e){De=!0,Ue=e}};function Be(e,t,n,r,i,a,o,s,l){De=!1,Ue=null,Ie.apply(je,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,St,Mt,Et,Tt=!1,kt=[],Ct=null,At=null,Pt=null,Rt=new Map,Nt=new Map,Lt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function jt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(zt),Nt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Ht(e){function t(t){return Bt(t,e)}if(0<kt.length){Bt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Lt.shift()}var Vt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=xt,a=Vt.transition;Vt.transition=null;try{xt=1,qt(e,t,n,r)}finally{xt=i,Vt.transition=a}}function Xt(e,t,n,r){var i=xt,a=Vt.transition;Vt.transition=null;try{xt=4,qt(e,t,n,r)}finally{xt=i,Vt.transition=a}}function qt(e,t,n,r){if(Wt){var i=Zt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Dt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Dt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&_t(a),null===(a=Zt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Zt(e,t,n,r){if(Yt=null,null!==(e=yi(e=_e(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=U({},un,{view:0,detail:0}),fn=an(dn),hn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(U({},hn,{dataTransfer:0})),mn=an(U({},dn,{relatedTarget:0})),gn=an(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(U({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Mn}var Tn=U({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Tn),Cn=an(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Rn),Ln=[9,13,27,32],On=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Dn=c&&"TextEvent"in window&&!In,Un=c&&(!On||In&&8<In&&11>=In),Fn=String.fromCharCode(32),zn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=Xr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,qn=null;function Yn(e){Fr(e,0)}function Zn(e){if(q(bi(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(c){var $n;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}$n=Qn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),qn=Xn=null)}function nr(e){if("value"===e.propertyName&&Zn(qn)){var t=[];Gn(t,qn,e,_e(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(qn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Xr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Mr={};function Er(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mr)return Sr[e]=n[t];return e}c&&(Mr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Er("animationend"),kr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Rr.length;Lr++){var Or=Rr[Lr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(kr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Be.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Ue;De=!1,Ue=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,u),a=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var i=Gt;break;case 4:i=Xt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=_e(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case kr:case Cr:l=gn;break;case Ar:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Ne(p,f))&&c.push(Gr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:bi(l),h=null==u?s:bi(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=h,v=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(f=u,p=0,h=c=l;h;h=qr(h))p++;for(h=0,v=f;v;v=qr(v))h++;for(;0<p-h;)c=qr(c),p--;for(;0<h-p;)f=qr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=qr(c),f=qr(f)}c=null}else c=null;null!==l&&Yr(o,s,l,c,!1),null!==u&&null!==d&&Yr(o,d,u,c,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Kn;else if(Wn(s))if(Jn)m=or;else{m=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hn?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Hn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(g=Xr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:g}),y?x.data=y:null!==(y=Bn(n))&&(x.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Qt=$t=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ne(n,a))&&o.unshift(Gr(n,l,s)):i||null!=(l=Ne(n,a))&&o.push(Gr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Kr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[hi]||null}var wi=[],Si=-1;function Mi(e){return{current:e}}function Ei(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Ti(e,t){Si++,wi[Si]=e.current,e.current=t}var ki={},Ci=Mi(ki),Ai=Mi(!1),Pi=ki;function Ri(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ei(Ai),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==ki)throw Error(a(168));Ti(Ci,t),Ti(Ai,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return U({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ii(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ti(Ci,e)):Ei(Ai),Ti(Ai,n)}var Fi=null,zi=!1,ji=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Qe,Hi),i}finally{xt=t,ji=!1}}return null}var Vi=[],Wi=0,Gi=null,Xi=0,qi=[],Yi=0,Zi=null,Ki=1,Ji="";function $i(e,t){Vi[Wi++]=Xi,Vi[Wi++]=Gi,Gi=e,Xi=t}function Qi(e,t,n){qi[Yi++]=Ki,qi[Yi++]=Ji,qi[Yi++]=Zi,Zi=e;var r=Ki;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Ki=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Qi(e,1,0))}function ta(e){for(;e===Gi;)Gi=Vi[--Wi],Vi[Wi]=null,Xi=Vi[--Wi],Vi[Wi]=null;for(;e===Zi;)Zi=qi[--Yi],qi[Yi]=null,Ji=qi[--Yi],qi[Yi]=null,Ki=qi[--Yi],qi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Ki,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Mi(null),ya=null,xa=null,ba=null;function _a(){ba=xa=ya=null}function wa(e){var t=ga.current;Ei(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){ya=e,ba=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ya)throw Error(a(308));xa=e,ya.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var Ta=null;function ka(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nu(t,e,i,r),Ia(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nu(t,e,i,r),Ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nu(t,e,r,n),Ia(t,e,r))}};function Ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Pi:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Ya(a)===t.type)?((r=i(t,n.props)).ref=Xa(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=Xa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Iu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=Xa(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Iu(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case N:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:d(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,s[v],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,d=m}if(v===s.length)return n(i,d),ia&&$i(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&$i(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&$i(i,v),u}function m(i,s,l,u){var c=I(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var x=h(i,v,y.value,u);if(null===x){null===v&&(v=g);break}e&&v&&null===x.alternate&&t(i,v),s=o(x,s,m),null===d?c=x:d.sibling=x,d=x,v=g}if(y.done)return n(i,v),ia&&$i(i,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return ia&&$i(i,m),c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===N&&Ya(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Xa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Iu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Ou(o.type,o.key,o.props,null,r.mode,l)).ref=Xa(r,a,o),l.return=r,r=l)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fu(o,r.mode,l)).return=r,r=a}return s(r);case N:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return v(r,a,o,l);if(I(o))return m(r,a,o,l);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Ka=Za(!0),Ja=Za(!1),$a={},Qa=Mi($a),eo=Mi($a),to=Mi($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Qa,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Qa),Ti(Qa,t)}function io(){Ei(Qa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Qa.current),n=le(t,e.type);t!==n&&(Ti(eo,e),Ti(Qa,n))}function oo(e){eo.current===e&&(Ei(Qa),Ei(eo))}var so=Mi(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,xo=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Mo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),xo){o=0;do{if(xo=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(xo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function ko(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,vo.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function No(e,t){var n=vo,r=ko(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Uo(e)}function Io(e,t,n){return n((function(){Do(t)&&Uo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Aa(e,1);null!==t&&nu(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return ko().memoizedState}function Bo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Vo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return Ho(2048,8,e,t)}function Go(e,t){return Ho(4,2,e,t)}function Xo(e,t){return Ho(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,qo.bind(null,t,e),n)}function Zo(){}function Ko(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Qo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{xt=n,ho.transition=r}}function es(){return ko().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,ka(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ca(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){xo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Zo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Qo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Io.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Al.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Ko,useContext:Ea,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:Xo,useMemo:Jo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:Zo,useDeferredValue:function(e){return $o(ko(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],ko().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Ko,useContext:Ea,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:Xo,useMemo:Jo,useReducer:Po,useRef:jo,useState:function(){return Po(Co)},useDebugValue:Zo,useDeferredValue:function(e){var t=ko();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Po(Co)[0],ko().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),fs(0,t)},n}function vs(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ka(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ma(t,i),r=Mo(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Lu(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return ks(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ll,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ll,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ll,Nl),Nl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ll,Nl),Nl|=r;return _s(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var a=Ni(n)?Pi:Ci.current;return a=Ri(t,a),Ma(t,i),n=Mo(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var a=!0;Di(t)}else a=!1;if(Ma(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ea(u):u=Ri(t,u=Ni(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Wa(t,o,r,u),Pa=!1;var f=t.memoizedState;o.state=f,Ua(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ai.current||Pa?("function"===typeof c&&(ja(t,n,c,r),l=t.memoizedState),(s=Pa||Ha(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Ri(t,l=Ni(n)?Pi:Ci.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Wa(t,o,r,l),Pa=!1,f=t.memoizedState,o.state=f,Ua(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ai.current||Pa?("function"===typeof h&&(ja(t,n,h,r),p=t.memoizedState),(u=Pa||Ha(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Ws(e,t,a);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return ha(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var Ns,Ls,Os,Is={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Du(l,i,0,null),e=Iu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Is,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(o=Iu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Is,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nu(r,e,i,-1))}return vu(),zs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Yi++]=Ki,qi[Yi++]=Ji,qi[Yi++]=Zi,Ki=e.id,Ji=e.overflow,Zi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Lu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lu(r,s):(s=Iu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,i}return e=(s=e.child).sibling,i=Lu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&pa(r),Ka(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ni(t.type)&&Li(),Xs(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Xs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Xs(t),null}if(e=no(Qa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)zr(Ir[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":X(r),Q(r,o,!0);break;case"textarea":X(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Ns(e,t),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)zr(Ir[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":K(e,r),i=Z(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&x(e,o,c,l))}switch(n){case"input":X(e),Q(e,r,!1);break;case"textarea":X(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ol&&(Ol=3):vu())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return io(),null===e&&Hr(t.stateNode.containerInfo),Xs(t),null;case 10:return wa(t.type._context),Xs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hl&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Xs(t),null}else 2*Je()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Qa.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Ks=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Mu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Mu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ks||Qs(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ks&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,fl(e,t,n),Ks=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(o,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Mu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Mu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Mu(e,e.return,m)}}break;case 1:vl(t,e),gl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(vl(t,e),gl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Mu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),xe(l,s);var c=xe(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):x(i,d,f,c)}switch(l){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Mu(e,e.return,m)}}break;case 6:if(vl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Mu(e,e.return,m)}}break;case 3:if(vl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Mu(e,e.return,m)}break;case 4:default:vl(t,e),gl(e);break;case 13:vl(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,vl(t,e),Ks=c):vl(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Qs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Mu(r,n,m)}}break;case 5:Qs(h,h.return);break;case 22:if(null!==h.memoizedState){_l(f);continue}}null!==p?(p.return=h,$s=p):_l(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(m){Mu(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Mu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Mu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Zs;var u=Ks;if(Zs=o,(Ks=l)&&!u)for($s=i;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,$s=l):wl(i);for(;null!==a;)$s=a,xl(a,t,n),a=a.sibling;$s=i,Zs=s,Ks=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):bl(e)}}function bl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&il(t)}catch(h){Mu(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _l(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Mu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Mu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Mu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Mu(t,o,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Sl,Ml=Math.ceil,El=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,kl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Pl=null,Rl=0,Nl=0,Ll=Mi(0),Ol=0,Il=null,Dl=0,Ul=0,Fl=0,zl=null,jl=null,Bl=0,Hl=1/0,Vl=null,Wl=!1,Gl=null,Xl=null,ql=!1,Yl=null,Zl=0,Kl=0,Jl=null,$l=-1,Ql=0;function eu(){return 0!==(6&Cl)?Je():-1!==$l?$l:$l=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Rl?Rl&-Rl:null!==va.transition?(0===Ql&&(Ql=vt()),Ql):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Jl=null,Error(a(185));gt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Ul|=n),4===Ol&&su(e,Rl)),ru(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Hl=Je()+500,zi&&Hi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Al?Rl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),oi((function(){0===(6&Cl)&&Hi()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if($l=-1,Ql=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Al?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Cl;Cl|=2;var o=pu();for(Al===e&&Rl===t||(Vl=null,Hl=Je()+500,fu(e,t));;)try{yu();break}catch(l){hu(e,l)}_a(),El.current=o,Cl=i,null!==Pl?t=0:(Al=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Il,fu(e,0),su(e,r),ru(e,Je()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=Il,fu(e,0),su(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_u(e,jl,Vl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,jl,Vl),t);break}_u(e,jl,Vl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ml(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,jl,Vl),r);break}_u(e,jl,Vl);break;default:throw Error(a(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=jl,jl=n,null!==t&&ou(t)),e}function ou(e){null===jl?jl=e:jl.push.apply(jl,e)}function su(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Cl))throw Error(a(327));wu();var t=ft(e,0);if(0===(1&t))return ru(e,Je()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Il,fu(e,0),su(e,t),ru(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,jl,Vl),ru(e,Je()),null}function uu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Hl=Je()+500,zi&&Hi())}}function cu(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&wu();var t=Cl;Cl|=1;var n=kl.transition,r=xt;try{if(kl.transition=null,xt=1,e)return e()}finally{xt=r,kl.transition=n,0===(6&(Cl=t))&&Hi()}}function du(){Nl=Ll.current,Ei(Ll)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Ei(Ai),Ei(Ci),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:du()}n=n.return}if(Al=e,Pl=e=Lu(e.current,null),Rl=Nl=t,Ol=0,Il=null,Fl=Ul=Dl=0,jl=zl=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function hu(e,t){for(;;){var n=Pl;try{if(_a(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,xo=!1,bo=0,Tl.current=null,null===n||null===n.return){Ol=1,Il=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ms(o,c,t),vu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Ol&&(Ol=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xl||!Xl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=El.current;return El.current=os,null===e?os:e}function vu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Dl)&&0===(268435455&Ul)||su(Al,Rl)}function mu(e,t){var n=Cl;Cl|=2;var r=pu();for(Al===e&&Rl===t||(Vl=null,fu(e,t));;)try{gu();break}catch(i){hu(e,i)}if(_a(),Cl=n,El.current=r,null!==Pl)throw Error(a(261));return Al=null,Rl=0,Ol}function gu(){for(;null!==Pl;)xu(Pl)}function yu(){for(;null!==Pl&&!Ze();)xu(Pl)}function xu(e){var t=Sl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?bu(e):Pl=t,Tl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Nl)))return void(Pl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _u(e,t,n){var r=xt,i=kl.transition;try{kl.transition=null,xt=1,function(e,t,n,r){do{wu()}while(null!==Yl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Al&&(Pl=Al=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Au(tt,(function(){return wu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var s=xt;xt=1;var l=Cl;Cl|=4,Tl.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Mu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=tl,tl=!1}(e,n),ml(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ke(),Cl=l,xt=s,kl.transition=o}else e.current=n;if(ql&&(ql=!1,Yl=e,Zl=i),o=e.pendingLanes,0===o&&(Xl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Zl)&&0!==e.tag&&wu(),o=e.pendingLanes,0!==(1&o)?e===Jl?Kl++:(Kl=0,Jl=e):Kl=0,Hi()}(e,t,n,r)}finally{kl.transition=i,xt=r}return null}function wu(){if(null!==Yl){var e=bt(Zl),t=kl.transition,n=xt;try{if(kl.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Zl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var h=(d=$s).sibling,p=d.return;if(al(d),d===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var x=e.current;for($s=x;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=x;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Mu(l,l.return,w)}if(l===s){$s=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$s=_;break e}$s=l.return}}if(Cl=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{xt=n,kl.transition=t}}return!1}function Su(e,t,n){e=Oa(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Mu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Oa(t,e=vs(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>Je()-Bl?fu(e,0):Fl|=n),ru(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Aa(e,t))&&(gt(e,t,n),ru(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tu(e,n)}function Au(e,t){return qe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Nu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Iu(n.children,i,o,t);case M:s=8,i|=8;break;case E:return(e=Ru(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Ru(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Ru(19,n,t,i)).elementType=P,e.lanes=o,e;case L:return Du(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case k:s=9;break e;case C:s=11;break e;case R:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Iu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,a,o,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hu(e){if(!e)return ki;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Ii(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=ju(n,r,!0,e,0,a,0,s,l)).context=Hu(null),n=e.current,(a=La(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nu(e,i,o,a),Ia(e,i,o)),o}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ha();break;case 5:ao(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ti(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Qi(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ma(t,n),i=Mo(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=La(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Sa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ma(t,n),r=r(i=Ea(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Vs(e,t),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Ma(t,n),Va(t,r,i),Ga(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gu(o);s.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=o,e[pi]=o.current,Hr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Gu(o)}Ku.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Ku.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[pi]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ut(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0===(6&Cl)&&(Hl=Je()+500,Hi()))}break;case 13:cu((function(){var t=Aa(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},wt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Aa(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},Mt=function(){return xt},Et=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));q(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,Ae=cu;var tc={usingClientEntryPoint:!1,Events:[xi,bi,_i,Te,ke,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return Bu(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(a(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ku(t)},t.render=function(e,t,n){if(!$u(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6048:function(e,t,n){var r;e.exports=(r=n(2791),function(){var e={703:function(e,t,n){"use strict";var r=n(414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:function(e){"use strict";e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{default:function(){return w}});var e=n(98),t=n.n(e),r=n(697),a=n.n(r);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s=function(e){var n=e.pageClassName,r=e.pageLinkClassName,i=e.page,a=e.selected,s=e.activeClassName,l=e.activeLinkClassName,u=e.getEventListener,c=e.pageSelectedHandler,d=e.href,f=e.extraAriaContext,h=e.pageLabelBuilder,p=e.rel,v=e.ariaLabel||"Page "+i+(f?" "+f:""),m=null;return a&&(m="page",v=e.ariaLabel||"Page "+i+" is your current page",n=void 0!==n?n+" "+s:s,void 0!==r?void 0!==l&&(r=r+" "+l):r=l),t().createElement("li",{className:n},t().createElement("a",o({rel:p,role:d?void 0:"button",className:r,href:d,tabIndex:a?"-1":"0","aria-label":v,"aria-current":m,onKeyPress:c},u(c)),h(i)))};s.propTypes={pageSelectedHandler:a().func.isRequired,selected:a().bool.isRequired,pageClassName:a().string,pageLinkClassName:a().string,activeClassName:a().string,activeLinkClassName:a().string,extraAriaContext:a().string,href:a().string,ariaLabel:a().string,page:a().number.isRequired,getEventListener:a().func.isRequired,pageLabelBuilder:a().func.isRequired,rel:a().string};var l=s;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c=function(e){var n=e.breakLabel,r=e.breakClassName,i=e.breakLinkClassName,a=e.breakHandler,o=e.getEventListener,s=r||"break";return t().createElement("li",{className:s},t().createElement("a",u({className:i,role:"button",tabIndex:"0",onKeyPress:a},o(a)),n))};c.propTypes={breakLabel:a().oneOfType([a().string,a().node]),breakClassName:a().string,breakLinkClassName:a().string,breakHandler:a().func.isRequired,getEventListener:a().func.isRequired};var d=c;function f(e){return null!=e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,e);var n,r,i,a,o=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(i);if(a){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function s(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),b(y(n=o.call(this,e)),"handlePreviousPage",(function(e){var t=n.state.selected;n.handleClick(e,null,t>0?t-1:void 0,{isPrevious:!0})})),b(y(n),"handleNextPage",(function(e){var t=n.state.selected,r=n.props.pageCount;n.handleClick(e,null,t<r-1?t+1:void 0,{isNext:!0})})),b(y(n),"handlePageSelected",(function(e,t){if(n.state.selected===e)return n.callActiveCallback(e),void n.handleClick(t,null,void 0,{isActive:!0});n.handleClick(t,null,e)})),b(y(n),"handlePageChange",(function(e){n.state.selected!==e&&(n.setState({selected:e}),n.callCallback(e))})),b(y(n),"getEventListener",(function(e){return b({},n.props.eventListener,e)})),b(y(n),"handleClick",(function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.isPrevious,o=void 0!==a&&a,s=i.isNext,l=void 0!==s&&s,u=i.isBreak,c=void 0!==u&&u,d=i.isActive,f=void 0!==d&&d;e.preventDefault?e.preventDefault():e.returnValue=!1;var h=n.state.selected,p=n.props.onClick,v=r;if(p){var m=p({index:t,selected:h,nextSelectedPage:r,event:e,isPrevious:o,isNext:l,isBreak:c,isActive:f});if(!1===m)return;Number.isInteger(m)&&(v=m)}void 0!==v&&n.handlePageChange(v)})),b(y(n),"handleBreakClick",(function(e,t){var r=n.state.selected;n.handleClick(t,e,r<e?n.getForwardJump():n.getBackwardJump(),{isBreak:!0})})),b(y(n),"callCallback",(function(e){void 0!==n.props.onPageChange&&"function"==typeof n.props.onPageChange&&n.props.onPageChange({selected:e})})),b(y(n),"callActiveCallback",(function(e){void 0!==n.props.onPageActive&&"function"==typeof n.props.onPageActive&&n.props.onPageActive({selected:e})})),b(y(n),"getElementPageRel",(function(e){var t=n.state.selected,r=n.props,i=r.nextPageRel,a=r.prevPageRel,o=r.selectedPageRel;return t-1===e?a:t===e?o:t+1===e?i:void 0})),b(y(n),"pagination",(function(){var e=[],r=n.props,i=r.pageRangeDisplayed,a=r.pageCount,o=r.marginPagesDisplayed,s=r.breakLabel,l=r.breakClassName,u=r.breakLinkClassName,c=n.state.selected;if(a<=i)for(var f=0;f<a;f++)e.push(n.getPageElement(f));else{var h=i/2,p=i-h;c>a-i/2?h=i-(p=a-c):c<i/2&&(p=i-(h=c));var v,m,g=function(e){return n.getPageElement(e)},y=[];for(v=0;v<a;v++){var x=v+1;x<=o||x>a-o||v>=c-h&&v<=c+(0===c&&i>1?p-1:p)?y.push({type:"page",index:v,display:g(v)}):s&&y.length>0&&y[y.length-1].display!==m&&(i>0||o>0)&&(m=t().createElement(d,{key:v,breakLabel:s,breakClassName:l,breakLinkClassName:u,breakHandler:n.handleBreakClick.bind(null,v),getEventListener:n.getEventListener}),y.push({type:"break",index:v,display:m}))}y.forEach((function(t,n){var r=t;"break"===t.type&&y[n-1]&&"page"===y[n-1].type&&y[n+1]&&"page"===y[n+1].type&&y[n+1].index-y[n-1].index<=2&&(r={type:"page",index:t.index,display:g(t.index)}),e.push(r.display)}))}return e})),void 0!==e.initialPage&&void 0!==e.forcePage&&console.warn("(react-paginate): Both initialPage (".concat(e.initialPage,") and forcePage (").concat(e.forcePage,") props are provided, which is discouraged.")+" Use exclusively forcePage prop for a controlled component.\nSee https://reactjs.org/docs/forms.html#controlled-components"),r=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,n.state={selected:r},n}return n=s,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,r=e.extraAriaContext,i=e.pageCount,a=e.forcePage;void 0===t||n||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(i)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(i,"). Did you forget a Math.ceil()?")),void 0!==t&&t>i-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(t," > ").concat(i-1,").")),void 0!==a&&a>i-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(a," > ").concat(i-1,")."))}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(e.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,r=e+t.pageRangeDisplayed;return r>=n?n-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"getElementHref",value:function(e){var t=this.props,n=t.hrefBuilder,r=t.pageCount,i=t.hrefAllControls;if(n)return i||e>=0&&e<r?n(e+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var n=this.state.selected,r=this.props,i=r.pageClassName,a=r.pageLinkClassName,o=r.activeClassName,s=r.activeLinkClassName,u=r.extraAriaContext,c=r.pageLabelBuilder;return t().createElement(l,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:n===e,rel:this.getElementPageRel(e),pageClassName:i,pageLinkClassName:a,activeClassName:o,activeLinkClassName:s,extraAriaContext:u,href:this.getElementHref(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:c,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props.renderOnZeroPageCount;if(0===this.props.pageCount&&void 0!==e)return e?e(this.props):e;var n=this.props,r=n.disabledClassName,i=n.disabledLinkClassName,a=n.pageCount,o=n.className,s=n.containerClassName,l=n.previousLabel,u=n.previousClassName,c=n.previousLinkClassName,d=n.previousAriaLabel,h=n.prevRel,v=n.nextLabel,m=n.nextClassName,g=n.nextLinkClassName,y=n.nextAriaLabel,x=n.nextRel,b=this.state.selected,_=0===b,w=b===a-1,S="".concat(f(u)).concat(_?" ".concat(f(r)):""),M="".concat(f(m)).concat(w?" ".concat(f(r)):""),E="".concat(f(c)).concat(_?" ".concat(f(i)):""),T="".concat(f(g)).concat(w?" ".concat(f(i)):""),k=_?"true":"false",C=w?"true":"false";return t().createElement("ul",{className:o||s,role:"navigation","aria-label":"Pagination"},t().createElement("li",{className:S},t().createElement("a",p({className:E,href:this.getElementHref(b-1),tabIndex:_?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":k,"aria-label":d,rel:h},this.getEventListener(this.handlePreviousPage)),l)),this.pagination(),t().createElement("li",{className:M},t().createElement("a",p({className:T,href:this.getElementHref(b+1),tabIndex:w?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":C,"aria-label":y,rel:x},this.getEventListener(this.handleNextPage)),v)))}}])&&v(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);b(_,"propTypes",{pageCount:a().number.isRequired,pageRangeDisplayed:a().number,marginPagesDisplayed:a().number,previousLabel:a().node,previousAriaLabel:a().string,prevPageRel:a().string,prevRel:a().string,nextLabel:a().node,nextAriaLabel:a().string,nextPageRel:a().string,nextRel:a().string,breakLabel:a().oneOfType([a().string,a().node]),hrefBuilder:a().func,hrefAllControls:a().bool,onPageChange:a().func,onPageActive:a().func,onClick:a().func,initialPage:a().number,forcePage:a().number,disableInitialCallback:a().bool,containerClassName:a().string,className:a().string,pageClassName:a().string,pageLinkClassName:a().string,pageLabelBuilder:a().func,activeClassName:a().string,activeLinkClassName:a().string,previousClassName:a().string,nextClassName:a().string,previousLinkClassName:a().string,nextLinkClassName:a().string,disabledClassName:a().string,disabledLinkClassName:a().string,breakClassName:a().string,breakLinkClassName:a().string,extraAriaContext:a().string,ariaLabelBuilder:a().func,eventListener:a().string,renderOnZeroPageCount:a().func,selectedPageRel:a().string}),b(_,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});var w=_}(),i}())},4976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},3721:function(e,t,n){e.exports=function(e){var t={},r=n(2791),i=n(3100),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function w(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function T(e){if(E(e)!==e)throw Error(o(188))}function k(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return T(i),e;if(a===r)return T(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function C(e){return null!==(e=k(e))?A(e):null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=A(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var R,N=Array.isArray,L=e.getPublicInstance,O=e.getRootHostContext,I=e.getChildHostContext,D=e.prepareForCommit,U=e.resetAfterCommit,F=e.createInstance,z=e.appendInitialChild,j=e.finalizeInitialChildren,B=e.prepareUpdate,H=e.shouldSetTextContent,V=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,X=e.noTimeout,q=e.isPrimaryRenderer,Y=e.supportsMutation,Z=e.supportsPersistence,K=e.supportsHydration,J=e.getInstanceFromNode,$=e.preparePortalMount,Q=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,he=e.commitTextUpdate,pe=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,xe=e.removeChildFromContainer,be=e.resetTextContent,_e=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,Me=e.unhideTextInstance,Ee=e.clearContainer,Te=e.cloneInstance,ke=e.createContainerChildSet,Ce=e.appendChildToContainerChildSet,Ae=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Ne=e.cloneHiddenTextInstance,Le=e.canHydrateInstance,Oe=e.canHydrateTextInstance,Ie=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,ze=e.getNextHydratableSibling,je=e.getFirstHydratableChild,Be=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,Xe=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Ze=e.clearSuspenseBoundary,Ke=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ut={},ct=ot(ut),dt=ot(!1),ft=ut;function ht(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(dt),st(ct)}function mt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(dt,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,M(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ft=ct.current,lt(ct,e),lt(dt,dt.current),!0}function xt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ct),lt(ct,e)):st(dt),lt(dt,n)}var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/wt|0)|0},_t=Math.log,wt=Math.LN2;var St=64,Mt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-bt(t)),r|=e[n],t&=~i;return r}function kt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ct(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Nt=0;function Lt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ot=i.unstable_scheduleCallback,It=i.unstable_cancelCallback,Dt=i.unstable_shouldYield,Ut=i.unstable_requestPaint,Ft=i.unstable_now,zt=i.unstable_ImmediatePriority,jt=i.unstable_UserBlockingPriority,Bt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Vt=null,Wt=null;var Gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Xt=null,qt=!1,Yt=!1;function Zt(e){null===Xt?Xt=[e]:Xt.push(e)}function Kt(){if(!Yt&&null!==Xt){Yt=!0;var e=0,t=Nt;try{var n=Xt;for(Nt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Xt=null,qt=!1}catch(i){throw null!==Xt&&(Xt=Xt.slice(e+1)),Ot(zt,Kt),i}finally{Nt=t,Yt=!1}}return null}var Jt=s.ReactCurrentBatchConfig;function $t(e,t){if(Gt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Qt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){q?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),q?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Di=!0),e.firstContext=null)}function dn(e){var t=q?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ya&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function xn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(s=0,d=c=u=null,l=o;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(v=m.payload)){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=m.payload)?v.call(p,f,h):v)||void 0===h)break e;f=a({},f,h);break e;case 2:hn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=f}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var wn=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),i=wo(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),i=wo(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=wo(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(i,a))}function Tn(e,t,n){var r=!1,i=ut,a=t.contextType;return"object"===typeof a&&null!==a?a=dn(a):(i=pt(t)?ft:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ht(e,i):ut),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function kn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function Cn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=dn(a):(a=pt(t)?ft:ct.current,i.context=ht(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var An=[],Pn=0,Rn=null,Nn=0,Ln=[],On=0,In=null,Dn=1,Un="";function Fn(e,t){An[Pn++]=Nn,An[Pn++]=Rn,Rn=e,Nn=t}function zn(e,t,n){Ln[On++]=Dn,Ln[On++]=Un,Ln[On++]=In,In=e;var r=Dn;e=Un;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var a=32-bt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-bt(t)+i|n<<i|r,Un=a+e}else Dn=1<<a|n<<i|r,Un=e}function jn(e){null!==e.return&&(Fn(e,1),zn(e,1,0))}function Bn(e){for(;e===Rn;)Rn=An[--Pn],An[Pn]=null,Nn=An[--Pn],An[Pn]=null;for(;e===In;)In=Ln[--On],Ln[On]=null,Un=Ln[--On],Ln[On]=null,Dn=Ln[--On],Ln[On]=null}var Hn=null,Vn=null,Wn=!1,Gn=!1,Xn=null;function qn(e,t){var n=$o(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Yn(e,t){switch(e.tag){case 5:return null!==(t=Le(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=je(t),!0);case 6:return null!==(t=Oe(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=null,!0);case 13:if(null!==(t=Ie(t))){var n=null!==In?{id:Dn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$o(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Vn=null,!0}return!1;default:return!1}}function Zn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Kn(e){if(Wn){var t=Vn;if(t){var n=t;if(!Yn(e,t)){if(Zn(e))throw Error(o(418));t=ze(n);var r=Hn;t&&Yn(e,t)?qn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Hn=e)}}else{if(Zn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Wn=!1,Hn=e}}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function $n(e){if(!K||e!==Hn)return!1;if(!Wn)return Jn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!H(e.type,e.memoizedProps))){var t=Vn;if(t){if(Zn(e)){for(e=Vn;e;)e=ze(e);throw Error(o(418))}for(;t;)qn(e,t),t=ze(t)}}if(Jn(e),13===e.tag){if(!K)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Vn=Xe(e)}else Vn=Hn?ze(e.stateNode):null;return!0}function Qn(){K&&(Vn=Hn=null,Gn=Wn=!1)}function er(e){null===Xn?Xn=[e]:Xn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===wn&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===x&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=as(t,e.mode,n)).return=e,t;case x:return v(e,(0,t._init)(t._payload),n)}if(N(t)||w(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?f(e,t,n,r):null;case u:return n.key===i?h(e,t,n,r):null;case x:return m(e,t,(i=n._init)(n._payload),r)}if(N(n)||w(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return g(e,t,n,(0,r._init)(r._payload),i)}if(N(r)||w(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,d=o,f=o=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=m(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),Wn&&Fn(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=v(i,s[f],l))&&(o=a(d,o,f),null===c?u=d:c.sibling=d,c=d);return Wn&&Fn(i,f),u}for(d=r(i,d);f<s.length;f++)null!==(h=g(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=a(h,o,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),Wn&&Fn(i,f),u}function b(i,s,l,u){var c=w(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var x=m(i,f,y.value,u);if(null===x){null===f&&(f=p);break}e&&f&&null===x.alternate&&t(i,f),s=a(x,s,h),null===d?c=x:d.sibling=x,d=x,f=p}if(y.done)return n(i,f),Wn&&Fn(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=v(i,y.value,u))&&(s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return Wn&&Fn(i,h),c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=g(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),Wn&&Fn(i,h),c}return function e(r,a,o,d){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var f=o.key,h=a;null!==h;){if(h.key===f){if((f=o.type)===c){if(7===h.tag){n(r,h.sibling),(a=i(h,o.props.children)).return=r,r=a;break e}}else if(h.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===x&&rr(f)===h.type){n(r,h.sibling),(a=i(h,o.props)).ref=tr(r,h,o),a.return=r,r=a;break e}n(r,h);break}t(r,h),h=h.sibling}o.type===c?((a=ns(o.props.children,r.mode,d,o.key)).return=r,r=a):((d=ts(o.type,o.key,o.props,null,r.mode,d)).ref=tr(r,a,o),d.return=r,r=d)}return s(r);case u:e:{for(h=o.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,d)).return=r,r=a}return s(r);case x:return e(r,a,(h=o._init)(o._payload),d)}if(N(o))return y(r,a,o,d);if(w(o))return b(r,a,o,d);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,d)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function dr(e){if(e===sr)throw Error(o(174));return e}function fr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=O(t),st(lr),lt(lr,e)}function hr(){st(lr),st(ur),st(cr)}function pr(e){var t=dr(cr.current),n=dr(lr.current);n!==(t=I(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function vr(e){ur.current===e&&(st(lr),st(ur))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function xr(){for(var e=0;e<yr.length;e++){var t=yr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var br=s.ReactCurrentDispatcher,_r=s.ReactCurrentBatchConfig,wr=0,Sr=null,Mr=null,Er=null,Tr=!1,kr=!1,Cr=0,Ar=0;function Pr(){throw Error(o(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Nr(e,t,n,r,i,a){if(wr=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?pi:vi,e=n(r,i),kr){a=0;do{if(kr=!1,Cr=0,25<=a)throw Error(o(301));a+=1,Er=Mr=null,t.updateQueue=null,br.current=mi,e=n(r,i)}while(kr)}if(br.current=hi,t=null!==Mr&&null!==Mr.next,wr=0,Er=Mr=Sr=null,Tr=!1,t)throw Error(o(300));return e}function Lr(){var e=0!==Cr;return Cr=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?Sr.memoizedState=Er=e:Er=Er.next=e,Er}function Ir(){if(null===Mr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===Er?Sr.memoizedState:Er.next;if(null!==t)Er=t,Mr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Er?Sr.memoizedState=Er=e:Er=Er.next=e}return Er}function Dr(e,t){return"function"===typeof t?t(e):t}function Ur(e){var t=Ir(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Mr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((wr&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,Sr.lanes|=d,to|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,Gt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=Ir(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Gt(a,t.memoizedState)||(Di=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zr(){}function jr(e,t){var n=Sr,r=Ir(),i=t(),a=!Gt(r.memoizedState,i);if(a&&(r.memoizedState=i,Di=!0),r=r.queue,Jr(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,Xr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Ya)throw Error(o(349));0!==(30&wr)||Br(n,t,i)}return i}function Br(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&So(e,1,-1)}function Vr(e,t,n){return n((function(){Wr(t)&&So(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(r){return!0}}function Gr(e){var t=Or();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function Xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qr(){return Ir().memoizedState}function Yr(e,t,n,r){var i=Or();Sr.flags|=e,i.memoizedState=Xr(1|t,n,void 0,void 0===r?null:r)}function Zr(e,t,n,r){var i=Ir();r=void 0===r?null:r;var a=void 0;if(null!==Mr){var o=Mr.memoizedState;if(a=o.destroy,null!==r&&Rr(r,o.deps))return void(i.memoizedState=Xr(t,n,a,r))}Sr.flags|=e,i.memoizedState=Xr(1|t,n,a,r)}function Kr(e,t){return Yr(8390656,8,e,t)}function Jr(e,t){return Zr(2048,8,e,t)}function $r(e,t){return Zr(4,2,e,t)}function Qr(e,t){return Zr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Ir();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Ir();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Nt;Nt=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Nt=n,_r.transition=r}}function oi(){return Ir().memoizedState}function si(e,t,n){var r=wo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?ci(t,n):(di(e,t,n),null!==(e=So(e,r,n=_o()))&&fi(e,t,r))}function li(e,t,n){var r=wo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))ci(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(l){}null!==(e=So(e,r,n=_o()))&&fi(e,t,r)}}function ui(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){kr=Tr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Ya&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var hi={readContext:dn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},pi={readContext:dn,useCallback:function(e,t){return Or().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Kr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Or().memoizedState=e},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return Kr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Or();if(Wn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ya)throw Error(o(349));0!==(30&wr)||Br(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Kr(Vr.bind(null,r,a,e),[e]),r.flags|=2048,Xr(9,Hr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Or(),t=Ya.identifierPrefix;if(Wn){var n=Un;t=":"+t+"R"+(n=(Dn&~(1<<32-bt(Dn)-1)).toString(32)+n),0<(n=Cr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ar++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Jr,useImperativeHandle:ti,useInsertionEffect:$r,useLayoutEffect:Qr,useMemo:ii,useReducer:Ur,useRef:qr,useState:function(){return Ur(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Dr),n=t[0],r=t[1];return Jr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Ur(Dr)[0],Ir().memoizedState]},useMutableSource:zr,useSyncExternalStore:jr,useId:oi,unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Jr,useImperativeHandle:ti,useInsertionEffect:$r,useLayoutEffect:Qr,useMemo:ii,useReducer:Fr,useRef:qr,useState:function(){return Fr(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Dr),n=t[0],r=t[1];return Jr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Fr(Dr)[0],Ir().memoizedState]},useMutableSource:zr,useSyncExternalStore:jr,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=Qt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var xi,bi,_i,wi,Si="function"===typeof WeakMap?WeakMap:Map;function Mi(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function Ei(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ti(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Xo.bind(null,e,t,n),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ci(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ai(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)xi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)z(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},_i=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(lr.current);n=B(a,n,e,r,i,o),(t.updateQueue=n)&&Ai(t)}},wi=function(e,t,n,r){n!==r&&Ai(t)};else if(Z){xi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),z(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ne(a,i.memoizedProps,i)),z(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),xi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ri=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Re(o,a.type,a.memoizedProps,a)),Ce(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Ne(o,a.memoizedProps,a)),Ce(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};bi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=ke(e);Ri(r,t,!1,!1),n.pendingChildren=r,Ai(t),Ae(e,r)}},_i=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Pi(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=dr(lr.current),u=null;o!==r&&(u=B(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Te(a,u,n,o,r,t,e,s),j(a,n,r,i,l)&&Ai(t),t.stateNode=a,e?Ai(t):xi(a,t,!1,!1))}},wi=function(e,t,n,r){n!==r?(e=dr(cr.current),n=dr(lr.current),t.stateNode=V(r,e,n,t),Ai(t)):t.stateNode=e.stateNode}}else bi=function(){},_i=function(){},wi=function(){};function Ni(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Oi(e,t,n){var r=t.pendingProps;switch(Bn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:case 17:return pt(t.type)&&vt(),Li(t),null;case 3:return r=t.stateNode,hr(),st(dt),st(ct),xr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($n(t)?Ai(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xn&&(Co(Xn),Xn=null))),bi(e,t),Li(t),null;case 5:vr(t),n=dr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)_i(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Li(t),null}if(e=dr(lr.current),$n(t)){if(!K)throw Error(o(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Ai(t)}else{var a=F(i,r,n,e,t);xi(a,t,!1,!1),t.stateNode=a,j(a,i,r,n,e)&&Ai(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&null!=t.stateNode)wi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=dr(cr.current),n=dr(lr.current),$n(t)){if(!K)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=Hn))switch(a=0!==(1&i.mode),i.tag){case 3:$e(i.stateNode.containerInfo,e,r,a);break;case 5:Qe(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ai(t)}else t.stateNode=V(r,e,n,t)}return Li(t),null;case 13:if(st(mr),r=t.memoizedState,Wn&&null!==Vn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Vn;e;)e=ze(e);return Qn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=$n(t),null===e){if(!r)throw Error(o(318));if(!K)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ge(e,t)}else Qn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Li(t),null}return null!==Xn&&(Co(Xn),Xn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?$n(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===Qa&&(Qa=3):Do())),null!==t.updateQueue&&(t.flags|=4),Li(t),null);case 4:return hr(),bi(e,t),null===e&&$(t.stateNode.containerInfo),Li(t),null;case 10:return ln(t.type._context),Li(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Li(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ni(i,!1);else{if(0!==Qa||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Ni(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>so&&(t.flags|=128,r=!0,Ni(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ni(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Wn)return Li(t),null}else 2*Ft()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ni(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=mr.current,lt(mr,r?1&e|2:1&e),t):(Li(t),null);case 22:case 23:return No(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ja)&&(Li(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):Li(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Ii=s.ReactCurrentOwner,Di=!1;function Ui(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Nr(e,t,n,r,a,i),n=Lr(),null===e||Di?(Wn&&n&&jn(t),t.flags|=1,Ui(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function zi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Qo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$t)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,i){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Di=!0)}return Vi(e,t,n,r,i)}function Bi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt($a,Ja),Ja|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt($a,Ja),Ja|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt($a,Ja),Ja|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt($a,Ja),Ja|=r;return Ui(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=pt(n)?ft:ct.current;return a=ht(t,a),cn(t,i),n=Nr(e,t,n,r,a,i),r=Lr(),null===e||Di?(Wn&&r&&jn(t),t.flags|=1,Ui(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Wi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Tn(t,n,r),Cn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=dn(u):u=ht(t,u=pt(n)?ft:ct.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&kn(t,o,r,u),hn=!1;var f=t.memoizedState;o.state=f,bn(t,r,o,i),l=t.memoizedState,s!==r||f!==l||dt.current||hn?("function"===typeof c&&(Sn(t,n,c,r),l=t.memoizedState),(s=hn||En(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=dn(l):l=ht(t,l=pt(n)?ft:ct.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&kn(t,o,r,l),hn=!1,f=t.memoizedState,o.state=f,bn(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||dt.current||hn?("function"===typeof h&&(Sn(t,n,h,r),p=t.memoizedState),(u=hn||En(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Gi(e,t,n,r,a,i)}function Gi(e,t,n,r,i,a){Hi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&xt(t,n,!1),ia(e,t,a);r=t.stateNode,Ii.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ui(e,t,s,a),t.memoizedState=r.state,i&&xt(t,n,!0),t.child}function Xi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),fr(e,t.containerInfo)}function qi(e,t,n,r,i){return Qn(),er(i),t.flags|=256,Ui(e,t,n,r),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Zi(e){return{baseLanes:e,cachePool:null}}function Ki(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(mr,1&a),null===e)return Kn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ue(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zi(n),t.memoizedState=Yi,e):Ji(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Zi(n),t.memoizedState=Yi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ue(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=Ya)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}Do(),t=ea(e,t,n,Error(o(421)))}else De(r)?(t.flags|=128,t.child=e.child,t=Yo.bind(null,e),Fe(r,t),t=null):(n=a.treeContext,K&&(Vn=He(r),Hn=t,Wn=!0,Xn=null,Gn=!1,null!==n&&(Ln[On++]=Dn,Ln[On++]=Un,Ln[On++]=In,Dn=n.id,Un=n.overflow,In=t)),(t=Ji(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Qi(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Zi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Qi(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Zi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}function Ji(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Qi(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ui(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Bn(t),t.tag){case 1:return pt(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return hr(),st(dt),st(ct),xr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Qn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return hr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return No(),null;default:return null}}var oa=!1,sa=!1,la="function"===typeof WeakSet?WeakSet:Set,ua=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Go(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Go(e,t,r)}}var fa=!1;function ha(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&da(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=L(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Wt&&"function"===typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Vt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&da(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Go(t,n,o)}break;case 5:ca(t,n);break;case 4:Y?Ma(e,t,n):Z&&Z&&(t=t.stateNode.containerInfo,n=ke(t),Pe(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||Y&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xa(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _a(e){if(Y){e:{for(var t=e.return;null!==t;){if(xa(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),Sa(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,wa(e,n=ba(e),t);break;default:throw Error(o(161))}}}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ma(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?xe(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Ke(r,a.stateNode):Ze(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void he(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo));case 13:case 19:return void Ta(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ta(t);case 3:K&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo)}e:if(Z){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Pe(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ta(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var r=Zo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ka(e,t,n){ua=e,Ca(e,t,n)}function Ca(e,t,n){for(var r=0!==(1&e.mode);null!==ua;){var i=ua,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||sa;s=oa;var u=sa;if(oa=o,(sa=l)&&!u)for(ua=i;null!==ua;)l=(o=ua).child,22===o.tag&&null!==o.memoizedState?Ra(i):null!==l?(l.return=o,ua=l):Ra(i);for(;null!==a;)ua=a,Ca(a,t,n),a=a.sibling;ua=i,oa=s,sa=u}Aa(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,ua=a):Aa(e)}}function Aa(e){for(;null!==ua;){var t=ua;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&_n(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=L(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(K&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(f){Go(t,t.return,f)}}if(t===e){ua=null;break}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}function Pa(e){for(;null!==ua;){var t=ua;if(t===e){ua=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ua=n;break}ua=t.return}}function Ra(e){for(;null!==ua;){var t=ua;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(l){Go(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Go(t,i,l)}}var a=t.return;try{va(t)}catch(l){Go(t,a,l)}break;case 5:var o=t.return;try{va(t)}catch(l){Go(t,o,l)}}}catch(l){Go(t,t.return,l)}if(t===e){ua=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ua=s;break}ua=t.return}}var Na=0,La=1,Oa=2,Ia=3,Da=4;if("function"===typeof Symbol&&Symbol.for){var Ua=Symbol.for;Na=Ua("selector.component"),La=Ua("selector.has_pseudo_class"),Oa=Ua("selector.role"),Ia=Ua("selector.test_id"),Da=Ua("selector.text")}function Fa(e){var t=J(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function za(e,t){switch(t.$$typeof){case Na:if(e.type===t.value)return!0;break;case La:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&za(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Oa:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Ia:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ja(e){switch(e.$$typeof){case Na:return"<"+(S(e.value)||"Unknown")+">";case La:return":has("+(ja(e)||"")+")";case Oa:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Ia:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ba(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&za(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!re)throw Error(o(363));e=Ba(e=Fa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,Wa=s.ReactCurrentDispatcher,Ga=s.ReactCurrentOwner,Xa=s.ReactCurrentBatchConfig,qa=0,Ya=null,Za=null,Ka=0,Ja=0,$a=ot(0),Qa=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function lo(){so=Ft()+500}var uo,co=!1,fo=null,ho=null,po=!1,vo=null,mo=0,go=0,yo=null,xo=-1,bo=0;function _o(){return 0!==(6&qa)?Ft():-1!==xo?xo:xo=Ft()}function wo(e){return 0===(1&e.mode)?1:0!==(2&qa)&&0!==Ka?Ka&-Ka:null!==Jt.transition?(0===bo&&(e=St,0===(4194240&(St<<=1))&&(St=64),bo=e),bo):0!==(e=Nt)?e:Q()}function So(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=Mo(e,t);return null===r?null:(Pt(r,t,n),0!==(2&qa)&&r===Ya||(r===Ya&&(0===(2&qa)&&(no|=t),4===Qa&&Ao(r,Ka)),Eo(r,n),1===t&&0===qa&&0===(1&e.mode)&&(lo(),qt&&Kt())),r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bt(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=kt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Tt(e,e===Ya?Ka:0);if(0===r)null!==n&&It(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&It(n),1===t)0===e.tag?function(e){qt=!0,Zt(e)}(Po.bind(null,e)):Zt(Po.bind(null,e)),te?ne((function(){0===qa&&Kt()})):Ot(zt,Kt),n=null;else{switch(Lt(r)){case 1:n=zt;break;case 4:n=jt;break;case 16:default:n=Bt;break;case 536870912:n=Ht}n=Ko(n,To.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function To(e,t){if(xo=-1,bo=0,0!==(6&qa))throw Error(o(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Tt(e,e===Ya?Ka:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Uo(e,r);else{t=r;var i=qa;qa|=2;var a=Io();for(Ya===e&&Ka===t||(lo(),Lo(e,t));;)try{zo();break}catch(l){Oo(e,l)}on(),Wa.current=a,qa=i,null!==Za?t=0:(Ya=null,Ka=0,t=Qa)}if(0!==t){if(2===t&&(0!==(i=Ct(e))&&(r=i,t=ko(e,i))),1===t)throw n=eo,Lo(e,0),Ao(e,r),Eo(e,Ft()),n;if(6===t)Ao(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Uo(e,r))&&(0!==(a=Ct(e))&&(r=a,t=ko(e,a))),1===t))throw n=eo,Lo(e,0),Ao(e,r),Eo(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ho(e,ao);break;case 3:if(Ao(e,r),(130023424&r)===r&&10<(t=oo+500-Ft())){if(0!==Tt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Ho.bind(null,e,ao),t);break}Ho(e,ao);break;case 4:if(Ao(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-bt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=W(Ho.bind(null,e,ao),r);break}Ho(e,ao);break;default:throw Error(o(329))}}}return Eo(e,Ft()),e.callbackNode===n?To.bind(null,e):null}function ko(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=ao,ao=n,null!==t&&Co(t)),e}function Co(e){null===ao?ao=e:ao.push.apply(ao,e)}function Ao(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Po(e){if(0!==(6&qa))throw Error(o(327));Vo();var t=Tt(e,0);if(0===(1&t))return Eo(e,Ft()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=Ct(e);0!==r&&(t=r,n=ko(e,r))}if(1===n)throw n=eo,Lo(e,0),Ao(e,t),Eo(e,Ft()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,ao),Eo(e,Ft()),null}function Ro(e){null!==vo&&0===vo.tag&&0===(6&qa)&&Vo();var t=qa;qa|=1;var n=Xa.transition,r=Nt;try{if(Xa.transition=null,Nt=1,e)return e()}finally{Nt=r,Xa.transition=n,0===(6&(qa=t))&&Kt()}}function No(){Ja=$a.current,st($a)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==X&&(e.timeoutHandle=X,G(n)),null!==Za)for(n=Za.return;null!==n;){var r=n;switch(Bn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:hr(),st(dt),st(ct),xr();break;case 5:vr(r);break;case 4:hr();break;case 13:case 19:st(mr);break;case 10:ln(r.type._context);break;case 22:case 23:No()}n=n.return}if(Ya=e,Za=e=es(e.current,null),Ka=Ja=t,Qa=0,eo=null,ro=no=to=0,ao=io=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}fn=null}return e}function Oo(e,t){for(;;){var n=Za;try{if(on(),br.current=hi,Tr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Tr=!1}if(wr=0,Er=Mr=Sr=null,kr=!1,Cr=0,Ga.current=null,null===n||null===n.return){Qa=1,eo=t,Za=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Ka,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ki(s);if(null!==p){p.flags&=-257,Ci(p,s,l,0,t),1&p.mode&&Ti(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){Ti(a,c,t),Do();break e}u=Error(o(426))}else if(Wn&&1&l.mode){var g=ki(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ci(g,s,l,0,t),er(u);break e}}a=u,4!==Qa&&(Qa=2),null===io?io=[a]:io.push(a),u=gi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,xn(l,Mi(0,u,t));break e;case 1:a=u;var y=l.type,x=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ho||!ho.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t,xn(l,Ei(l,a,t));break e}}l=l.return}while(null!==l)}Bo(n)}catch(b){t=b,Za===n&&null!==n&&(Za=n=n.return);continue}break}}function Io(){var e=Wa.current;return Wa.current=hi,null===e?hi:e}function Do(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===Ya||0===(268435455&to)&&0===(268435455&no)||Ao(Ya,Ka)}function Uo(e,t){var n=qa;qa|=2;var r=Io();for(Ya===e&&Ka===t||Lo(e,t);;)try{Fo();break}catch(i){Oo(e,i)}if(on(),qa=n,Wa.current=r,null!==Za)throw Error(o(261));return Ya=null,Ka=0,Qa}function Fo(){for(;null!==Za;)jo(Za)}function zo(){for(;null!==Za&&!Dt();)jo(Za)}function jo(e){var t=uo(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,null===t?Bo(e):Za=t,Ga.current=null}function Bo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Oi(n,t,Ja)))return void(Za=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Za=n);if(null===e)return Qa=6,void(Za=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Za=t);Za=t=e}while(null!==t);0===Qa&&(Qa=5)}function Ho(e,t){var n=Nt,r=Xa.transition;try{Xa.transition=null,Nt=1,function(e,t,n){do{Vo()}while(null!==vo);if(0!==(6&qa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ya&&(Za=Ya=null,Ka=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Ko(Bt,(function(){return Vo(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Xa.transition,Xa.transition=null;var s=Nt;Nt=1;var l=qa;qa|=4,Ga.current=null,function(e,t){for(D(e.containerInfo),ua=t;null!==ua;)if(t=(e=ua).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ua=t;else for(;null!==ua;){e=ua;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Go(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ua=t;break}ua=e.return}n=fa,fa=!1}(e,r),function(e,t){for(ua=t;null!==ua;){var n=(t=ua).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Y?Ma(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(_){Go(i,t,_)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,ua=n;else for(;null!==ua;){t=ua;try{var s=t.flags;if(32&s&&Y&&be(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ft())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,Y)e:if(r=n,i=d,a=null,Y)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var v=p.stateNode;i?_e(v):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var m=p.stateNode;i?we(m):Me(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!h&&0!==(1&n.mode)){ua=n;for(var g=n.child;null!==g;){for(n=ua=g;null!==ua;){var y=(r=ua).child;switch(r.tag){case 0:case 11:case 14:case 15:ha(4,r,r.return);break;case 1:ca(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var b=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(_){Go(r,b,_)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==y?(y.return=r,ua=y):Pa(n)}g=g.sibling}}}switch(4102&s){case 2:_a(t),t.flags&=-3;break;case 6:_a(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(_){Go(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}}(e,r),U(e.containerInfo),e.current=r,ka(r,e,i),Ut(),qa=l,Nt=s,Xa.transition=a}else e.current=r;if(po&&(po=!1,vo=e,mo=i),a=e.pendingLanes,0===a&&(ho=null),function(e){if(Wt&&"function"===typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Eo(e,Ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Vo(),a=e.pendingLanes,0!==(1&a)?e===yo?go++:(go=0,yo=e):go=0,Kt()}(e,t,n)}finally{Xa.transition=r,Nt=n}return null}function Vo(){if(null!==vo){var e=Lt(mo),t=Xa.transition,n=Nt;try{if(Xa.transition=null,Nt=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&qa))throw Error(o(331));var i=qa;for(qa|=4,ua=e.current;null!==ua;){var a=ua,s=a.child;if(0!==(16&ua.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ua=c;null!==ua;){var d=ua;switch(d.tag){case 0:case 11:case 15:ha(8,d,a)}var f=d.child;if(null!==f)f.return=d,ua=f;else for(;null!==ua;){var h=(d=ua).sibling,p=d.return;if(ya(d),d===c){ua=null;break}if(null!==h){h.return=p,ua=h;break}ua=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ua=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ua=s;else e:for(;null!==ua;){if(0!==(2048&(a=ua).flags))switch(a.tag){case 0:case 11:case 15:ha(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ua=y;break e}ua=a.return}}var x=e.current;for(ua=x;null!==ua;){var b=(s=ua).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,ua=b;else e:for(s=x;null!==ua;){if(0!==(2048&(l=ua).flags))try{switch(l.tag){case 0:case 11:case 15:pa(9,l)}}catch(w){Go(l,l.return,w)}if(l===s){ua=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,ua=_;break e}ua=l.return}}if(qa=i,Kt(),Wt&&"function"===typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Vt,e)}catch(w){}r=!0}return r}finally{Nt=n,Xa.transition=t}}return!1}function Wo(e,t,n){gn(e,t=Mi(0,t=gi(n,t),1)),t=_o(),null!==(e=Mo(e,1))&&(Pt(e,1,t),Eo(e,t))}function Go(e,t,n){if(3===e.tag)Wo(e,e,n);else for(;null!==t;){if(3===t.tag){Wo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ho||!ho.has(r))){gn(t,e=Ei(t,e=gi(n,e),1)),e=_o(),null!==(t=Mo(t,1))&&(Pt(t,1,e),Eo(t,e));break}}t=t.return}}function Xo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,Ya===e&&(Ka&n)===n&&(4===Qa||3===Qa&&(130023424&Ka)===Ka&&500>Ft()-oo?Lo(e,0):ro|=n),Eo(e,t)}function qo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Mt,0===(130023424&(Mt<<=1))&&(Mt=4194304)));var n=_o();null!==(e=Mo(e,t))&&(Pt(e,t,n),Eo(e,n))}function Yo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function Zo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),qo(e,n)}function Ko(e,t){return Ot(e,t)}function Jo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(e,t,n,r){return new Jo(e,t,n,r)}function Qo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=$o(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Qo(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case d:s=8,i|=8;break;case f:return(e=$o(12,n,t,2|i)).elementType=f,e.lanes=a,e;case m:return(e=$o(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=$o(19,n,t,i)).elementType=g,e.lanes=a,e;case b:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case v:s=11;break e;case y:s=14;break e;case x:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=$o(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=$o(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=$o(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=$o(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=$o(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=X,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=r,this.onRecoverableError=i,K&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,l){return e=new os(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=$o(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ls(e){if(!e)return ut;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return gt(e,n,t)}return t}function us(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=C(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function fs(e){return null===(e=C(e))?null:e.stateNode}function hs(){return null}return uo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Di=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:Xi(t),Qn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ki(e,t,n):(lt(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);lt(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return ia(e,t,n)}(e,t,n);Di=0!==(131072&e.flags)}else Di=!1,Wn&&0!==(1048576&t.flags)&&zn(t,Nn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ht(t,ct.current);cn(t,n),i=Nr(null,t,r,e,i,n);var a=Lr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Mn,t.stateNode=i,i._reactInternals=t,Cn(t,r,e,n),t=Gi(null,t,r,!0,a,n)):(t.tag=0,Wn&&a&&jn(t),Ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Qo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=zi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Xi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),bn(t,r,null,n);var s=t.memoizedState;if(r=s.element,K&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=qi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(o(424)));break e}for(K&&(Vn=Be(t.stateNode.containerInfo),Hn=t,Wn=!0,Xn=null,Gn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qn(),r===i){t=ia(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Kn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,H(r,i)?s=null:null!==a&&H(r,a)&&(t.flags|=32),Hi(e,t),Ui(e,t,s,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return Ki(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Gt(a.value,s)){if(a.children===i.children&&!dt.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),un(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=dn(i)),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),zi(e,t,r,i=en(r.type,i),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Tn(t,r,i),Cn(t,r,i,n),Gi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Bi(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,_o()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=_o(),n=wo(e);So(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Rt(t,1|n),Eo(t,Ft()),0===(6&qa)&&(lo(),Kt()))}break;case 13:var r=_o();Ro((function(){return So(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(lo(),qt&&Kt())}},t.createComponentSelector=function(e){return{$$typeof:Na,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:La,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=ss(n,r,!0,e,0,a,0,s,l)).context=ls(null),n=e.current,(a=mn(r=_o(),i=wo(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,Pt(e,i,r),Eo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Oa,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ia,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=Nt,n=Xa.transition;try{return Xa.transition=null,Nt=16,e()}finally{Nt=t,Xa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Nt,o=Xa.transition;try{return Xa.transition=null,Nt=1,e(t,n,r,i)}finally{Nt=a,Xa.transition=o,0===qa&&lo()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&a>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<a||f>s)){f>a&&(u.height+=f-a,u.y=a),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(a!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=us,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=k(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return us(e)},t.flushControlled=function(e){var t=qa;qa|=1;var n=Xa.transition,r=Nt;try{Xa.transition=null,Nt=1,e()}finally{Nt=r,Xa.transition=n,0===(qa=t)&&(lo(),Kt())}},t.flushPassiveEffects=Vo,t.flushSync=Ro,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ba(e=Fa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Nt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Fa(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!se(a))&&(za(a,l)&&(r.push(ja(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ja(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?L(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:fs,findFiberByHostInstance:e.findFiberByHostInstance||hs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Ha(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=_o(),o=wo(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},4585:function(e,t,n){"use strict";e.exports=n(4976)},258:function(e,t,n){"use strict";e.exports=n(3721)},5783:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,L(w);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=h;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,E=null,T=-1,k=5,C=-1;function A(){return!(t.unstable_now()-C<k)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(M=!1,E=null)}}else M=!1}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){g(P,0)};function L(e){E=e,M||(M=!0,S())}function O(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(T),T=-1):m=!0,O(_,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,L(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3100:function(e,t,n){"use strict";e.exports=n(5783)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case v:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},8436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(2791)),a=s(n(1694)),o=n(8026);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var b=function(e){v(n,e);var t=g(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,c(c({},n),r)):i.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=b;var _=function(e){v(n,e);var t=g(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,c(c({},n),r)):i.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=_},5484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},3800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(2791)),a=s(n(1694)),o=n(8026);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(p,e);var t,n,r,s=h(p);function p(){return c(this,p),s.apply(this,arguments)}return t=p,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,c=t.infinite,d=t.slidesToScroll,f=t.slidesToShow,h=t.slideCount,p=t.currentSlide,v=(e={slideCount:h,slidesToScroll:d,slidesToShow:f,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],y=0;y<v;y++){var x=(y+1)*d-1,b=c?x:(0,o.clamp)(x,0,h-1),_=b-(d-1),w=c?_:(0,o.clamp)(_,0,h-1),S=(0,a.default)({"slick-active":c?p>=w&&p<=b:p===w}),M={message:"dots",index:y,slidesToScroll:d,currentSlide:p},E=this.clickHandler.bind(this,M);g=g.concat(i.default.createElement("li",{key:y,className:S},i.default.cloneElement(this.props.customPaging(y),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},m))}}],n&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(i.default.PureComponent);t.Dots=m},5717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(3178))&&r.__esModule?r:{default:r}).default;t.Z=i},1382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},8293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=f(n(2791)),i=f(n(1382)),a=f(n(5095)),o=f(n(1694)),s=n(8026),l=n(4931),u=n(3800),c=n(8436),d=f(n(474));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(_,e);var t,n,f,m=b(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),M(w(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),M(w(t),"trackRefHandler",(function(e){return t.track=e})),M(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),M(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),M(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),M(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),M(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),M(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Boolean(t.track&&t.track.node);if(n){var r=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(r,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),M(w(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=g(g(g({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:o});var l=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=l),t.setState(a,i)})),M(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<a;l++)n+=i[i.length-1-l],e+=i[i.length-1-l];for(var u=0;u<o;u++)e+=i[u];for(var c=0;c<t.state.currentSlide;c++)n+=i[c];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var f="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(f,") / 2 ) ")}return{trackStyle:d}}var h=r.default.Children.count(t.props.children),p=g(g(g({},t.props),t.state),{},{slideCount:h}),v=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+h,m=100/t.props.slidesToShow*v,y=100/v,x=-y*((0,s.getPreClones)(p)+t.state.currentSlide)*m/100;return t.props.centerMode&&(x+=(100-y*m/100)/2),{slideWidth:y+"%",trackStyle:{width:m+"%",left:x+"%"}}})),M(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),M(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),M(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,l=r.speed,u=r.afterChange,c=t.state.currentSlide,d=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),f=d.state,h=d.nextState;if(f){a&&a(c,f.currentSlide);var p=f.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),u&&u(c),delete t.animationEndCallback),t.setState(f,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),h&&(t.animationEndCallback=setTimeout((function(){var e=h.animating,n=v(h,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),u&&u(f.currentSlide),delete t.animationEndCallback}))}),l))}))}})),M(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),M(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),M(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),M(w(t),"selectHandler",(function(e){t.changeSlide(e)})),M(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),M(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),M(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),M(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),M(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),M(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),M(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),M(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),M(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),M(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),M(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),M(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),M(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),M(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),M(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),M(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),M(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),M(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),M(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=g(g({},t.props),t.state),f=(0,s.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),h=t.props.pauseOnHover;if(f=g(g({},f),{},{onMouseEnter:h?t.onTrackOver:null,onMouseLeave:h?t.onTrackLeave:null,onMouseOver:h?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;v=g(g({},v),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=r.default.createElement(u.Dots,v)}var y=(0,s.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(c.PrevArrow,y),i=r.default.createElement(c.NextArrow,y));var x=null;t.props.vertical&&(x={height:t.state.listHeight});var b=null;!1===t.props.vertical?!0===t.props.centerMode&&(b={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(b={padding:t.props.centerPadding+" 0px"});var _=g(g({},x),b),w=t.props.touchMove,S={className:"slick-list",style:_,onClick:t.clickHandler,onMouseDown:w?t.swipeStart:null,onMouseMove:t.state.dragging&&w?t.swipeMove:null,onMouseUp:w?t.swipeEnd:null,onMouseLeave:t.state.dragging&&w?t.swipeEnd:null,onTouchStart:w?t.swipeStart:null,onTouchMove:t.state.dragging&&w?t.swipeMove:null,onTouchEnd:w?t.touchEnd:null,onTouchCancel:t.state.dragging&&w?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},M={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},M={className:a}),r.default.createElement("div",M,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},S),r.default.createElement(l.Track,p({ref:t.trackRefHandler},f),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==h(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),f&&y(t,f),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component);t.InnerSlider=E},3178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(2791)),a=n(8293),o=u(n(5477)),s=u(n(5484)),l=n(8026);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,l.canUseDOM)()&&n(8153),_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,r,u=v(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),x(g(t=u.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),x(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),x(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),x(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),x(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),x(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,l.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":f(f(f({},s.default),this.props),t[0].settings):f(f({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],l=null,u=0;u<r.length;u+=e.rows*e.slidesPerRow){for(var d=[],h=u;h<u+e.rows*e.slidesPerRow;h+=e.slidesPerRow){for(var p=[],v=h;v<h+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(l=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*u+10*h+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));d.push(i.default.createElement("div",{key:10*u+h},p))}e.variableWidth?o.push(i.default.createElement("div",{key:u,style:{width:l}},d)):o.push(i.default.createElement("div",{key:u},d))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:m},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.Component);t.default=_},4931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=s(n(2791)),a=s(n(1694)),o=n(8026);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},b=function(e,t){return e.key||t},_=function(e){var t,n=[],r=[],s=[],l=i.default.Children.count(e.children),u=(0,o.lazyStartIndex)(e),c=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(d,f){var h,p={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};h=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?d:i.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:f})),m=h.props.className||"",y=x(g(g({},e),{},{index:f}));if(n.push(i.default.cloneElement(h,{key:"original"+b(h,f),"data-index":f,className:(0,a.default)(y,m),tabIndex:"-1","aria-hidden":!y["slick-active"],style:g(g({outline:"none"},h.props.style||{}),v),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var _=l-f;_<=(0,o.getPreClones)(e)&&l!==e.slidesToShow&&((t=-_)>=u&&(h=d),y=x(g(g({},e),{},{index:t})),r.push(i.default.cloneElement(h,{key:"precloned"+b(h,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(y,m),"aria-hidden":!y["slick-active"],style:g(g({},h.props.style||{}),v),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),l!==e.slidesToShow&&((t=l+f)<c&&(h=d),y=x(g(g({},e),{},{index:t})),s.push(i.default.cloneElement(h,{key:"postcloned"+b(h,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(y,m),"aria-hidden":!y["slick-active"],style:g(g({},h.props.style||{}),v),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;u(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=a.call.apply(a,[this].concat(n))),"node",null),y(p(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=_(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=w},8026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=l,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return Math.max(t,Math.min(e,n))}var u=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=u;var c=function(e){for(var t=[],n=d(e),r=f(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=c;t.getRequiredLazySlides=function(e){for(var t=[],n=d(e),r=f(e),i=n;i<r;i++)t.push(i);return t};var d=function(e){return e.currentSlide-h(e)};t.lazyStartIndex=d;var f=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=f;var h=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=h;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var g=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var y=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=y;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,l=Math.ceil(v(s));if(e.vertical)t=a;else{var u=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(u*=a/100),t=Math.ceil((a-u)/e.slidesToShow)}var d=r&&m(r.querySelector('[data-index="0"]')),f=d*e.slidesToShow,h=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(h=n-1-e.initialSlide);var p=e.lazyLoadedList||[],g=c(o(o({},e),{},{currentSlide:h,lazyLoadedList:p})),y={slideCount:n,slideWidth:t,listWidth:a,trackWidth:l,currentSlide:h,slideHeight:d,listHeight:f,lazyLoadedList:p=p.concat(g)};return null===e.autoplaying&&e.autoplay&&(y.autoplaying="playing"),y};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,u=e.lazyLoad,d=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var g,x,b,_=a,w={},T={},k=i?a:l(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?_=a+s:a>=s&&(_=a-s),u&&m.indexOf(_)<0&&(m=m.concat(_)),w={animating:!0,currentSlide:_,lazyLoadedList:m,targetSlide:_},T={animating:!1,targetSlide:_}}else g=_,_<0?(g=_+s,i?s%h!==0&&(g=s-s%h):g=0):!y(e)&&_>d?_=g=d:f&&_>=s?(_=i?s:s-1,g=i?0:s-1):_>=s&&(g=_-s,i?s%h!==0&&(g=0):g=s-p),!i&&_+p>=s&&(g=s-p),x=E(o(o({},e),{},{slideIndex:_})),b=E(o(o({},e),{},{slideIndex:g})),i||(x===b&&(_=g),x=b),u&&(m=m.concat(c(o(o({},e),{},{currentSlide:_})))),v?(w={animating:!0,currentSlide:g,trackStyle:M(o(o({},e),{},{left:x})),lazyLoadedList:m,targetSlide:k},T={animating:!1,currentSlide:g,trackStyle:S(o(o({},e),{},{left:b})),swipeLeft:null,targetSlide:k}):w={currentSlide:g,trackStyle:S(o(o({},e),{},{left:b})),lazyLoadedList:m,targetSlide:k};return{state:w,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,l=e.slidesToShow,u=e.slideCount,c=e.currentSlide,d=e.targetSlide,f=e.lazyLoad,h=e.infinite;if(n=u%s!==0?0:(u-c)%s,"previous"===t.message)a=c-(i=0===n?s:l-n),f&&!h&&(a=-1===(r=c-i)?u-1:r),h||(a=d-s);else if("next"===t.message)a=c+(i=0===n?s:n),f&&!h&&(a=(c+s)%u+n),h||(a=d+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,h){var p=A(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=u:a<t.currentSlide&&"right"===p&&(a+=u)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&u(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,l=t.rtl,c=t.currentSlide,d=t.edgeFriction,f=t.edgeDragged,h=t.onEdge,p=t.swiped,v=t.swiping,m=t.slideCount,x=t.slidesToScroll,b=t.infinite,_=t.touchObject,w=t.swipeEvent,M=t.listHeight,T=t.listWidth;if(!n){if(r)return u(e);i&&a&&s&&u(e);var k,C={},A=E(t);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var P=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!s&&!v&&P>10)return{scrolling:!0};s&&(_.swipeLength=P);var R=(l?-1:1)*(_.curX>_.startX?1:-1);s&&(R=_.curY>_.startY?1:-1);var N=Math.ceil(m/x),L=g(t.touchObject,s),O=_.swipeLength;return b||(0===c&&("right"===L||"down"===L)||c+1>=N&&("left"===L||"up"===L)||!y(t)&&("left"===L||"up"===L))&&(O=_.swipeLength*d,!1===f&&h&&(h(L),C.edgeDragged=!0)),!p&&w&&(w(L),C.swiped=!0),k=i?A+O*(M/T)*R:l?A-O*R:A+O*R,s&&(k=A+O*R),C=o(o({},C),{},{touchObject:_,swipeLeft:k,trackStyle:S(o(o({},t),{},{left:k}))}),Math.abs(_.curX-_.startX)<.8*Math.abs(_.curY-_.startY)?C:(_.swipeLength>10&&(C.swiping=!0,u(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,d=t.swipeToSlide,f=t.scrolling,h=t.onSwipe,p=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&u(e),{};var y=l?c/s:a/s,x=g(i,l),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f)return w;if(!i.swipeLength)return w;if(i.swipeLength>y){var S,T;u(e),h&&h(x);var k=m?v:p;switch(x){case"left":case"up":T=k+_(t),S=d?b(t,T):T,w.currentDirection=0;break;case"right":case"down":T=k-_(t),S=d?b(t,T):T,w.currentDirection=1;break;default:S=k}w.triggerSlideHandler=S}else{var C=E(t);w.trackStyle=M(o(o({},t),{},{left:C}))}return w};var x=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=x;var b=function(e,t){var n=x(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=b;var _=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+m(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=_;var w=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=w;var S=function(e){var t,n;w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:l})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=S;var M=function(e){w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=M;var E=function(e){if(e.unslick)return 0;w(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,l=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,f=e.variableWidth,h=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(a?(m=-T(e),s%u!==0&&r+u>s&&(m=-(r>s?l-(r-s):s%u)),o&&(m+=parseInt(l/2))):(s%u!==0&&r+u>s&&(m=l-s%u),o&&(m=parseInt(l/2))),t=v?r*h*-1+m*h:r*c*-1+m*c,!0===f){var g,y=i&&i.node;if(g=r+T(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===o){g=a?r+T(e):r,n=y&&y.children[g],t=0;for(var x=0;x<g;x++)t-=y&&y.children[x]&&y.children[x].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var k=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=k;var C=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+k(e)};t.getTotalSlides=C;var A=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+P(e)?"left":"right":e.targetSlide<e.currentSlide-R(e)?"right":"left"};t.siblingDirection=A;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=P;var R=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=R;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,v(b,g.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!M.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,_(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var u=0;u<e.length;u++){var c=a+C(s=e[u],u);l+=A(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,c=a+C(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},L={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!M.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},3329:function(e,t,n){"use strict";e.exports=n(6374)},3315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(184))&&r.__esModule?r:{default:r}},184:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},5752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(3315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function s(){o(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=h(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=h(r.width),l=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(l+o)!==n&&(l-=p(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return y(i.left,i.top,s,l)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):v(e):f}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var x=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return c(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);c(this,{target:e,contentRect:n})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new x(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new _(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var M="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:S;t.default=M},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,L(w);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=h;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,E=null,T=-1,k=5,C=-1;function A(){return!(t.unstable_now()-C<k)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(M=!1,E=null)}}else M=!1}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){g(P,0)};function L(e){E=e,M||(M=!0,S())}function O(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(T),T=-1):m=!0,O(_,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,L(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},2806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return Yp},AddEquation:function(){return hp},AddOperation:function(){return Vp},AdditiveAnimationBlendMode:function(){return Nm},AdditiveBlending:function(){return up},AgXToneMapping:function(){return Kp},AlphaFormat:function(){return Rv},AlwaysCompare:function(){return mg},AlwaysDepth:function(){return Op},AlwaysStencilFunc:function(){return lg},AmbientLight:function(){return wE},AnimationAction:function(){return fT},AnimationClip:function(){return WM},AnimationLoader:function(){return eE},AnimationMixer:function(){return pT},AnimationObjectGroup:function(){return dT},AnimationUtils:function(){return RM},ArcCurve:function(){return Gw},ArrayCamera:function(){return BE},ArrowHelper:function(){return sk},AttachedBindMode:function(){return $p},Audio:function(){return ZE},AudioAnalyser:function(){return tT},AudioContext:function(){return IE},AudioListener:function(){return YE},AudioLoader:function(){return DE},AxesHelper:function(){return lk},BackSide:function(){return ap},BasicDepthPacking:function(){return Dm},BasicShadowMap:function(){return ep},BatchedMesh:function(){return hw},Bone:function(){return A_},BooleanKeyframeTrack:function(){return UM},Box2:function(){return CT},Box3:function(){return Ey},Box3Helper:function(){return ik},BoxGeometry:function(){return Lb},BoxHelper:function(){return rk},BufferAttribute:function(){return nb},BufferGeometry:function(){return xb},BufferGeometryLoader:function(){return AE},ByteType:function(){return bv},Cache:function(){return XM},Camera:function(){return jb},CameraHelper:function(){return $T},CanvasTexture:function(){return Bw},CapsuleGeometry:function(){return fS},CatmullRomCurve3:function(){return Jw},CineonToneMapping:function(){return qp},CircleGeometry:function(){return hS},ClampToEdgeWrapping:function(){return sv},Clock:function(){return HE},Color:function(){return Wx},ColorKeyframeTrack:function(){return FM},ColorManagement:function(){return ay},CompressedArrayTexture:function(){return zw},CompressedCubeTexture:function(){return jw},CompressedTexture:function(){return Fw},CompressedTextureLoader:function(){return tE},ConeGeometry:function(){return vS},ConstantAlphaFactor:function(){return Rp},ConstantColorFactor:function(){return Ap},Controls:function(){return ck},CubeCamera:function(){return Xb},CubeReflectionMapping:function(){return tv},CubeRefractionMapping:function(){return nv},CubeTexture:function(){return qb},CubeTextureLoader:function(){return rE},CubeUVReflectionMapping:function(){return av},CubicBezierCurve:function(){return tS},CubicBezierCurve3:function(){return nS},CubicInterpolant:function(){return LM},CullFaceBack:function(){return Jh},CullFaceFront:function(){return $h},CullFaceFrontBack:function(){return Qh},CullFaceNone:function(){return Kh},Curve:function(){return Vw},CurvePath:function(){return uS},CustomBlending:function(){return fp},CustomToneMapping:function(){return Zp},CylinderGeometry:function(){return pS},Cylindrical:function(){return ET},Data3DTexture:function(){return xy},DataArrayTexture:function(){return gy},DataTexture:function(){return P_},DataTextureLoader:function(){return iE},DataUtils:function(){return Qx},DecrementStencilOp:function(){return Jm},DecrementWrapStencilOp:function(){return Qm},DefaultLoadingManager:function(){return YM},DepthFormat:function(){return Dv},DepthStencilFormat:function(){return Uv},DepthTexture:function(){return Hw},DetachedBindMode:function(){return Qp},DirectionalLight:function(){return _E},DirectionalLightHelper:function(){return ZT},DiscreteInterpolant:function(){return IM},DodecahedronGeometry:function(){return gS},DoubleSide:function(){return op},DstAlphaFactor:function(){return Mp},DstColorFactor:function(){return Tp},DynamicCopyUsage:function(){return Mg},DynamicDrawUsage:function(){return yg},DynamicReadUsage:function(){return _g},EdgesGeometry:function(){return wS},EllipseCurve:function(){return Ww},EqualCompare:function(){return dg},EqualDepth:function(){return Up},EqualStencilFunc:function(){return rg},EquirectangularReflectionMapping:function(){return rv},EquirectangularRefractionMapping:function(){return iv},Euler:function(){return lx},EventDispatcher:function(){return Pg},ExtrudeGeometry:function(){return QS},FileLoader:function(){return QM},Float16BufferAttribute:function(){return cb},Float32BufferAttribute:function(){return db},FloatType:function(){return Ev},Fog:function(){return Kb},FogExp2:function(){return Zb},FramebufferTexture:function(){return Uw},FrontSide:function(){return ip},Frustum:function(){return Z_},GLBufferAttribute:function(){return xT},GLSL1:function(){return Tg},GLSL3:function(){return kg},GreaterCompare:function(){return hg},GreaterDepth:function(){return zp},GreaterEqualCompare:function(){return vg},GreaterEqualDepth:function(){return Fp},GreaterEqualStencilFunc:function(){return sg},GreaterStencilFunc:function(){return ag},GridHelper:function(){return WT},Group:function(){return Iw},HalfFloatType:function(){return Tv},HemisphereLight:function(){return sE},HemisphereLightHelper:function(){return VT},IcosahedronGeometry:function(){return tM},ImageBitmapLoader:function(){return OE},ImageLoader:function(){return nE},ImageUtils:function(){return ly},IncrementStencilOp:function(){return Km},IncrementWrapStencilOp:function(){return $m},InstancedBufferAttribute:function(){return O_},InstancedBufferGeometry:function(){return CE},InstancedInterleavedBuffer:function(){return yT},InstancedMesh:function(){return H_},Int16BufferAttribute:function(){return ob},Int32BufferAttribute:function(){return lb},Int8BufferAttribute:function(){return rb},IntType:function(){return Sv},InterleavedBuffer:function(){return $b},InterleavedBufferAttribute:function(){return e_},Interpolant:function(){return NM},InterpolateDiscrete:function(){return Em},InterpolateLinear:function(){return Tm},InterpolateSmooth:function(){return km},InvertStencilOp:function(){return eg},KeepStencilOp:function(){return Ym},KeyframeTrack:function(){return DM},LOD:function(){return y_},LatheGeometry:function(){return dS},Layers:function(){return ux},LessCompare:function(){return cg},LessDepth:function(){return Ip},LessEqualCompare:function(){return fg},LessEqualDepth:function(){return Dp},LessEqualStencilFunc:function(){return ig},LessStencilFunc:function(){return ng},Light:function(){return oE},LightProbe:function(){return EE},Line:function(){return ww},Line3:function(){return RT},LineBasicMaterial:function(){return pw},LineCurve:function(){return rS},LineCurve3:function(){return iS},LineDashedMaterial:function(){return EM},LineLoop:function(){return kw},LineSegments:function(){return Tw},LinearFilter:function(){return pv},LinearInterpolant:function(){return OM},LinearMipMapLinearFilter:function(){return yv},LinearMipMapNearestFilter:function(){return mv},LinearMipmapLinearFilter:function(){return gv},LinearMipmapNearestFilter:function(){return vv},LinearSRGBColorSpace:function(){return Wm},LinearToneMapping:function(){return Gp},LinearTransfer:function(){return Gm},Loader:function(){return ZM},LoaderUtils:function(){return kE},LoadingManager:function(){return qM},LoopOnce:function(){return wm},LoopPingPong:function(){return Mm},LoopRepeat:function(){return Sm},LuminanceAlphaFormat:function(){return Iv},LuminanceFormat:function(){return Ov},MOUSE:function(){return Yh},Material:function(){return qx},MaterialLoader:function(){return TE},MathUtils:function(){return Bg},Matrix2:function(){return TT},Matrix3:function(){return Vg},Matrix4:function(){return $y},MaxEquation:function(){return gp},Mesh:function(){return Rb},MeshBasicMaterial:function(){return Yx},MeshDepthMaterial:function(){return wM},MeshDistanceMaterial:function(){return SM},MeshLambertMaterial:function(){return _M},MeshMatcapMaterial:function(){return MM},MeshNormalMaterial:function(){return bM},MeshPhongMaterial:function(){return yM},MeshPhysicalMaterial:function(){return gM},MeshStandardMaterial:function(){return mM},MeshToonMaterial:function(){return xM},MinEquation:function(){return mp},MirroredRepeatWrapping:function(){return lv},MixOperation:function(){return Hp},MultiplyBlending:function(){return dp},MultiplyOperation:function(){return Bp},NearestFilter:function(){return uv},NearestMipMapLinearFilter:function(){return hv},NearestMipMapNearestFilter:function(){return dv},NearestMipmapLinearFilter:function(){return fv},NearestMipmapNearestFilter:function(){return cv},NeutralToneMapping:function(){return Jp},NeverCompare:function(){return ug},NeverDepth:function(){return Lp},NeverStencilFunc:function(){return tg},NoBlending:function(){return sp},NoColorSpace:function(){return Hm},NoToneMapping:function(){return Wp},NormalAnimationBlendMode:function(){return Rm},NormalBlending:function(){return lp},NotEqualCompare:function(){return pg},NotEqualDepth:function(){return jp},NotEqualStencilFunc:function(){return og},NumberKeyframeTrack:function(){return zM},Object3D:function(){return Ex},ObjectLoader:function(){return PE},ObjectSpaceNormalMap:function(){return Bm},OctahedronGeometry:function(){return nM},OneFactor:function(){return xp},OneMinusConstantAlphaFactor:function(){return Np},OneMinusConstantColorFactor:function(){return Pp},OneMinusDstAlphaFactor:function(){return Ep},OneMinusDstColorFactor:function(){return kp},OneMinusSrcAlphaFactor:function(){return Sp},OneMinusSrcColorFactor:function(){return _p},OrthographicCamera:function(){return xE},PCFShadowMap:function(){return tp},PCFSoftShadowMap:function(){return np},PMREMGenerator:function(){return jk},Path:function(){return cS},PerspectiveCamera:function(){return Wb},Plane:function(){return X_},PlaneGeometry:function(){return rM},PlaneHelper:function(){return ak},PointLight:function(){return yE},PointLightHelper:function(){return zT},Points:function(){return Lw},PointsMaterial:function(){return Cw},PolarGridHelper:function(){return GT},PolyhedronGeometry:function(){return mS},PositionalAudio:function(){return eT},PropertyBinding:function(){return cT},PropertyMixer:function(){return nT},QuadraticBezierCurve:function(){return aS},QuadraticBezierCurve3:function(){return oS},Quaternion:function(){return _y},QuaternionKeyframeTrack:function(){return BM},QuaternionLinearInterpolant:function(){return jM},RED_GREEN_RGTC2_Format:function(){return bm},RED_RGTC1_Format:function(){return ym},REVISION:function(){return qh},RGBADepthPacking:function(){return Um},RGBAFormat:function(){return Lv},RGBAIntegerFormat:function(){return Vv},RGBA_ASTC_10x10_Format:function(){return fm},RGBA_ASTC_10x5_Format:function(){return um},RGBA_ASTC_10x6_Format:function(){return cm},RGBA_ASTC_10x8_Format:function(){return dm},RGBA_ASTC_12x10_Format:function(){return hm},RGBA_ASTC_12x12_Format:function(){return pm},RGBA_ASTC_4x4_Format:function(){return tm},RGBA_ASTC_5x4_Format:function(){return nm},RGBA_ASTC_5x5_Format:function(){return rm},RGBA_ASTC_6x5_Format:function(){return im},RGBA_ASTC_6x6_Format:function(){return am},RGBA_ASTC_8x5_Format:function(){return om},RGBA_ASTC_8x6_Format:function(){return sm},RGBA_ASTC_8x8_Format:function(){return lm},RGBA_BPTC_Format:function(){return vm},RGBA_ETC2_EAC_Format:function(){return em},RGBA_PVRTC_2BPPV1_Format:function(){return Jv},RGBA_PVRTC_4BPPV1_Format:function(){return Kv},RGBA_S3TC_DXT1_Format:function(){return Gv},RGBA_S3TC_DXT3_Format:function(){return Xv},RGBA_S3TC_DXT5_Format:function(){return qv},RGBDepthPacking:function(){return Fm},RGBFormat:function(){return Nv},RGBIntegerFormat:function(){return Hv},RGB_BPTC_SIGNED_Format:function(){return mm},RGB_BPTC_UNSIGNED_Format:function(){return gm},RGB_ETC1_Format:function(){return $v},RGB_ETC2_Format:function(){return Qv},RGB_PVRTC_2BPPV1_Format:function(){return Zv},RGB_PVRTC_4BPPV1_Format:function(){return Yv},RGB_S3TC_DXT1_Format:function(){return Wv},RGDepthPacking:function(){return zm},RGFormat:function(){return jv},RGIntegerFormat:function(){return Bv},RawShaderMaterial:function(){return vM},Ray:function(){return Jy},Raycaster:function(){return _T},RectAreaLight:function(){return SE},RedFormat:function(){return Fv},RedIntegerFormat:function(){return zv},ReinhardToneMapping:function(){return Xp},RenderTarget:function(){return vy},RepeatWrapping:function(){return ov},ReplaceStencilOp:function(){return Zm},ReverseSubtractEquation:function(){return vp},RingGeometry:function(){return iM},SIGNED_RED_GREEN_RGTC2_Format:function(){return _m},SIGNED_RED_RGTC1_Format:function(){return xm},SRGBColorSpace:function(){return Vm},SRGBTransfer:function(){return Xm},Scene:function(){return Jb},ShaderChunk:function(){return gk},ShaderLib:function(){return xk},ShaderMaterial:function(){return zb},ShadowMaterial:function(){return pM},Shape:function(){return SS},ShapeGeometry:function(){return aM},ShapePath:function(){return uk},ShapeUtils:function(){return KS},ShortType:function(){return _v},Skeleton:function(){return L_},SkeletonHelper:function(){return UT},SkinnedMesh:function(){return C_},Source:function(){return cy},Sphere:function(){return Vy},SphereGeometry:function(){return oM},Spherical:function(){return MT},SphericalHarmonics3:function(){return ME},SplineCurve:function(){return sS},SpotLight:function(){return hE},SpotLightHelper:function(){return LT},Sprite:function(){return p_},SpriteMaterial:function(){return t_},SrcAlphaFactor:function(){return wp},SrcAlphaSaturateFactor:function(){return Cp},SrcColorFactor:function(){return bp},StaticCopyUsage:function(){return Sg},StaticDrawUsage:function(){return gg},StaticReadUsage:function(){return bg},StereoCamera:function(){return jE},StreamCopyUsage:function(){return Eg},StreamDrawUsage:function(){return xg},StreamReadUsage:function(){return wg},StringKeyframeTrack:function(){return HM},SubtractEquation:function(){return pp},SubtractiveBlending:function(){return cp},TOUCH:function(){return Zh},TangentSpaceNormalMap:function(){return jm},TetrahedronGeometry:function(){return sM},Texture:function(){return hy},TextureLoader:function(){return aE},TextureUtils:function(){return hk},TorusGeometry:function(){return lM},TorusKnotGeometry:function(){return uM},Triangle:function(){return zx},TriangleFanDrawMode:function(){return Im},TriangleStripDrawMode:function(){return Om},TrianglesDrawMode:function(){return Lm},TubeGeometry:function(){return cM},UVMapping:function(){return ev},Uint16BufferAttribute:function(){return sb},Uint32BufferAttribute:function(){return ub},Uint8BufferAttribute:function(){return ib},Uint8ClampedBufferAttribute:function(){return ab},Uniform:function(){return vT},UniformsGroup:function(){return gT},UniformsLib:function(){return yk},UniformsUtils:function(){return Fb},UnsignedByteType:function(){return xv},UnsignedInt248Type:function(){return Av},UnsignedInt5999Type:function(){return Pv},UnsignedIntType:function(){return Mv},UnsignedShort4444Type:function(){return kv},UnsignedShort5551Type:function(){return Cv},UnsignedShortType:function(){return wv},VSMShadowMap:function(){return rp},Vector2:function(){return Hg},Vector3:function(){return wy},Vector4:function(){return py},VectorKeyframeTrack:function(){return VM},VideoTexture:function(){return Dw},WebGL3DRenderTarget:function(){return by},WebGLArrayRenderTarget:function(){return yy},WebGLCoordinateSystem:function(){return Cg},WebGLCubeRenderTarget:function(){return Yb},WebGLMultipleRenderTargets:function(){return pk},WebGLRenderTarget:function(){return my},WebGLRenderer:function(){return JA},WebGLUtils:function(){return HA},WebGPUCoordinateSystem:function(){return Ag},WireframeGeometry:function(){return dM},WrapAroundEnding:function(){return Pm},ZeroCurvatureEnding:function(){return Cm},ZeroFactor:function(){return yp},ZeroSlopeEnding:function(){return Am},ZeroStencilOp:function(){return qm},createCanvasElement:function(){return Zg}});var t=n(2791),r=n.t(t,2),i=n(1250);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?c(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n;o(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return f(c(n=l(this,(e=u(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),f(c(n),"_unsubscribe",void 0),f(c(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&s(n.prototype,r),i&&s(n,i),t}(t.PureComponent);f(h,"defaultProps",{children:null,loading:null});var p=n(7248),v=n(327),m=n(4164);var g=function(e){e()},y=function(){return g},x=(0,t.createContext)(null);function b(){return(0,t.useContext)(x)}var _=function(){throw new Error("uSES not initialized!")},w=_,S=function(e,t){return e===t};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=e===x?b:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,l=w(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(l),l}}var E=M();n(2110),n(6900);var T={notify:function(){},get:function(){return[]}};function k(e,t){var n,r=T;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=y(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=T)},getListeners:function(){return r}};return o}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var A=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=k(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);C((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var l=r||x;return t.createElement(l.Provider,{value:o},i)};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=e===x?b:function(){return(0,t.useContext)(e)};return function(){return n().store}}var R=P();function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=e===x?R:P(e);return function(){return t().dispatch}}var L,O=N();function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function D(e){return!!e&&!!e[Ee]}function U(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Te}(e)||Array.isArray(e)||!!e[Me]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Me])||W(e)||G(e))}function F(e,t,n){void 0===n&&(n=!1),0===z(e)?(n?Object.keys:ke)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function z(e){var t=e[Ee];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:W(e)?2:G(e)?3:0}function j(e,t){return 2===z(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return 2===z(e)?e.get(t):e[t]}function H(e,t,n){var r=z(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function V(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function W(e){return be&&e instanceof Map}function G(e){return _e&&e instanceof Set}function X(e){return e.o||e.t}function q(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ce(e);delete t[Ee];for(var n=ke(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Y(e,t){return void 0===t&&(t=!1),K(e)||D(e)||!U(e)||(z(e)>1&&(e.set=e.add=e.clear=e.delete=Z),Object.freeze(e),t&&F(e,(function(e,t){return Y(t,!0)}),!0)),e}function Z(){I(2)}function K(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function J(e){var t=Ae[e];return t||I(18,e),t}function $(e,t){Ae[e]||(Ae[e]=t)}function Q(){return ye}function ee(e,t){t&&(J("Patches"),e.u=[],e.s=[],e.v=t)}function te(e){ne(e),e.p.forEach(ie),e.p=null}function ne(e){e===ye&&(ye=e.l)}function re(e){return ye={p:[],l:ye,h:e,m:!0,_:0}}function ie(e){var t=e[Ee];0===t.i||1===t.i?t.j():t.O=!0}function ae(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||J("ES5").S(t,e,r),r?(n[Ee].P&&(te(t),I(4)),U(e)&&(e=oe(t,e),t.l||le(t,e)),t.u&&J("Patches").M(n[Ee].t,e,t.u,t.s)):e=oe(t,n,[]),te(t),t.u&&t.v(t.u,t.s),e!==Se?e:void 0}function oe(e,t,n){if(K(t))return t;var r=t[Ee];if(!r)return F(t,(function(i,a){return se(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return le(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=q(r.k):r.o;F(3===r.i?new Set(i):i,(function(t,a){return se(e,r,i,t,a,n)})),le(e,i,!1),n&&e.u&&J("Patches").R(r,n,e.u,e.s)}return r.o}function se(e,t,n,r,i,a){if(D(i)){var o=oe(e,i,a&&t&&3!==t.i&&!j(t.D,r)?a.concat(r):void 0);if(H(n,r,o),!D(o))return;e.m=!1}if(U(i)&&!K(i)){if(!e.h.F&&e._<1)return;oe(e,i),t&&t.A.l||le(e,i)}}function le(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Y(t,n)}function ue(e,t){var n=e[Ee];return(n?X(n):e)[t]}function ce(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function de(e){e.P||(e.P=!0,e.l&&de(e.l))}function fe(e){e.o||(e.o=q(e.t))}function he(e,t,n){var r=W(t)?J("MapSet").N(t,n):G(t)?J("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Q(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Pe;n&&(i=[r],a=Re);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):J("ES5").J(t,n);return(n?n.A:Q()).p.push(r),r}function pe(e){return D(e)||I(22,e),function e(t){if(!U(t))return t;var n,r=t[Ee],i=z(t);if(r){if(!r.P&&(r.i<4||!J("ES5").K(r)))return r.t;r.I=!0,n=ve(t,i),r.I=!1}else n=ve(t,i);return F(n,(function(t,i){r&&B(r.t,t)===i||H(n,t,e(i))})),3===i?new Set(n):n}(e)}function ve(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return q(e)}function me(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ee];return Pe.get(t,e)},set:function(t){var n=this[Ee];Pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ee];if(!i.P)switch(i.i){case 5:r(i)&&de(i);break;case 4:n(i)&&de(i)}}}function n(e){for(var t=e.t,n=e.k,r=ke(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Ee){var o=t[a];if(void 0===o&&!j(t,a))return!0;var s=n[a],l=s&&s[Ee];if(l?l.t!==o:!V(s,o))return!0}}var u=!!t[Ee];return r.length!==ke(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};$("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Ce(n);delete a[Ee];for(var o=ke(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Q(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Ee,{value:a,writable:!0}),i},S:function(e,n,i){i?D(n)&&n[Ee].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ee];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)F(a,(function(t){t!==Ee&&(void 0!==i[t]||j(i,t)?o[t]||e(a[t]):(o[t]=!0,de(n)))})),F(i,(function(e){void 0!==a[e]||j(a,e)||(o[e]=!1,de(n))}));else if(5===s){if(r(n)&&(de(n),o.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)o[l]=!1;else for(var u=i.length;u<a.length;u++)o[u]=!0;for(var c=Math.min(a.length,i.length),d=0;d<c;d++)a.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){w=e}(v.useSyncExternalStoreWithSelector),function(e){e}(p.useSyncExternalStore),L=m.unstable_batchedUpdates,g=L;var ge,ye,xe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),be="undefined"!=typeof Map,_e="undefined"!=typeof Set,we="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Se=xe?Symbol.for("immer-nothing"):((ge={})["immer-nothing"]=!0,ge),Me=xe?Symbol.for("immer-draftable"):"__$immer_draftable",Ee=xe?Symbol.for("immer-state"):"__$immer_state",Te=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ke="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ce=Object.getOwnPropertyDescriptors||function(e){var t={};return ke(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ae={},Pe={get:function(e,t){if(t===Ee)return e;var n=X(e);if(!j(n,t))return function(e,t,n){var r,i=ce(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!U(r)?r:r===ue(e.t,t)?(fe(e),e.o[t]=he(e.A.h,r,e)):r},has:function(e,t){return t in X(e)},ownKeys:function(e){return Reflect.ownKeys(X(e))},set:function(e,t,n){var r=ce(X(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ue(X(e),t),a=null==i?void 0:i[Ee];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(V(n,i)&&(void 0!==n||j(e.t,t)))return!0;fe(e),de(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ue(e.t,t)||t in e.t?(e.D[t]=!1,fe(e),de(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=X(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){I(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){I(12)}},Re={};F(Pe,(function(e,t){Re[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Re.deleteProperty=function(e,t){return Re.set.call(this,e,t,void 0)},Re.set=function(e,t,n){return Pe.set.call(this,e[0],t,n,e[0])};var Ne=function(){function e(e){var t=this;this.g=we,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&I(6),void 0!==r&&"function"!=typeof r&&I(7),U(e)){var s=re(t),l=he(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?te(s):ne(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return ee(s,r),ae(e,s)}),(function(e){throw te(s),e})):(ee(s,r),ae(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Se&&(o=void 0),t.F&&Y(o,!0),r){var c=[],d=[];J("Patches").M(e,o,c,d),r(c,d)}return o}I(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){U(e)||I(8),D(e)&&(e=pe(e));var t=re(this),n=he(this,e,void 0);return n[Ee].C=!0,ne(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ee]).A;return ee(n,t),ae(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!we&&I(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=J("Patches").$;return D(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Le=new Ne,Oe=Le.produce,Ie=(Le.produceWithPatches.bind(Le),Le.setAutoFreeze.bind(Le),Le.setUseProxies.bind(Le),Le.applyPatches.bind(Le),Le.createDraft.bind(Le),Le.finishDraft.bind(Le),Oe);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ue(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function Fe(e,t,n){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var He="function"===typeof Symbol&&Symbol.observable||"@@observable",Ve=function(){return Math.random().toString(36).substring(7).split("").join(".")},We={INIT:"@@redux/INIT"+Ve(),REPLACE:"@@redux/REPLACE"+Ve(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ve()}};function Ge(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Xe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Be(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Be(1));return n(Xe)(e,t)}if("function"!==typeof e)throw new Error(Be(2));var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(Be(3));return a}function d(e){if("function"!==typeof e)throw new Error(Be(4));if(l)throw new Error(Be(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(Be(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!Ge(e))throw new Error(Be(7));if("undefined"===typeof e.type)throw new Error(Be(8));if(l)throw new Error(Be(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Be(10));i=e,f({type:We.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Be(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[He]=function(){return this},e}return f({type:We.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:h})[He]=p,r}function qe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:We.INIT}))throw new Error(Be(12));if("undefined"===typeof n(void 0,{type:We.PROBE_UNKNOWN_ACTION()}))throw new Error(Be(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],d=u(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Be(14))}i[l]=d,r=r||d!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Be(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ye.apply(void 0,a)(n.dispatch),je(je({},n),{},{dispatch:r})}}}function Ke(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Je=Ke();Je.withExtraArgument=Ke;var $e=Je,Qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},tt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},nt=Object.defineProperty,rt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,lt=function(e,t,n){return t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ut=function(e,t){for(var n in t||(t={}))ot.call(t,n)&&lt(e,n,t[n]);if(at)for(var r=0,i=at(t);r<i.length;r++){n=i[r];st.call(t,n)&&lt(e,n,t[n])}return e},ct=function(e,t){return rt(e,it(t))},dt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},ft="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ye:Ye.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ht(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var pt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,tt([void 0],e[0].concat(this)))):new(t.bind.apply(t,tt([void 0],e.concat(this))))},t}(Array);function vt(e){return U(e)?Ie(e,(function(){})):e}function mt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new pt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push($e.withExtraArgument(n.extraArgument)):r.push($e));0;return r}(e)}}function gt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return ut(ut({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function yt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var xt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},bt=["name","message","stack","code"],_t=function(e,t){this.payload=e,this.meta=t},wt=function(e,t){this.payload=e,this.meta=t},St=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=bt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=gt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:ct(ut({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=gt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:ct(ut({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=gt(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||St)(e||"Rejected"),meta:ct(ut({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,u){var c,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):xt(),f=new o;function h(e){c=e,f.abort()}var p=function(){return dt(this,null,(function(){var o,p,v,m,g,y;return et(this,(function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:u}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=x.sent(),x.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:u}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:d,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new _t(e,t)},fulfillWithValue:function(e,t){return new wt(e,t)}})).then((function(t){if(t instanceof _t)throw t;return t instanceof wt?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return v=x.sent(),[3,5];case 4:return y=x.sent(),v=y instanceof _t?a(null,d,e,y.payload,y.meta):a(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:h,requestId:d,arg:e,unwrap:function(){return p.then(Mt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Mt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Et="listenerMiddleware";gt(Et+"/add"),gt(Et+"/removeAll"),gt(Et+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Tt,kt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:kt(10);me();var Ct="persist:",At="persist/FLUSH",Pt="persist/REHYDRATE",Rt="persist/PAUSE",Nt="persist/PERSIST",Lt="persist/PURGE",Ot="persist/REGISTER";function It(e){return It="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(n,!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===It(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function zt(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:Ct).concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:jt;var l=e.writeFailHandler||null,u={},c={},d=[],f=null,h=null;function p(){if(0===d.length)return f&&clearInterval(f),void(f=null);var e=d.shift(),n=i.reduce((function(t,n){return n.in(t,e,u)}),u[e]);if(void 0!==n)try{c[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete c[e];0===d.length&&(Object.keys(c).forEach((function(e){void 0===u[e]&&delete c[e]})),h=s.setItem(o,t(c)).catch(m))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&u[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)})),Object.keys(u).forEach((function(t){void 0===e[t]&&v(t)&&-1===d.indexOf(t)&&void 0!==u[t]&&d.push(t)})),null===f&&(f=setInterval(p,a)),u=e},flush:function(){for(;0!==d.length;)p();return h||Promise.resolve()}}}function jt(e){return JSON.stringify(e)}function Bt(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:Ct).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:Ht,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function Ht(e){return JSON.parse(e)}function Vt(e){0}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(n,!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t={registry:[],bootstrapped:!1},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return Kt({},e,{registry:[].concat(Yt(e.registry),[t.key])});case Pt:var n=e.registry.indexOf(t.key),r=Yt(e.registry);return r.splice(n,1),Kt({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var en,tn=n(5752),nn=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:vt(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},l={};function u(){var t="function"===typeof e.extraReducers?yt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,l=t[2],u=void 0===l?void 0:l,c=ut(ut({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?yt(t):[t,n,r],o=a[0],s=a[1],l=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return vt(e())};else{var u=vt(e);i=function(){return u}}function c(e,t){void 0===e&&(e=i());var n=tt([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(D(e))return void 0===(r=n(e,t))?e:r;if(U(e))return Ie(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,(function(e){for(var t in c)e.addCase(t,c[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}u&&e.addDefaultCase(u)}))}return a.forEach((function(e){var n,r,a=i[e],u=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[u]=n,l[e]=r?gt(u,r):gt(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}({name:"orebi",initialState:{userInfo:[],products:[]},reducers:{addToCart:function(e,t){var n=e.products.find((function(e){return e._id===t.payload._id}));n?n.quantity+=t.payload.quantity:e.products.push(t.payload)},increaseQuantity:function(e,t){var n=e.products.find((function(e){return e._id===t.payload._id}));n&&n.quantity++},drecreaseQuantity:function(e,t){var n=e.products.find((function(e){return e._id===t.payload._id}));1===n.quantity?n.quantity=1:n.quantity--},deleteItem:function(e,t){e.products=e.products.filter((function(e){return e._id!==t.payload}))},resetCart:function(e){e.products=[]}}}),rn=nn.actions,an=rn.addToCart,on=rn.increaseQuantity,sn=rn.drecreaseQuantity,ln=rn.deleteItem,un=rn.resetCart,cn=nn.reducer,dn=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?Ft:e.stateReconciler),i=e.getStoredState||Bt,a=void 0!==e.timeout?e.timeout:5e3,o=null,s=!1,l=!0,u=function(e){return e._persist.rehydrated&&o&&!l&&o.update(e),e};return function(c,d){var f=c||{},h=f._persist,p=qt(f,["_persist"]);if(d.type===Nt){var v=!1,m=function(t,n){v||(d.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),l=!1,o||(o=zt(e)),h)return Gt({},t(p,d),{_persist:h});if("function"!==typeof d.rehydrate||"function"!==typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then((function(t){var r=e.migrate||function(e,t){return Promise.resolve(e)};r(t,n).then((function(e){m(e)}),(function(e){m(void 0,e)}))}),(function(e){m(void 0,e)})),Gt({},t(p,d),{_persist:{version:n,rehydrated:!1}})}if(d.type===Lt)return s=!0,d.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:Ct).concat(e.key);return t.removeItem(n,Vt)}(e)),Gt({},t(p,d),{_persist:h});if(d.type===At)return d.result(o&&o.flush()),Gt({},t(p,d),{_persist:h});if(d.type===Rt)l=!0;else if(d.type===Pt){if(s)return Gt({},p,{_persist:Gt({},h,{rehydrated:!0})});if(d.key===e.key){var g=t(p,d),y=d.payload,x=Gt({},!1!==r&&void 0!==y?r(y,c,g,e):g,{_persist:Gt({},h,{rehydrated:!0})});return u(x)}}if(!h)return t(c,d);var b=t(p,d);return b===p?c:u(Gt({},b,{_persist:h}))}}({key:"root",version:1,storage:tn.Z},cn),fn=function(e){var t,n=mt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,l=r.devTools,u=void 0===l||l,c=r.preloadedState,d=void 0===c?void 0:c,f=r.enhancers,h=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!ht(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=qe(a)}var p=s;"function"===typeof p&&(p=p(n));var v=Ze.apply(void 0,p),m=Ye;u&&(m=ft(ut({trace:!1},"object"===typeof u&&u)));var g=[v];return Array.isArray(h)?g=tt([v],h):"function"===typeof h&&(g=h(g)),Xe(t,d,m.apply(void 0,g))}({reducer:{orebiReducer:dn},middleware:function(e){return e({serializableCheck:{ignoredActions:[At,Pt,Rt,Nt,Lt,Ot]}})}}),hn=function(e,t,n){var r=n||!1,i=Xe(Qt,$t,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:Ot,key:e})},o=function(t,n,a){var o={type:Pt,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&s.getState().bootstrapped&&(r(),r=!1)},s=Kt({},i,{purge:function(){var t=[];return e.dispatch({type:Lt,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:At,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Rt})},persist:function(){e.dispatch({type:Nt,register:a,rehydrate:o})}});return t&&t.manualPersist||s.persist(),s}(fn);function pn(e){if(Array.isArray(e))return e}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}function gn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yn(e,t){return pn(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||mn(e,t)||gn()}function xn(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bn(e){return function(e){if(Array.isArray(e))return vn(e)}(e)||xn(e)||mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ue(r.key),r)}}function Sn(e,t,n){return t&&wn(e.prototype,t),n&&wn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mn(e,t){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mn(e,t)}function En(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mn(e,t)}function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tn(e)}function kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kn=function(){return!!e})()}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e,t){if(t&&("object"==De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Pn(e){var t=kn();return function(){var n,r=Tn(e);if(t){var i=Tn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return An(this,n)}}function Rn(){Rn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),s=new A(r||[]);return i(o,"_invoke",{value:E(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var x={};u(x,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==n&&r.call(_,o)&&(x=_);var w=y.prototype=m.prototype=Object.create(x);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==De(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function E(t,n,r){var i=f;return function(a,o){if(i===h)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=T(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=p,r.method="throw",r.arg=u.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(De(t)+" is not iterable")}return g.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},S(M.prototype),u(M.prototype,s,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new M(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(w),u(w,l,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Nn(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Nn(a,r,i,o,s,"next",e)}function s(e){Nn(a,r,i,o,s,"throw",e)}o(void 0)}))}}function On(e,t,n){if(kn())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Mn(i,n.prototype),i}function In(e){var t="function"==typeof Map?new Map:void 0;return In=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(I){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return On(e,arguments,Tn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mn(n,e)},In(e)}function Dn(e){return pn(e)||xn(e)||mn(e)||gn()}function Un(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(en||(en={}));var zn,jn="popstate";function Bn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Hn(e){return{usr:e.state,key:e.key}}function Vn(e,t,n,r){return void 0===n&&(n=null),Fn({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Gn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Wn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Gn(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Xn(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:Wn(e);return Bn(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function qn(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,l=void 0!==s&&s,u=o.history,c=en.Pop,d=null;function f(){c=en.Pop,d&&d({action:c,location:h.location})}var h={get action(){return c},get location(){return e(o,u)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(jn,f),d=e,function(){o.removeEventListener(jn,f),d=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=Xn("string"===typeof e?e:Wn(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=en.Push;var r=Vn(h.location,e,t);n&&n(r,e);var i=Hn(r),a=h.createHref(r);try{u.pushState(i,"",a)}catch(UR){o.location.assign(a)}l&&d&&d({action:c,location:h.location})},replace:function(e,t){c=en.Replace;var r=Vn(h.location,e,t);n&&n(r,e);var i=Hn(r),a=h.createHref(r);u.replaceState(i,"",a),l&&d&&d({action:c,location:h.location})},go:function(e){return u.go(e)}};return h}function Yn(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map((function(e,r){var i=[].concat(bn(t),[r]),a="string"===typeof e.id?e.id:i.join("-");return Bn(!0!==e.index||!e.children,"Cannot specify children on an index route"),Bn(!n.has(a),'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),n.add(a),function(e){return!0===e.index}(e)?Fn({},e,{id:a}):Fn({},e,{id:a,children:e.children?Yn(e.children,i,n):void 0})}))}function Zn(e,t,n){void 0===n&&(n="/");var r=ir(("string"===typeof t?Gn(t):t).pathname||"/",n);if(null==r)return null;var i=Kn(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=tr(i[o],rr(r));return a}function Kn(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Bn(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ur([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Bn(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Kn(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:er(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Un(Jn(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function Jn(e){var t=e.split("/");if(0===t.length)return[];var n=Dn(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=Jn(i.join("/")),l=[];return l.push.apply(l,bn(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&l.push.apply(l,bn(s)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(zn||(zn={}));var $n=/^:\w+$/,Qn=function(e){return"*"===e};function er(e,t){var n=e.split("/"),r=n.length;return n.some(Qn)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Qn(e)})).reduce((function(e,t){return e+($n.test(t)?3:""===t?1:10)}),r)}function tr(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=nr({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var d=s.route;a.push({params:r,pathname:ur([i,c.pathname]),pathnameBase:cr(ur([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=ur([i,c.pathnameBase]))}return a}function nr(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ar("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=yn(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(UR){return ar(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+UR+")."),e}}(u[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:l,pattern:e}}function rr(e){try{return decodeURI(e)}catch(UR){return ar(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+UR+")."),e}}function ir(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ar(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function or(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function sr(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function lr(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Gn(e):(Bn(!(i=Fn({},e)).pathname||!i.pathname.includes("?"),or("?","pathname","search",i)),Bn(!i.pathname||!i.pathname.includes("#"),or("#","pathname","hash",i)),Bn(!i.search||!i.search.includes("#"),or("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Gn(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:dr(a),hash:fr(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var ur=function(e){return e.join("/").replace(/\/\/+/g,"/")},cr=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},dr=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},fr=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},hr=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n)}(In(Error)),pr=function(){function e(t){var n,r=this;_n(this,e),this.pendingKeys=new Set,this.subscriber=void 0,Bn(t&&"object"===typeof t&&!Array.isArray(t),"defer() only accepts plain objects"),this.abortPromise=new Promise((function(e,t){return n=t})),this.controller=new AbortController;var i=function(){return n(new hr("Deferred data aborted"))};this.unlistenAbortSignal=function(){return r.controller.signal.removeEventListener("abort",i)},this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((function(e,t){var n=yn(t,2),i=n[0],a=n[1];return Object.assign(e,Fe({},i,r.trackPromise(i,a)))}),{})}return Sn(e,[{key:"trackPromise",value:function(e,t){var n=this;if(!(t instanceof Promise))return t;this.pendingKeys.add(e);var r=Promise.race([t,this.abortPromise]).then((function(t){return n.onSettle(r,e,null,t)}),(function(t){return n.onSettle(r,e,t)}));return r.catch((function(){})),Object.defineProperty(r,"_tracked",{get:function(){return!0}}),r}},{key:"onSettle",value:function(e,t,n,r){if(this.controller.signal.aborted&&n instanceof hr)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:function(){return n}}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();var i=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:function(){return n}}),i&&i(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:function(){return r}}),i&&i(!1),r)}},{key:"subscribe",value:function(e){this.subscriber=e}},{key:"cancel",value:function(){var e=this;this.controller.abort(),this.pendingKeys.forEach((function(t,n){return e.pendingKeys.delete(n)}));var t=this.subscriber;t&&t(!0)}},{key:"resolveData",value:function(){var e=Ln(Rn().mark((function e(t){var n,r,i=this;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.done){e.next=7;break}return r=function(){return i.cancel()},t.addEventListener("abort",r),e.next=6,new Promise((function(e){i.subscribe((function(n){t.removeEventListener("abort",r),(n||i.done)&&e(n)}))}));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeys.size}},{key:"unwrappedData",get:function(){return Bn(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((function(e,t){var n=yn(t,2),r=n[0],i=n[1];return Object.assign(e,Fe({},r,function(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}(i)))}),{})}}]),e}();var vr=Sn((function e(t,n,r,i){_n(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function mr(e){return e instanceof vr}var gr=["post","put","patch","delete"],yr=new Set(gr),xr=["get"].concat(gr),br=new Set(xr),_r=new Set([301,302,303,307,308]),wr=new Set([307,308]),Sr={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Mr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Er=!("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement);function Tr(e){Bn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t=Yn(e.routes),n=null,r=new Set,i=null,a=null,o=null,s=null!=e.hydrationData,l=Zn(t,e.history.location,e.basename),u=null;if(null==l){var c=Br(404,{pathname:e.history.location.pathname}),d=jr(t);l=d.matches,u=Fe({},d.route.id,c)}var f,h,p=!l.some((function(e){return e.route.loader}))||null!=e.hydrationData,v={historyAction:e.history.action,location:e.history.location,matches:l,initialized:p,navigation:Sr,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||u,fetchers:new Map},m=en.Pop,g=!1,y=!1,x=!1,b=[],_=[],w=new Map,S=0,M=-1,E=new Map,T=new Set,k=new Map,C=new Map;function A(e){v=Fn({},v,e),r.forEach((function(e){return e(v)}))}function P(t,n){var r,i=null!=v.actionData&&null!=v.navigation.formMethod&&"loading"===v.navigation.state&&(null==(r=v.navigation.formAction)?void 0:r.split("?")[0])===t.pathname;A(Fn({},n,{actionData:n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:i?v.actionData:null,loaderData:n.loaderData?Fr(v.loaderData,n.loaderData,n.matches||[],n.errors):v.loaderData,historyAction:m,location:t,initialized:!0,navigation:Sr,revalidation:"idle",restoreScrollPosition:!v.navigation.formData&&ee(t,n.matches||v.matches),preventScrollReset:g})),y||m===en.Pop||(m===en.Push?e.history.push(t,t.state):m===en.Replace&&e.history.replace(t,t.state)),m=en.Pop,g=!1,y=!1,x=!1,b=[],_=[]}function R(){return R=Ln(Rn().mark((function t(n,r){var i,a,o,s,l,u,c,d;return Rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:return i=kr(n,r),a=i.path,o=i.submission,s=i.error,l=Fn({},l=Vn(v.location,a,r&&r.state),e.history.encodeLocation(l)),u=r&&null!=r.replace?r.replace:void 0,c=en.Push,!0===u?c=en.Replace:!1===u||null!=o&&Kr(o.formMethod)&&o.formAction===v.location.pathname+v.location.search&&(c=en.Replace),d=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,t.next=12,N(c,l,{submission:o,pendingError:s,preventScrollReset:d,replace:r&&r.replace});case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function N(e,t,n){return L.apply(this,arguments)}function L(){return L=Ln(Rn().mark((function n(r,i,a){var o,s,l,u,c,d,f,p,x,b,_,w,S,M,E;return Rn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h&&h.abort(),h=null,m=r,y=!0===(a&&a.startUninterruptedRevalidation),Q(v.location,v.matches),g=!0===(a&&a.preventScrollReset),o=a&&a.overrideNavigation,s=Zn(t,i,e.basename)){n.next=14;break}return l=Br(404,{pathname:i.pathname}),u=jr(t),c=u.matches,d=u.route,$(),P(i,{matches:c,loaderData:{},errors:Fe({},d.id,l)}),n.abrupt("return");case 14:if(!Wr(v.location,i)){n.next=17;break}return P(i,{matches:s}),n.abrupt("return");case 17:if(h=new AbortController,f=Or(i,h.signal,a&&a.submission),!a||!a.pendingError){n.next=23;break}x=Fe({},zr(s).route.id,a.pendingError),n.next=34;break;case 23:if(!(a&&a.submission&&Kr(a.submission.formMethod))){n.next=34;break}return n.next=26,O(f,i,a.submission,s,{replace:a.replace});case 26:if(!(b=n.sent).shortCircuited){n.next=29;break}return n.abrupt("return");case 29:p=b.pendingActionData,x=b.pendingActionError,_=Fn({state:"loading",location:i},a.submission),o=_,f=new Request(f.url,{signal:f.signal});case 34:return n.next=36,D(f,i,s,o,a&&a.submission,a&&a.replace,p,x);case 36:if(w=n.sent,S=w.shortCircuited,M=w.loaderData,E=w.errors,!S){n.next=42;break}return n.abrupt("return");case 42:h=null,P(i,Fn({matches:s},p?{actionData:p}:{},{loaderData:M,errors:E}));case 44:case"end":return n.stop()}}),n)}))),L.apply(this,arguments)}function O(e,t,n,r,i){return I.apply(this,arguments)}function I(){return I=Ln(Rn().mark((function e(t,n,r,i,a){var o,s,l,u;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(),A({navigation:Fn({state:"submitting",location:n},r)}),(s=ri(i,n)).route.action){e.next=8;break}o={type:zn.error,error:Br(405,{method:t.method,pathname:n.pathname,routeId:s.route.id})},e.next=13;break;case 8:return e.next=10,Nr("action",t,s,i,f.basename);case 10:if(o=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!qr(o)){e.next=18;break}return l=a&&null!=a.replace?a.replace:o.location===v.location.pathname+v.location.search,e.next=17,B(v,o,l);case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!Xr(o)){e.next=22;break}return u=zr(i,s.route.id),!0!==(a&&a.replace)&&(m=en.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:Fe({},u.route.id,o.error)});case 22:if(!Gr(o)){e.next=24;break}throw new Error("defer() is not supported in actions");case 24:return e.abrupt("return",{pendingActionData:Fe({},s.route.id,o.data)});case 25:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function D(e,t,n,r,i,a,o,s){return U.apply(this,arguments)}function U(){return U=Ln(Rn().mark((function e(t,n,r,i,a,o,s,l){var u,c,d,f,p,m,g,E,T,R,N,L,O,I,D,U;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((u=i)||(c=Fn({state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},a),u=c),d=Ar(v,r,a,n,x,b,_,s,l,k),f=yn(d,2),p=f[0],m=f[1],$((function(e){return!(r&&r.some((function(t){return t.route.id===e})))||p&&p.some((function(t){return t.route.id===e}))})),0!==p.length||0!==m.length){e.next=7;break}return P(n,Fn({matches:r,loaderData:{},errors:l||null},s?{actionData:s}:{})),e.abrupt("return",{shortCircuited:!0});case 7:return y||(m.forEach((function(e){var t=yn(e,1)[0],n=v.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(t,r)})),g=s||v.actionData,A(Fn({navigation:u},g?0===Object.keys(g).length?{actionData:null}:{actionData:g}:{},m.length>0?{fetchers:new Map(v.fetchers)}:{}))),M=++S,m.forEach((function(e){var t=yn(e,1)[0];return w.set(t,h)})),e.next=12,V(v.matches,r,p,m,t);case 12:if(E=e.sent,T=E.results,R=E.loaderResults,N=E.fetcherResults,!t.signal.aborted){e.next=18;break}return e.abrupt("return",{shortCircuited:!0});case 18:if(m.forEach((function(e){var t=yn(e,1)[0];return w.delete(t)})),!(L=Hr(T))){e.next=24;break}return e.next=23,B(v,L,o);case 23:return e.abrupt("return",{shortCircuited:!0});case 24:return O=Ur(v,r,p,R,l,m,N,C),I=O.loaderData,D=O.errors,C.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&C.delete(t)}))})),K(),U=J(M),e.abrupt("return",Fn({loaderData:I,errors:D},U||m.length>0?{fetchers:new Map(v.fetchers)}:{}));case 29:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function F(e){return v.fetchers.get(e)||Mr}function z(){return z=Ln(Rn().mark((function n(r,i,a,o,s,l){var u,c,d,p,g,y,R,N,L,O,I,D,U,F,z,j,H,W,q,Y,Z,K,$,Q,ee,te;return Rn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(G(),k.delete(r),o.route.action){n.next=6;break}return u=Br(405,{method:l.formMethod,pathname:a,routeId:i}),X(r,i,u),n.abrupt("return");case 6:return c=v.fetchers.get(r),d=Fn({state:"submitting"},l,{data:c&&c.data," _hasFetcherDoneAnything ":!0}),v.fetchers.set(r,d),A({fetchers:new Map(v.fetchers)}),p=new AbortController,g=Or(a,p.signal,l),w.set(r,p),n.next=15,Nr("action",g,o,s,f.basename);case 15:if(y=n.sent,!g.signal.aborted){n.next=19;break}return w.get(r)===p&&w.delete(r),n.abrupt("return");case 19:if(!qr(y)){n.next=26;break}return w.delete(r),T.add(r),R=Fn({state:"loading"},l,{data:void 0," _hasFetcherDoneAnything ":!0}),v.fetchers.set(r,R),A({fetchers:new Map(v.fetchers)}),n.abrupt("return",B(v,y,!1,!0));case 26:if(!Xr(y)){n.next=29;break}return X(r,i,y.error),n.abrupt("return");case 29:return Gr(y)&&Bn(!1,"defer() is not supported in actions"),N=v.navigation.location||v.location,L=Or(N,p.signal),Bn(O="idle"!==v.navigation.state?Zn(t,v.navigation.location,e.basename):v.matches,"Didn't find any matches after fetcher action"),I=++S,E.set(r,I),D=Fn({state:"loading",data:y.data},l,{" _hasFetcherDoneAnything ":!0}),v.fetchers.set(r,D),U=Ar(v,O,l,N,x,b,_,Fe({},o.route.id,y.data),void 0,k),F=yn(U,2),z=F[0],(j=F[1]).filter((function(e){return yn(e,1)[0]!==r})).forEach((function(e){var t=yn(e,1)[0],n=v.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(t,r),w.set(t,p)})),A({fetchers:new Map(v.fetchers)}),n.next=43,V(v.matches,O,z,j,L);case 43:if(H=n.sent,W=H.results,q=H.loaderResults,Y=H.fetcherResults,!p.signal.aborted){n.next=49;break}return n.abrupt("return");case 49:if(E.delete(r),w.delete(r),j.forEach((function(e){var t=yn(e,1)[0];return w.delete(t)})),!(Z=Hr(W))){n.next=55;break}return n.abrupt("return",B(v,Z));case 55:K=Ur(v,v.matches,z,q,void 0,j,Y,C),$=K.loaderData,Q=K.errors,ee={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},v.fetchers.set(r,ee),te=J(I),"loading"===v.navigation.state&&I>M?(Bn(m,"Expected pending action"),h&&h.abort(),P(v.navigation.location,{matches:O,loaderData:$,errors:Q,fetchers:new Map(v.fetchers)})):(A(Fn({errors:Q,loaderData:Fr(v.loaderData,$,O,Q)},te?{fetchers:new Map(v.fetchers)}:{})),x=!1);case 60:case"end":return n.stop()}}),n)}))),z.apply(this,arguments)}function j(){return j=Ln(Rn().mark((function e(t,n,r,i,a,o){var s,l,u,c,d,h,p;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=v.fetchers.get(t),l=Fn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},o,{data:s&&s.data," _hasFetcherDoneAnything ":!0}),v.fetchers.set(t,l),A({fetchers:new Map(v.fetchers)}),u=new AbortController,c=Or(r,u.signal),w.set(t,u),e.next=9,Nr("loader",c,i,a,f.basename);case 9:if(!Gr(d=e.sent)){e.next=17;break}return e.next=13,Qr(d,c.signal,!0);case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0=d;case 16:d=e.t0;case 17:if(w.get(t)===u&&w.delete(t),!c.signal.aborted){e.next=20;break}return e.abrupt("return");case 20:if(!qr(d)){e.next=24;break}return e.next=23,B(v,d);case 23:return e.abrupt("return");case 24:if(!Xr(d)){e.next=29;break}return h=zr(v.matches,n),v.fetchers.delete(t),A({fetchers:new Map(v.fetchers),errors:Fe({},h.route.id,d.error)}),e.abrupt("return");case 29:Bn(!Gr(d),"Unhandled fetcher deferred data"),p={state:"idle",data:d.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},v.fetchers.set(t,p),A({fetchers:new Map(v.fetchers)});case 33:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function B(e,t,n,r){return H.apply(this,arguments)}function H(){return H=Ln(Rn().mark((function e(t,n,r,i){var a,o,s,l,u,c,d,f,p;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.revalidate&&(x=!0),Bn(o=Vn(t.location,n.location,Fn({_isRedirect:!0},i?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),"undefined"===typeof(null==(a=window)?void 0:a.location)){e.next=8;break}if(s=Xn(n.location).origin,window.location.origin===s){e.next=8;break}return r?window.location.replace(n.location):window.location.assign(n.location),e.abrupt("return");case 8:if(h=null,l=!0===r?en.Replace:en.Push,u=t.navigation,c=u.formMethod,d=u.formAction,f=u.formEncType,p=u.formData,!(wr.has(n.status)&&c&&Kr(c)&&f&&p)){e.next=16;break}return e.next=14,N(l,o,{submission:{formMethod:c,formAction:n.location,formEncType:f,formData:p}});case 14:e.next=18;break;case 16:return e.next=18,N(l,o,{overrideNavigation:{state:"loading",location:o,formMethod:c||void 0,formAction:d||void 0,formEncType:f||void 0,formData:p||void 0}});case 18:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function V(e,t,n,r,i){return W.apply(this,arguments)}function W(){return W=Ln(Rn().mark((function e(t,n,r,i,a){var o,s,l;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([].concat(bn(r.map((function(e){return Nr("loader",a,e,n,f.basename)}))),bn(i.map((function(e){var t=yn(e,4),n=t[1],r=t[2],i=t[3];return Nr("loader",Or(n,a.signal),r,i,f.basename)})))));case 2:return o=e.sent,s=o.slice(0,r.length),l=o.slice(r.length),e.next=7,Promise.all([Jr(t,r,s,a.signal,!1,v.loaderData),Jr(t,i.map((function(e){return yn(e,3)[2]})),l,a.signal,!0)]);case 7:return e.abrupt("return",{results:o,loaderResults:s,fetcherResults:l});case 8:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function G(){var e;x=!0,(e=b).push.apply(e,bn($())),k.forEach((function(e,t){w.has(t)&&(_.push(t),Y(t))}))}function X(e,t,n){var r=zr(v.matches,t);q(e),A({errors:Fe({},r.route.id,n),fetchers:new Map(v.fetchers)})}function q(e){w.has(e)&&Y(e),k.delete(e),E.delete(e),T.delete(e),v.fetchers.delete(e)}function Y(e){var t=w.get(e);Bn(t,"Expected fetch controller: "+e),t.abort(),w.delete(e)}function Z(e){var t,n=Un(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:F(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function K(){var e,t=[],n=Un(T);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=v.fetchers.get(r);Bn(i,"Expected fetcher: "+r),"loading"===i.state&&(T.delete(r),t.push(r))}}catch(a){n.e(a)}finally{n.f()}Z(t)}function J(e){var t,n=[],r=Un(E);try{for(r.s();!(t=r.n()).done;){var i=yn(t.value,2),a=i[0];if(i[1]<e){var o=v.fetchers.get(a);Bn(o,"Expected fetcher: "+a),"loading"===o.state&&(Y(a),E.delete(a),n.push(a))}}}catch(s){r.e(s)}finally{r.f()}return Z(n),n.length>0}function $(e){var t=[];return C.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),C.delete(r))})),t}function Q(e,t){if(i&&a&&o){var n=t.map((function(e){return ni(e,v.loaderData)})),r=a(e,n)||e.key;i[r]=o()}}function ee(e,t){if(i&&a&&o){var n=t.map((function(e){return ni(e,v.loaderData)})),r=a(e,n)||e.key,s=i[r];if("number"===typeof s)return s}return null}return f={get basename(){return e.basename},get state(){return v},get routes(){return t},initialize:function(){return n=e.history.listen((function(e){return N(e.action,e.location)})),v.initialized||N(en.Pop,v.location),f},subscribe:function(e){return r.add(e),function(){return r.delete(e)}},enableScrollRestoration:function(e,t,n){if(i=e,o=t,a=n||function(e){return e.key},!s&&v.navigation===Sr){s=!0;var r=ee(v.location,v.matches);null!=r&&A({restoreScrollPosition:r})}return function(){i=null,o=null,a=null}},navigate:function(e,t){return R.apply(this,arguments)},fetch:function(n,r,i,a){if(Er)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");w.has(n)&&Y(n);var o=Zn(t,i,e.basename);if(o){var s=kr(i,a,!0),l=s.path,u=s.submission,c=ri(o,l);u&&Kr(u.formMethod)?function(e,t,n,r,i,a){z.apply(this,arguments)}(n,r,l,c,o,u):(k.set(n,[l,c,o]),function(e,t,n,r,i,a){j.apply(this,arguments)}(n,r,l,c,o,u))}else X(n,r,Br(404,{pathname:i}))},revalidate:function(){G(),A({revalidation:"loading"}),"submitting"!==v.navigation.state&&("idle"!==v.navigation.state?N(m||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation}):N(v.historyAction,v.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:F,deleteFetcher:q,dispose:function(){n&&n(),r.clear(),h&&h.abort(),v.fetchers.forEach((function(e,t){return q(t)}))},_internalFetchControllers:w,_internalActiveDeferreds:C},f}function kr(e,t,n){void 0===n&&(n=!1);var r,i="string"===typeof e?e:Wn(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&!Zr(t.formMethod))return{path:i,error:Br(405,{method:t.formMethod})};if(t.formData&&Kr((r={formMethod:t.formMethod||"get",formAction:Vr(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}).formMethod))return{path:i,submission:r};var a=Gn(i);try{var o=Ir(t.formData);n&&a.search&&ti(a.search)&&o.append("index",""),a.search="?"+o}catch(s){return{path:i,error:Br(400)}}return{path:Wn(a),submission:r}}function Cr(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function Ar(e,t,n,r,i,a,o,s,l,u){var c=l?Object.values(l)[0]:s?Object.values(s)[0]:void 0,d=Cr(t,l?Object.keys(l)[0]:void 0).filter((function(t,o){return null!=t.route.loader&&(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(e.loaderData,e.matches[o],t)||a.some((function(e){return e===t.route.id}))||Rr(e.location,e.matches[o],n,r,t,i,c))})),f=[];return u&&u.forEach((function(e,t){var r=yn(e,3),a=r[0],s=r[1],l=r[2];if(o.includes(t))f.push([t,a,s,l]);else if(i){Rr(a,s,n,a,s,i,c)&&f.push([t,a,s,l])}})),[d,f]}function Pr(e,t){var n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Rr(e,t,n,r,i,a,o){var s=Xn(e),l=t.params,u=Xn(r),c=i.params,d=Pr(t,i)||s.toString()===u.toString()||s.search!==u.search||a;if(i.route.shouldRevalidate){var f=i.route.shouldRevalidate(Fn({currentUrl:s,currentParams:l,nextUrl:u,nextParams:c},n,{actionResult:o,defaultShouldRevalidate:d}));if("boolean"===typeof f)return f}return d}function Nr(e,t,n,r,i,a,o,s){return Lr.apply(this,arguments)}function Lr(){return Lr=Ln(Rn().mark((function e(t,n,r,i,a,o,s,l){var u,c,d,f,h,p,v,m,g,y,x,b,_,w;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a="/"),void 0===o&&(o=!1),void 0===s&&(s=!1),f=new Promise((function(e,t){return d=t})),h=function(){return d()},n.signal.addEventListener("abort",h),e.prev=6,Bn(p=r.route[t],"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=11,Promise.race([p({request:n,params:r.params,context:l}),f]);case 11:Bn(void 0!==(c=e.sent),"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),u=zn.error,c=e.t0;case 19:return e.prev=19,n.signal.removeEventListener("abort",h),e.finish(19);case 22:if(!Yr(c)){e.next=48;break}if(v=c.status,!_r.has(v)){e.next=33;break}if(Bn(m=c.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),/^[a-z+]+:\/\//i.test(m)||m.startsWith("//")||(g=i.slice(0,i.indexOf(r)+1),y=sr(g).map((function(e){return e.pathnameBase})),Bn(Wn(x=lr(m,y,new URL(n.url).pathname)),"Unable to resolve redirect location: "+m),a&&(b=x.pathname,x.pathname="/"===b?a:ur([a,b])),m=Wn(x)),!o){e.next=32;break}throw c.headers.set("Location",m),c;case 32:return e.abrupt("return",{type:zn.redirect,status:v,location:m,revalidate:null!==c.headers.get("X-Remix-Revalidate")});case 33:if(!s){e.next=35;break}throw{type:u||zn.data,response:c};case 35:if(!(w=c.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(w)){e.next=42;break}return e.next=39,c.json();case 39:_=e.sent,e.next=45;break;case 42:return e.next=44,c.text();case 44:_=e.sent;case 45:if(u!==zn.error){e.next=47;break}return e.abrupt("return",{type:u,error:new vr(v,c.statusText,_),headers:c.headers});case 47:return e.abrupt("return",{type:zn.data,data:_,statusCode:c.status,headers:c.headers});case 48:if(u!==zn.error){e.next=50;break}return e.abrupt("return",{type:u,error:c});case 50:if(!(c instanceof pr)){e.next=52;break}return e.abrupt("return",{type:zn.deferred,deferredData:c});case 52:return e.abrupt("return",{type:zn.data,data:c});case 53:case"end":return e.stop()}}),e,null,[[6,15,19,22]])}))),Lr.apply(this,arguments)}function Or(e,t,n){var r=Xn(Vr(e)).toString(),i={signal:t};if(n&&Kr(n.formMethod)){var a=n.formMethod,o=n.formEncType,s=n.formData;i.method=a.toUpperCase(),i.body="application/x-www-form-urlencoded"===o?Ir(s):s}return new Request(r,i)}function Ir(e){var t,n=new URLSearchParams,r=Un(e.entries());try{for(r.s();!(t=r.n()).done;){var i=yn(t.value,2),a=i[0],o=i[1];Bn("string"===typeof o,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),n.append(a,o)}}catch(s){r.e(s)}finally{r.f()}return n}function Dr(e,t,n,r,i){var a,o={},s=null,l=!1,u={};return n.forEach((function(n,c){var d=t[c].route.id;if(Bn(!qr(n),"Cannot handle redirect results in processLoaderData"),Xr(n)){var f=zr(e,d),h=n.error;r&&(h=Object.values(r)[0],r=void 0),null==(s=s||{})[f.route.id]&&(s[f.route.id]=h),o[d]=void 0,l||(l=!0,a=mr(n.error)?n.error.status:500),n.headers&&(u[d]=n.headers)}else Gr(n)?(i&&i.set(d,n.deferredData),o[d]=n.deferredData.data):(o[d]=n.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(u[d]=n.headers))})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Ur(e,t,n,r,i,a,o,s){for(var l=Dr(t,n,r,i,s),u=l.loaderData,c=l.errors,d=0;d<a.length;d++){var f=yn(a[d],3),h=f[0],p=f[2];Bn(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");var v=o[d];if(Xr(v)){var m=zr(e.matches,p.route.id);c&&c[m.route.id]||(c=Fn({},c,Fe({},m.route.id,v.error))),e.fetchers.delete(h)}else{if(qr(v))throw new Error("Unhandled fetcher revalidation redirect");if(Gr(v))throw new Error("Unhandled fetcher deferred data");var g={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,g)}}return{loaderData:u,errors:c}}function Fr(e,t,n,r){var i,a=Fn({},t),o=Un(n);try{for(o.s();!(i=o.n()).done;){var s=i.value.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(l){o.e(l)}finally{o.f()}return a}function zr(e,t){var n=t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):bn(e);return n.reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function jr(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Br(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(o="Bad Request",s=a&&r&&i?"You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"Cannot submit binary form data using GET"):403===e?(o="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(o="Not Found",s='No route matches URL "'+r+'"'):405===e&&(o="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new vr(e||500,o,new Error(s),!0)}function Hr(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(qr(n))return n}}function Vr(e){return Wn(Fn({},"string"===typeof e?Gn(e):e,{hash:""}))}function Wr(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Gr(e){return e.type===zn.deferred}function Xr(e){return e.type===zn.error}function qr(e){return(e&&e.type)===zn.redirect}function Yr(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Zr(e){return br.has(e)}function Kr(e){return yr.has(e)}function Jr(e,t,n,r,i,a){return $r.apply(this,arguments)}function $r(){return $r=Ln(Rn().mark((function e(t,n,r,i,a,o){var s,l;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Rn().mark((function e(s){var l,u,c,d;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r[s],u=n[s],c=t.find((function(e){return e.route.id===u.route.id})),d=null!=c&&!Pr(c,u)&&void 0!==(o&&o[u.route.id]),!Gr(l)||!a&&!d){e.next=7;break}return e.next=7,Qr(l,i,a).then((function(e){e&&(r[s]=e||r[s])}));case 7:case"end":return e.stop()}}),e)})),l=0;case 2:if(!(l<r.length)){e.next=7;break}return e.delegateYield(s(l),"t0",4);case 4:l++,e.next=2;break;case 7:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Qr(e,t,n){return ei.apply(this,arguments)}function ei(){return(ei=Ln(Rn().mark((function e(t,n,r){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:zn.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:zn.error,error:e.t0});case 14:return e.abrupt("return",{type:zn.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function ti(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function ni(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function ri(e,t){var n="string"===typeof t?Gn(t).search:t.search;if(e[e.length-1].route.index&&ti(n||""))return e[e.length-1];var r=sr(e);return r[r.length-1]}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ii.apply(this,arguments)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},oi=t.useState,si=t.useEffect,li=t.useLayoutEffect,ui=t.useDebugValue;function ci(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ai(n,r)}catch(UR){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var di=r.useSyncExternalStore,fi=t.createContext(null);var hi=t.createContext(null);var pi=t.createContext(null);var vi=t.createContext(null);var mi=t.createContext(null);var gi=t.createContext(null);var yi=t.createContext({outlet:null,matches:[]});var xi=t.createContext(null);function bi(){return null!=t.useContext(gi)}function _i(){return bi()||Bn(!1),t.useContext(gi).location}function wi(){bi()||Bn(!1);var e=t.useContext(mi),n=e.basename,r=e.navigator,i=t.useContext(yi).matches,a=_i().pathname,o=JSON.stringify(sr(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return t.useEffect((function(){s.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=lr(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ur([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a])}var Si=t.createContext(null);function Mi(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(yi).matches,a=_i().pathname,o=JSON.stringify(sr(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return lr(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ei(){var e=function(){var e,n=t.useContext(xi),r=Ri(ki.UseRouteError),i=Ni(ki.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=mr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Ti,ki,Ci=function(e){En(r,e);var n=Pn(r);function r(e){var t;return _n(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Sn(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(yi.Provider,{value:this.props.routeContext},t.createElement(xi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Ai(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(fi);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(yi.Provider,{value:n},i)}function Pi(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||Bn(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var l=o.route.id?null==a?void 0:a[o.route.id]:null,u=r?o.route.errorElement||t.createElement(Ei,null):null,c=n.concat(i.slice(0,s+1)),d=function(){return t.createElement(Ai,{match:o,routeContext:{outlet:e,matches:c}},l?u:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Ci,{location:r.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()}),null)}function Ri(e){var n=t.useContext(pi);return n||Bn(!1),n}function Ni(e){var n=function(e){var n=t.useContext(yi);return n||Bn(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Bn(!1),r.route.id}!function(e){e.UseRevalidator="useRevalidator"}(Ti||(Ti={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ki||(ki={}));var Li;function Oi(e){var n=e.fallbackElement,r=e.router,i=di(r.subscribe,(function(){return r.state}),(function(){return r.state})),a=t.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),o=r.basename||"/";return t.createElement(hi.Provider,{value:{router:r,navigator:a,static:!1,basename:o}},t.createElement(pi.Provider,{value:i},t.createElement(Ui,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?t.createElement(Fi,null):n)))}function Ii(e){return function(e){var n=t.useContext(yi).outlet;return n?t.createElement(Si.Provider,{value:e},n):n}(e.context)}function Di(e){Bn(!1)}function Ui(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,l=void 0===s?en.Pop:s,u=e.navigator,c=e.static,d=void 0!==c&&c;bi()&&Bn(!1);var f=r.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:f,navigator:u,static:d}}),[f,u,d]);"string"===typeof o&&(o=Gn(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,x=p.hash,b=void 0===x?"":x,_=p.state,w=void 0===_?null:_,S=p.key,M=void 0===S?"default":S,E=t.useMemo((function(){var e=ir(m,f);return null==e?null:{pathname:e,search:y,hash:b,state:w,key:M}}),[f,m,y,b,w,M]);return null==E?null:t.createElement(mi.Provider,{value:h},t.createElement(gi.Provider,{children:a,value:{location:E,navigationType:l}}))}function Fi(e){var n=e.children,r=e.location,i=t.useContext(hi);return function(e,n){bi()||Bn(!1);var r,i=t.useContext(mi).navigator,a=t.useContext(pi),o=t.useContext(yi).matches,s=o[o.length-1],l=s?s.params:{},u=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,_i());if(n){var d,f="string"===typeof n?Gn(n):n;"/"===u||(null==(d=f.pathname)?void 0:d.startsWith(u))||Bn(!1),r=f}else r=c;var h=r.pathname||"/",p=Zn(e,{pathname:"/"===u?h:h.slice(u.length)||"/"}),v=Pi(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ur([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ur([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(gi.Provider,{value:{location:ii({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:en.Pop}},v):v}(i&&!n?i.router.routes:ji(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Li||(Li={}));var zi=new Promise((function(){}));t.Component;function ji(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Di&&Bn(!1),e.props.index&&e.props.children&&Bn(!1);var a=[].concat(bn(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=ji(e.props.children,a)),r.push(o)}else r.push.apply(r,ji(e.props.children,n))})),r}function Bi(e){return e.map((function(e){var t=ii({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=Bi(t.children)),t}))}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(this,arguments)}function Vi(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Wi=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Gi=["aria-current","caseSensitive","className","end","style","to","children"];function Xi(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Hi({},t,{errors:qi(t.errors)})),t}function qi(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=yn(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new vr(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){var s=new Error(o.message);s.stack="",t[a]=s}else t[a]=o}return t}var Yi=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,l=e.target,u=e.to,c=e.preventScrollReset,d=Vi(e,Wi),f=function(e,n){var r=(void 0===n?{}:n).relative;bi()||Bn(!1);var i=t.useContext(mi),a=i.basename,o=i.navigator,s=Mi(e,{relative:r}),l=s.hash,u=s.pathname,c=s.search,d=u;return"/"!==a&&(d="/"===u?a:ur([a,u])),o.createHref({pathname:d,search:c,hash:l})}(u,{relative:i}),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,l=r.relative,u=wi(),c=_i(),d=Mi(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:Wn(c)===Wn(d);u(e,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[c,u,d,a,o,i,e,s,l])}(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i});return t.createElement("a",Hi({},d,{href:f,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||h(e)},ref:n,target:l}))}));var Zi=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,l=void 0===s?"":s,u=e.end,c=void 0!==u&&u,d=e.style,f=e.to,h=e.children,p=Vi(e,Gi),v=Mi(f,{relative:p.relative}),m=_i(),g=t.useContext(pi),y=t.useContext(mi).navigator,x=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,b=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase());var w,S=b===x||!c&&b.startsWith(x)&&"/"===b.charAt(x.length),M=null!=_&&(_===x||!c&&_.startsWith(x)&&"/"===_.charAt(x.length)),E=S?i:void 0;w="function"===typeof l?l({isActive:S,isPending:M}):[l,S?"active":null,M?"pending":null].filter(Boolean).join(" ");var T="function"===typeof d?d({isActive:S,isPending:M}):d;return t.createElement(Yi,Hi({},p,{"aria-current":E,className:w,ref:n,style:T,to:f}),"function"===typeof h?h({isActive:S,isPending:M}):h)}));var Ki,Ji;function $i(e){return function(e){var n=void 0===e?{}:e,r=n.getKey,i=n.storageKey,a=Qi(Ki.UseScrollRestoration).router,o=ea(Ji.UseScrollRestoration),s=o.restoreScrollPosition,l=o.preventScrollReset,u=_i(),c=function(){var e=Ri(ki.UseMatches),n=e.matches,r=e.loaderData;return t.useMemo((function(){return n.map((function(e){var t=e.pathname,n=e.params;return{id:e.route.id,pathname:t,params:n,data:r[e.route.id],handle:e.route.handle}}))}),[n,r])}(),d=Ri(ki.UseNavigation).navigation;t.useEffect((function(){return window.history.scrollRestoration="manual",function(){window.history.scrollRestoration="auto"}}),[]),f=t.useCallback((function(){if("idle"===d.state){var e=(r?r(u,c):null)||u.key;na[e]=window.scrollY}sessionStorage.setItem(i||ta,JSON.stringify(na)),window.history.scrollRestoration="auto"}),[i,r,d.state,u,c]),void t.useEffect((function(){return window.addEventListener("beforeunload",f),function(){window.removeEventListener("beforeunload",f)}}),[f]),"undefined"!==typeof document&&(t.useLayoutEffect((function(){try{var e=sessionStorage.getItem(i||ta);e&&(na=JSON.parse(e))}catch(t){}}),[i]),t.useLayoutEffect((function(){var e=null==a?void 0:a.enableScrollRestoration(na,(function(){return window.scrollY}),r);return function(){return e&&e()}}),[a,r]),t.useLayoutEffect((function(){if(!1!==s)if("number"!==typeof s){if(u.hash){var e=document.getElementById(u.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==l&&window.scrollTo(0,0)}else window.scrollTo(0,s)}),[u,s,l]));var f}({getKey:e.getKey,storageKey:e.storageKey}),null}function Qi(e){var n=t.useContext(hi);return n||Bn(!1),n}function ea(e){var n=t.useContext(pi);return n||Bn(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ki||(Ki={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ji||(Ji={}));var ta="react-router-scroll-positions",na={};var ra=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),ia=(0,t.createContext)({});var aa=(0,t.createContext)(null),oa="undefined"!==typeof document,sa=oa?t.useLayoutEffect:t.useEffect,la=(0,t.createContext)({strict:!1});function ua(e,n,r,i){var a=(0,t.useContext)(ia).visualElement,o=(0,t.useContext)(la),s=(0,t.useContext)(aa),l=(0,t.useContext)(ra).reducedMotion,u=(0,t.useRef)();i=i||o.renderer,!u.current&&i&&(u.current=i(e,{visualState:n,parent:a,props:r,presenceId:s?s.id:void 0,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));var c=u.current;return sa((function(){c&&c.render()})),sa((function(){c&&c.animationState&&c.animationState.animateChanges()})),sa((function(){return function(){return c&&c.notify("Unmount")}}),[]),c}function ca(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function da(e){return"string"===typeof e||Array.isArray(e)}function fa(e){return"object"===typeof e&&"function"===typeof e.start}var ha=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function pa(e){return fa(e.animate)||ha.some((function(t){return da(e[t])}))}function va(e){return Boolean(pa(e)||e.variants)}function ma(e){var n=function(e,t){if(pa(e)){var n=e.initial,r=e.animate;return{initial:!1===n||da(n)?n:void 0,animate:da(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(ia)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[ga(r),ga(i)])}function ga(e){return Array.isArray(e)?e.join(" "):e}var ya=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},xa={measureLayout:ya(["layout","layoutId","drag"]),animation:ya(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:ya(["exit"]),drag:ya(["drag","dragControls"]),focus:ya(["whileFocus"]),hover:ya(["whileHover","onHoverStart","onHoverEnd"]),tap:ya(["whileTap","onTap","onTapStart","onTapCancel"]),pan:ya(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:ya(["whileInView","onViewportEnter","onViewportLeave"])};function ba(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var _a={hasAnimatedSinceResize:!0,hasEverUpdated:!1},wa=1;var Sa=(0,t.createContext)({}),Ma=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.props,t=e.visualElement,n=e.props;return t&&t.setProps(n),null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Ea=(0,t.createContext)({}),Ta=Symbol.for("motionComponentSymbol");function ka(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,s=e.Component;n&&function(e){for(var t in e)"projectionNodeConstructor"===t?xa.projectionNodeConstructor=e[t]:xa[t].Component=e[t]}(n);var l=(0,t.forwardRef)((function(e,l){var u=je(je(je({},(0,t.useContext)(ra)),e),{},{layoutId:Ca(e)}),c=u.isStatic,d=null,f=ma(e),h=c?void 0:ba((function(){if(_a.hasEverUpdated)return wa++})),p=o(e,c);if(!c&&oa){f.visualElement=ua(s,p,u,r);var v=(0,t.useContext)(la).strict,m=(0,t.useContext)(Ea);f.visualElement&&(d=f.visualElement.loadFeatures(u,v,n,h,i||xa.projectionNodeConstructor,m))}return t.createElement(Ma,{visualElement:f.visualElement,props:u},d,t.createElement(ia.Provider,{value:f},a(s,e,h,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):ca(r)&&(r.current=t))}),[n])}(p,f.visualElement,l),p,c,f.visualElement)))}));return l[Ta]=s,l}function Ca(e){var n=e.layoutId,r=(0,t.useContext)(Sa).id;return r&&void 0!==n?r+"-"+n:n}function Aa(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ka(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Pa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ra(e){return"string"===typeof e&&!e.includes("-")&&!!(Pa.indexOf(e)>-1||/[A-Z]/.test(e))}var Na={};var La=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oa=new Set(La);function Ia(e,t){var n=t.layout,r=t.layoutId;return Oa.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Na[e]||"opacity"===e)}var Da=function(e){return!!(null===e||void 0===e?void 0:e.getVelocity)},Ua={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fa=function(e,t){return La.indexOf(e)-La.indexOf(t)};function za(e){return e.startsWith("--")}var ja=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Ba=function(e,t,n){return Math.min(Math.max(n,e),t)},Ha={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Va=je(je({},Ha),{},{transform:function(e){return Ba(0,1,e)}}),Wa=je(je({},Ha),{},{default:1}),Ga=function(e){return Math.round(1e5*e)/1e5},Xa=/(-)?([\d]*\.?[\d])+/g,qa=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ya=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Za(e){return"string"===typeof e}var Ka=function(e){return{test:function(t){return Za(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Ja=Ka("deg"),$a=Ka("%"),Qa=Ka("px"),eo=Ka("vh"),to=Ka("vw"),no=je(je({},$a),{},{parse:function(e){return $a.parse(e)/100},transform:function(e){return $a.transform(100*e)}}),ro=je(je({},Ha),{},{transform:Math.round}),io={borderWidth:Qa,borderTopWidth:Qa,borderRightWidth:Qa,borderBottomWidth:Qa,borderLeftWidth:Qa,borderRadius:Qa,radius:Qa,borderTopLeftRadius:Qa,borderTopRightRadius:Qa,borderBottomRightRadius:Qa,borderBottomLeftRadius:Qa,width:Qa,maxWidth:Qa,height:Qa,maxHeight:Qa,size:Qa,top:Qa,right:Qa,bottom:Qa,left:Qa,padding:Qa,paddingTop:Qa,paddingRight:Qa,paddingBottom:Qa,paddingLeft:Qa,margin:Qa,marginTop:Qa,marginRight:Qa,marginBottom:Qa,marginLeft:Qa,rotate:Ja,rotateX:Ja,rotateY:Ja,rotateZ:Ja,scale:Wa,scaleX:Wa,scaleY:Wa,scaleZ:Wa,skew:Ja,skewX:Ja,skewY:Ja,distance:Qa,translateX:Qa,translateY:Qa,translateZ:Qa,x:Qa,y:Qa,z:Qa,perspective:Qa,transformPerspective:Qa,opacity:Va,originX:no,originY:no,originZ:Qa,zIndex:ro,fillOpacity:Va,strokeOpacity:Va,numOctaves:ro};function ao(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformKeys,l=e.transformOrigin;s.length=0;var u=!1,c=!1,d=!0;for(var f in t){var h=t[f];if(za(f))a[f]=h;else{var p=io[f],v=ja(h,p);if(Oa.has(f)){if(u=!0,o[f]=v,s.push(f),!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,l[f]=v):i[f]=v}}if(t.transform||(u||r?i.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,l=t.allowTransformNone,u=void 0===l||l,c="";a.sort(Fa);var d,f=Un(a);try{for(f.s();!(d=f.n()).done;){var h=d.value;c+="".concat(Ua[h]||h,"(").concat(i[h],") ")}}catch(p){f.e(p)}finally{f.f()}return s&&!i.z&&(c+="translateZ(0)"),c=c.trim(),r?c=r(i,n?"":c):u&&n&&(c="none"),c}(e,n,d,r):i.transform&&(i.transform="none")),c){var m=l.originX,g=void 0===m?"50%":m,y=l.originY,x=void 0===y?"50%":y,b=l.originZ,_=void 0===b?0:b;i.transformOrigin="".concat(g," ").concat(x," ").concat(_)}}var oo=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function so(e,t,n){for(var r in t)Da(t[r])||Ia(r,n)||(e[r]=t[r])}function lo(e,n,r){var i={};return so(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return ao(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function uo(e,t,n){var r={},i=lo(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var co=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll"].concat(["whileInView","onViewportEnter","onViewportLeave","viewport"],["whileTap","onTap","onTapStart","onTapCancel"],["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],["onPan","onPanStart","onPanSessionStart","onPanEnd"]));function fo(e){return co.has(e)}var ho,po=function(e){return!fo(e)};try{(ho=require("@emotion/is-prop-valid").default)&&(po=function(e){return e.startsWith("on")?!fo(e):ho(e)})}catch(SR){}function vo(e,t,n){var r={};for(var i in e)(po(i)||!0===n&&fo(i)||!t&&!fo(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function mo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function go(e,t,n){return"string"===typeof e?e:Qa.transform(t+n*e)}var yo={offset:"stroke-dashoffset",array:"stroke-dasharray"},xo={offset:"strokeDashoffset",array:"strokeDasharray"};var bo=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function _o(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.originX,l=t.originY,u=t.pathLength,c=t.pathSpacing,d=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;if(ao(e,mo(t,bo),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var p=e.attrs,v=e.style,m=e.dimensions;p.transform&&(m&&(v.transform=p.transform),delete p.transform),m&&(void 0!==s||void 0!==l||v.transform)&&(v.transformOrigin=function(e,t,n){var r=go(t,e.x,e.width),i=go(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==s?s:.5,void 0!==l?l:.5)),void 0!==a&&(p.x=a),void 0!==o&&(p.y=o),void 0!==u&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?yo:xo;e[a.offset]=Qa.transform(-r);var o=Qa.transform(t),s=Qa.transform(n);e[a.array]="".concat(o," ").concat(s)}(p,u,d,h,!1)}}var wo=function(){return je(je({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}})},So=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function Mo(e,n,r,i){var a=(0,t.useMemo)((function(){var t=wo();return _o(t,n,{enableHardwareAcceleration:!1},So(i),e.transformTemplate),je(je({},t.attrs),{},{style:je({},t.style)})}),[n]);if(e.style){var o={};so(o,e.style,e),a.style=je(je({},o),a.style)}return a}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,a,o,s){var l=o.latestValues,u=(Ra(n)?Mo:uo)(r,l,s,n),c=je(je(je({},vo(r,"string"===typeof n,e)),u),{},{ref:a});return i&&(c["data-projection-id"]=i),(0,t.createElement)(n,c)};return n}var To=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function ko(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var Co=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ao(e,t,n,r){for(var i in ko(e,t,void 0,r),t.attrs)e.setAttribute(Co.has(i)?i:To(i),t.attrs[i])}function Po(e){var t=e.style,n={};for(var r in t)(Da(t[r])||Ia(r,e))&&(n[r]=t[r]);return n}function Ro(e){var t=Po(e);for(var n in e){if(Da(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function No(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Lo=function(e){return Array.isArray(e)},Oo=function(e){return Lo(e)?e[e.length-1]||0:e};function Io(e){var t=Da(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var Do=["transitionEnd","transition"];var Uo=function(e){return function(n,r){var i=(0,t.useContext)(ia),a=(0,t.useContext)(aa),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:Fo(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():ba(o)}};function Fo(e,t,n,r){var i={},a=r(e);for(var o in a)i[o]=Io(a[o]);var s=e.initial,l=e.animate,u=pa(e),c=va(e);t&&c&&!u&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===l&&(l=t.animate));var d=!!n&&!1===n.initial,f=(d=d||!1===s)?l:s;f&&"boolean"!==typeof f&&!fa(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=No(e,t);if(n){var r=n.transitionEnd,a=(n.transition,mo(n,Do));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(i[o]=s)}for(var l in r)i[l]=r[l]}}));return i}var zo,jo={useVisualState:Uo({scrapeMotionValuesFromProps:Ro,createRenderState:wo,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}_o(r,i,{enableHardwareAcceleration:!1},So(t.tagName),e.transformTemplate),Ao(t,r)}})},Bo={useVisualState:Uo({scrapeMotionValuesFromProps:Po,createRenderState:oo})};function Ho(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Vo(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return Ho(t,n,r,i)}),[e,n,r,i])}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(zo||(zo={}));var Wo=function(e){return!1!==e.isPrimary};function Go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var Xo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t){return e(t,Go(t))};return t?function(e){return Wo(e)&&n(e)}:n};function qo(e,t,n,r){return Ho(e,t,Xo(n,"pointerdown"===t),r)}function Yo(e,t,n,r){return Vo(e,t,n&&Xo(n,"pointerdown"===t),r)}function Zo(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Ko=Zo("dragHorizontal"),Jo=Zo("dragVertical");function $o(e){var t=!1;if("y"===e)t=Jo();else if("x"===e)t=Ko();else{var n=Ko(),r=Jo();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Qo(){var e=$o(!0);return!e||(e(),!1)}function es(e,t,n){return function(r,i){(function(e){return"pen"!==e.type&&"touch"!==e.type})(r)&&!Qo()&&(e.animationState&&e.animationState.setActive(zo.Hover,t),n&&n(r,i))}}var ts=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function ns(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var rs=function(e,t){return function(n){return t(e(n))}},is=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(rs)};new Set;var as=["root"],os=new WeakMap,ss=new WeakMap,ls=function(e){var t=os.get(e.target);t&&t(e)},us=function(e){e.forEach(ls)};function cs(e,t,n){var r=function(e){var t=e.root,n=mo(e,as),r=t||document;ss.has(r)||ss.set(r,{});var i=ss.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(us,je({root:t},n))),i[a]}(t);return os.set(e,n),r.observe(e),function(){os.delete(e),r.unobserve(e)}}var ds={some:0,all:1};function fs(e,n,r,i){var a=i.root,o=i.margin,s=i.amount,l=void 0===s?"some":s,u=i.once;(0,t.useEffect)((function(){if(e&&r.current){var t={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof l?l:ds[l]};return cs(r.current,t,(function(e){var t=e.isIntersecting;if(n.isInView!==t&&(n.isInView=t,!u||t||!n.hasEnteredView)){t&&(n.hasEnteredView=!0),r.animationState&&r.animationState.setActive(zo.InView,t);var i=r.getProps(),a=t?i.onViewportEnter:i.onViewportLeave;a&&a(e)}}))}}),[e,a,o,l])}function hs(e,n,r,i){var a=i.fallback,o=void 0===a||a;(0,t.useEffect)((function(){e&&o&&requestAnimationFrame((function(){n.hasEnteredView=!0;var e=r.getProps().onViewportEnter;e&&e(null),r.animationState&&r.animationState.setActive(zo.InView,!0)}))}),[e])}var ps=function(e){return function(t){return e(t),null}},vs={inView:ps((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,s=void 0===o?{}:o,l=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),u=Boolean(r||i||a);s.once&&l.current.hasEnteredView&&(u=!1),("undefined"===typeof IntersectionObserver?hs:fs)(u,l.current,n,s)})),tap:ps((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,s=n||r||i||a,l=(0,t.useRef)(!1),u=(0,t.useRef)(null),c={passive:!(r||n||i||v)};function d(){u.current&&u.current(),u.current=null}function f(){return d(),l.current=!1,o.animationState&&o.animationState.setActive(zo.Tap,!1),!Qo()}function h(e,t){f()&&(ts(o.current,e.target)?n&&n(e,t):i&&i(e,t))}function p(e,t){f()&&i&&i(e,t)}function v(e,t){d(),l.current||(l.current=!0,u.current=is(qo(window,"pointerup",h,c),qo(window,"pointercancel",p,c)),o.animationState&&o.animationState.setActive(zo.Tap,!0),r&&r(e,t))}Yo(o,"pointerdown",s?v:void 0,c),ns(d)})),focus:ps((function(e){var t=e.whileFocus,n=e.visualElement,r=n.animationState;Vo(n,"focus",t?function(){r&&r.setActive(zo.Focus,!0)}:void 0),Vo(n,"blur",t?function(){r&&r.setActive(zo.Focus,!1)}:void 0)})),hover:ps((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;Yo(i,"pointerenter",t||r?es(i,!0,t):void 0,{passive:!t}),Yo(i,"pointerleave",n||r?es(i,!1,n):void 0,{passive:!n})}))};function ms(){var e=(0,t.useContext)(aa);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return r&&r(a)}]:[!0]}function gs(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var ys=function(e){return/^\-?\d*\.?\d+$/.test(e)},xs=function(e){return/^0[^.\s]+$/.test(e)},bs={delta:0,timestamp:0},_s=1/60*1e3,ws="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Ss="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(ws())}),_s)};var Ms=!0,Es=!1,Ts=!1,ks=["read","update","preRender","render","postRender"],Cs=ks.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(l){if(i)a=!0;else{i=!0;var u=[n,t];if(t=u[0],(n=u[1]).length=0,r=t.length)for(var c=0;c<r;c++){var d=t[c];d(l),o.has(d)&&(s.schedule(d),e())}i=!1,a&&(a=!1,s.process(l))}}};return s}((function(){return Es=!0})),e}),{}),As=ks.reduce((function(e,t){var n=Cs[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Es||Os(),n.schedule(e,t,r)},e}),{}),Ps=ks.reduce((function(e,t){return e[t]=Cs[t].cancel,e}),{}),Rs=ks.reduce((function(e,t){return e[t]=function(){return Cs[t].process(bs)},e}),{}),Ns=function(e){return Cs[e].process(bs)},Ls=function e(t){Es=!1,bs.delta=Ms?_s:Math.max(Math.min(t-bs.timestamp,40),1),bs.timestamp=t,Ts=!0,ks.forEach(Ns),Ts=!1,Es&&(Ms=!1,Ss(e))},Os=function(){Es=!0,Ms=!0,Ts||Ss(Ls)};function Is(e,t){-1===e.indexOf(t)&&e.push(t)}function Ds(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Us=function(){function e(){_n(this,e),this.subscriptions=[]}return Sn(e,[{key:"add",value:function(e){var t=this;return Is(this.subscriptions,e),function(){return Ds(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}();function Fs(e,t){return t?e*(1e3/t):0}var zs=function(e){return!isNaN(parseFloat(e))},js=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(this,e),this.version="8.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.prev=n.current,n.current=e;var r=bs.delta,i=bs.timestamp;n.lastUpdated!==i&&(n.timeDelta=r,n.lastUpdated=i,As.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.events.change&&n.events.change.notify(n.current),n.events.velocityChange&&n.events.velocityChange.notify(n.getVelocity()),t&&n.events.renderRequest&&n.events.renderRequest.notify(n.current)},this.scheduleVelocityCheck=function(){return As.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.events.velocityChange&&n.events.velocityChange.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=zs(this.current),this.owner=r.owner}return Sn(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Us),this.events[e].add(t)}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e){this.passiveEffect=e}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?Fs(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.stopAnimation&&(this.stopAnimation(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.stopAnimation}},{key:"clearAnimation",value:function(){this.stopAnimation=null}},{key:"destroy",value:function(){this.clearListeners(),this.stop()}}]),e}();function Bs(e,t){return new js(e,t)}var Hs=function(e,t){return function(n){return Boolean(Za(n)&&Ya.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Vs=function(e,t,n){return function(r){var i;if(!Za(r))return r;var a=yn(r.match(Xa),4),o=a[0],s=a[1],l=a[2],u=a[3];return Fe(i={},e,parseFloat(o)),Fe(i,t,parseFloat(s)),Fe(i,n,parseFloat(l)),Fe(i,"alpha",void 0!==u?parseFloat(u):1),i}},Ws=je(je({},Ha),{},{transform:function(e){return Math.round(function(e){return Ba(0,255,e)}(e))}}),Gs={test:Hs("rgb","red"),parse:Vs("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+Ws.transform(t)+", "+Ws.transform(n)+", "+Ws.transform(r)+", "+Ga(Va.transform(a))+")"}};var Xs={test:Hs("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Gs.transform},qs={test:Hs("hsl","hue"),parse:Vs("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+$a.transform(Ga(n))+", "+$a.transform(Ga(r))+", "+Ga(Va.transform(a))+")"}},Ys={test:function(e){return Gs.test(e)||Xs.test(e)||qs.test(e)},parse:function(e){return Gs.test(e)?Gs.parse(e):qs.test(e)?qs.parse(e):Xs.parse(e)},transform:function(e){return Za(e)?e:e.hasOwnProperty("red")?Gs.transform(e):qs.transform(e)}},Zs="${c}",Ks="${n}";function Js(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=0,i=e.match(qa);i&&(n=i.length,e=e.replace(qa,Zs),t.push.apply(t,bn(i.map(Ys.parse))));var a=e.match(Xa);return a&&(r=a.length,e=e.replace(Xa,Ks),t.push.apply(t,bn(a.map(Ha.parse)))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function $s(e){return Js(e).values}function Qs(e){var t=Js(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?Zs:Ks,n<r?Ys.transform(e[n]):Ga(e[n]));return t}}var el=function(e){return"number"===typeof e?0:e};var tl={test:function(e){var t,n;return isNaN(e)&&Za(e)&&((null===(t=e.match(Xa))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(qa))||void 0===n?void 0:n.length)||0)>0},parse:$s,createTransformer:Qs,getAnimatableNone:function(e){var t=$s(e);return Qs(e)(t.map(el))}},nl=new Set(["brightness","contrast","saturate","opacity"]);function rl(e){var t=yn(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=yn(r.match(Xa)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=nl.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var il=/([a-z-]*)\(.*?\)/g,al=je(je({},tl),{},{getAnimatableNone:function(e){var t=e.match(il);return t?t.map(rl).join(" "):e}}),ol=je(je({},io),{},{color:Ys,backgroundColor:Ys,outlineColor:Ys,fill:Ys,stroke:Ys,borderColor:Ys,borderTopColor:Ys,borderRightColor:Ys,borderBottomColor:Ys,borderLeftColor:Ys,filter:al,WebkitFilter:al}),sl=function(e){return ol[e]};function ll(e,t){var n,r=sl(e);return r!==al&&(r=tl),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var ul=function(e){return function(t){return t.test(e)}},cl=[Ha,Qa,$a,Ja,to,eo,{test:function(e){return"auto"===e},parse:function(e){return e}}],dl=function(e){return cl.find(ul(e))},fl=[].concat(bn(cl),[Ys,tl]),hl=function(e){return fl.find(ul(e))};function pl(e,t,n){var r=e.getProps();return No(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var vl=["transitionEnd","transition"];function ml(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bs(n))}function gl(e,t){var n=pl(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,mo(r,vl));for(var s in o=je(je({},o),a)){ml(e,s,Oo(o[s]))}}function yl(e,t){if(t)return(t[e]||t.default||t).from}function xl(e){return Boolean(Da(e)&&e.add)}function bl(e,t){var n=window.MotionAppearAnimations,r=function(e,t){return"".concat(e,": ").concat(t)}(e,Oa.has(t)?"transform":t),i=n&&n.get(r);return i?(As.render((function(){try{i.cancel(),n.delete(r)}catch(e){}})),i.currentTime||0):0}var _l="data-"+To("framerAppearId");var wl=function(e){return 1e3*e},Sl=!1,Ml=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},El=function(e){return function(t){return 1-e(1-t)}},Tl=function(e){return e*e},kl=El(Tl),Cl=Ml(Tl),Al=function(e,t,n){return-n*e+n*t+e};function Pl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var Rl=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Nl=[Xs,Gs,qs];function Ll(e){var t=function(e){return Nl.find((function(t){return t.test(e)}))}(e);Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.");var n=t.parse(e);return t===qs&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var l=r<.5?r*(1+n):r+n-r*n,u=2*r-l;a=Pl(u,l,t+1/3),o=Pl(u,l,t),s=Pl(u,l,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var Ol=function(e,t){var n=Ll(e),r=Ll(t),i=je({},n);return function(e){return i.red=Rl(n.red,r.red,e),i.green=Rl(n.green,r.green,e),i.blue=Rl(n.blue,r.blue,e),i.alpha=Al(n.alpha,r.alpha,e),Gs.transform(i)}};function Il(e,t){return"number"===typeof e?function(n){return Al(e,t,n)}:Ys.test(e)?Ol(e,t):Fl(e,t)}var Dl=function(e,t){var n=bn(e),r=n.length,i=e.map((function(e,n){return Il(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Ul=function(e,t){var n=je(je({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Il(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},Fl=function(e,t){var n=tl.createTransformer(t),r=Js(e),i=Js(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?is(Dl(r.values,i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},zl=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},jl=function(e,t){return function(n){return Al(e,t,n)}};function Bl(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?jl:"string"===typeof e?Ys.test(e)?Ol:Fl:Array.isArray(e)?Dl:"object"===typeof e?Ul:jl}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var l=Array.isArray(t)?t[o]:t;s=is(l,s)}r.push(s)}return r}function Hl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=bn(e).reverse(),t=bn(t).reverse());var l=Bl(t,a,o),u=l.length,c=function(t){var n=0;if(u>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=zl(e[n],e[n+1],t);return l[n](r)};return i?function(t){return c(Ba(e[0],e[s-1],t))}:c}var Vl=function(e){return e},Wl=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e};function Gl(e,t,n,r){if(e===t&&n===r)return Vl;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=Wl(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:Wl(i(e),t,r)}}var Xl=function(e){return 1-Math.sin(Math.acos(e))},ql=El(Xl),Yl=Ml(ql),Zl=Gl(.33,1.53,.69,.99),Kl=El(Zl),Jl=Ml(Kl),$l={linear:Vl,easeIn:Tl,easeInOut:Cl,easeOut:kl,circIn:Xl,circInOut:Yl,circOut:ql,backIn:Kl,backInOut:Jl,backOut:Zl,anticipate:function(e){return(e*=2)<1?.5*Kl(e):.5*(2-Math.pow(2,-10*(e-1)))}},Ql=function(e){if(Array.isArray(e)){e.length;var t=yn(e,4);return Gl(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),$l[e]):e};function eu(e){var t=e.keyframes,n=e.ease,r=void 0===n?Cl:n,i=e.times,a=e.duration,o=void 0===a?300:a;t=bn(t);var s=eu[0],l=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(r)?r.map(Ql):Ql(r),u={done:!1,value:s},c=function(e,t){return e.map((function(e){return e*t}))}(i&&i.length===eu.length?i:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(t),o);function d(){return Hl(c,t,{ease:Array.isArray(l)?l:(e=t,n=l,e.map((function(){return n||Cl})).splice(0,e.length-1))});var e,n}var f=d();return{next:function(e){return u.value=f(e),u.done=e>=o,u},flipTarget:function(){t.reverse(),f=d()}}}var tu=.001;function nu(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u,d=1-o;d=Ba(.05,1,d),i=Ba(.01,10,i/1e3),d<1?(t=function(e){var t=e*d,n=t*i,r=t-l,a=ru(e,d),o=Math.exp(-n);return tu-r/a*o},n=function(e){var n=e*d*i,r=n*l+l,a=Math.pow(d,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=ru(Math.pow(e,2),d);return(-t(e)+tu>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-l)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(l-e))});var f=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(f))return{stiffness:100,damping:10,duration:i};var h=Math.pow(f,2)*c;return{stiffness:h,damping:2*d*Math.sqrt(c*h),duration:i}}function ru(e,t){return e*Math.sqrt(1-t*t)}var iu=["keyframes","restSpeed","restDelta"],au=["duration","bounce"],ou=["stiffness","damping","mass"];function su(e,t){return t.some((function(t){return void 0!==e[t]}))}function lu(e){var t=e.keyframes,n=e.restSpeed,r=void 0===n?2:n,i=e.restDelta,a=void 0===i?.01:i,o=mo(e,iu),s=t[0],l=t[t.length-1],u={done:!1,value:s},c=function(e){var t=je({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!su(e,ou)&&su(e,au)){var n=nu(e);(t=je(je(je({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(o),d=c.stiffness,f=c.damping,h=c.mass,p=c.velocity,v=c.duration,m=c.isResolvedFromDuration,g=uu,y=p?-p/1e3:0,x=f/(2*Math.sqrt(d*h));function b(){var e=l-s,t=Math.sqrt(d/h)/1e3;if(void 0===a&&(a=Math.min(Math.abs(l-s)/100,.4)),x<1){var n=ru(t,x);g=function(r){var i=Math.exp(-x*t*r);return l-i*((y+x*t*e)/n*Math.sin(n*r)+e*Math.cos(n*r))}}else if(1===x)g=function(n){return l-Math.exp(-t*n)*(e+(y+t*e)*n)};else{var r=t*Math.sqrt(x*x-1);g=function(n){var i=Math.exp(-x*t*n),a=Math.min(r*n,300);return l-i*((y+x*t*e)*Math.sinh(a)+r*e*Math.cosh(a))/r}}}return b(),{next:function(e){var t=g(e);if(m)u.done=e>=v;else{var n=y;if(0!==e)if(x<1){var i=Math.max(0,e-5);n=Fs(t-g(i),e-i)}else n=0;var o=Math.abs(n)<=r,s=Math.abs(l-t)<=a;u.done=o&&s}return u.value=u.done?l:t,u},flipTarget:function(){y=-y;var e=[l,s];s=e[0],l=e[1],b()}}}lu.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var uu=function(e){return 0};var cu=["duration","driver","elapsed","repeat","repeatType","repeatDelay","keyframes","autoplay","onPlay","onStop","onComplete","onRepeat","onUpdate","type"],du={decay:function(e){var t=e.keyframes,n=void 0===t?[0]:t,r=e.velocity,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,l=void 0===s?350:s,u=e.restDelta,c=void 0===u?.5:u,d=e.modifyTarget,f=n[0],h={done:!1,value:f},p=o*i,v=f+p,m=void 0===d?v:d(v);return m!==v&&(p=m-f),{next:function(e){var t=-p*Math.exp(-e/l);return h.done=!(t>c||t<-c),h.value=h.done?m:m+t,h},flipTarget:function(){}}},keyframes:eu,tween:eu,spring:lu};function fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var hu=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return As.update(t,!0)},stop:function(){return Ps.update(t)}}};function pu(e){var t,n,r,i,a,o=e.duration,s=e.driver,l=void 0===s?hu:s,u=e.elapsed,c=void 0===u?0:u,d=e.repeat,f=void 0===d?0:d,h=e.repeatType,p=void 0===h?"loop":h,v=e.repeatDelay,m=void 0===v?0:v,g=e.keyframes,y=e.autoplay,x=void 0===y||y,b=e.onPlay,_=e.onStop,w=e.onComplete,S=e.onRepeat,M=e.onUpdate,E=e.type,T=void 0===E?"keyframes":E,k=mo(e,cu),C=0,A=o,P=!1,R=!0,N=du[g.length>2?"keyframes":T],L=g[0],O=g[g.length-1];(null===(n=(t=N).needsInterpolation)||void 0===n?void 0:n.call(t,L,O))&&(a=Hl([0,100],[L,O],{clamp:!1}),g=[0,100]);var I=N(je(je({},k),{},{duration:o,keyframes:g}));function D(){C++,"reverse"===p?c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r?fu(t+-e,t,n):t-(e-t)+n}(c,A,m,R=C%2===0):(c=fu(c,A,m),"mirror"===p&&I.flipTarget()),P=!1,S&&S()}function U(e){if(R||(e=-e),c+=e,!P){var t=I.next(Math.max(0,c));i=t.value,a&&(i=a(i)),P=R?t.done:c<=0}M&&M(i),P&&(0===C&&(A=void 0!==A?A:c),C<f?function(e,t,n,r){return r?e>=t+n:e<=-n}(c,A,m,R)&&D():(r.stop(),w&&w()))}return x&&(b&&b(),(r=l(U)).start()),{stop:function(){_&&_(),r.stop()},sample:function(e){return I.next(Math.max(0,e))}}}var vu=function(e){var t=yn(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},mu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function gu(e){if(e)return Array.isArray(e)?vu(e):mu[e]}var yu=["onUpdate","onComplete"];function xu(e,t,n){n.onUpdate;var r,i=n.onComplete,a=mo(n,yu),o=a.keyframes,s=a.duration,l=void 0===s?300:s,u=a.elapsed,c=void 0===u?0:u,d=a.ease;if("spring"===a.type||!(!(r=a.ease)||Array.isArray(r)||"string"===typeof r&&mu[r])){for(var f=pu(a),h={done:!1,value:o[0]},p=[],v=0;!h.done;)h=f.sample(v),p.push(h.value),v+=10;o=p,l=v-10,d="linear"}var m=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.delay,o=void 0===a?0:a,s=i.duration,l=i.repeat,u=void 0===l?0:l,c=i.repeatType,d=void 0===c?"loop":c,f=i.ease,h=i.times;return e.animate((Fe(r={},t,n),Fe(r,"offset",h),r),{delay:o,duration:s,easing:gu(f),fill:"both",iterations:u+1,direction:"reverse"===d?"alternate":"normal"})}(e.owner.current,t,o,je(je({},a),{},{delay:-c,duration:l,ease:d}));return m.onfinish=function(){e.set(o[o.length-1]),i&&i()},function(){var t=m.currentTime;if(t){var n=pu(a);e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}As.update((function(){return m.cancel()}))}}function bu(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(Ps.read(r),e(a-t))};return As.read(r,!0),function(){return Ps.read(r)}}function _u(e){var t=e.keyframes,n=e.elapsed,r=e.onUpdate,i=e.onComplete,a=function(){return r&&r(t[t.length-1]),i&&i(),function(){}};return n?bu(a,-n):a()}function wu(e){var t,n=e.keyframes,r=e.velocity,i=void 0===r?0:r,a=e.min,o=e.max,s=e.power,l=void 0===s?.8:s,u=e.timeConstant,c=void 0===u?750:u,d=e.bounceStiffness,f=void 0===d?500:d,h=e.bounceDamping,p=void 0===h?10:h,v=e.restDelta,m=void 0===v?1:v,g=e.modifyTarget,y=e.driver,x=e.onUpdate,b=e.onComplete,_=e.onStop,w=n[0];function S(e){return void 0!==a&&e<a||void 0!==o&&e>o}function M(e){return void 0===a?o:void 0===o||Math.abs(a-e)<Math.abs(o-e)?a:o}function E(e){null===t||void 0===t||t.stop(),t=pu(je(je({keyframes:[0,1],velocity:0},e),{},{driver:y,onUpdate:function(t){var n;null===x||void 0===x||x(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:b,onStop:_}))}function T(e){E(je({type:"spring",stiffness:f,damping:p,restDelta:m},e))}if(S(w))T({velocity:i,keyframes:[w,M(w)]});else{var k=l*i+w;"undefined"!==typeof g&&(k=g(k));var C,A,P=M(k),R=P===a?-1:1;E({type:"decay",keyframes:[w,0],velocity:i,timeConstant:c,power:l,restDelta:m,modifyTarget:g,onUpdate:S(k)?function(e){C=A,A=e,i=Fs(e-C,bs.delta),(1===R&&e>P||-1===R&&e<P)&&T({keyframes:[e,P],velocity:i})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}var Su=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Mu=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},Eu=function(){return{type:"keyframes",ease:"linear",duration:.3}},Tu={type:"keyframes",duration:.8},ku={x:Su,y:Su,z:Su,rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scaleX:Mu,scaleY:Mu,scale:Mu,opacity:Eu,backgroundColor:Eu,color:Eu,default:Mu},Cu=function(e,t){var n=t.keyframes;return n.length>2?Tu:(ku[e]||ku.default)(n[1])},Au=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!tl.test(t)||t.startsWith("url(")))},Pu=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Ru(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=mo(e,Pu);return!!Object.keys(t).length}function Nu(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Lu(e){return"number"===typeof e?0:ll("",e)}function Ou(e,t){return e[t]||e.default||e}function Iu(e,t,n,r){var i=Au(t,n),a=void 0!==r.from?r.from:e.get();return"none"===a&&i&&"string"===typeof n?a=ll(t,n):Nu(a)&&"string"===typeof n?a=Lu(n):!Array.isArray(n)&&Nu(n)&&"string"===typeof a&&(n=Lu(a)),Array.isArray(n)?(null===n[0]&&(n[0]=a),n):[a,n]}var Du={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},Uu={},Fu={},zu=function(e){Fu[e]=function(){return void 0===Uu[e]&&(Uu[e]=Du[e]()),Uu[e]}};for(var ju in Du)zu(ju);var Bu=new Set(["opacity"]),Hu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=Ou(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,l=void 0===s?0:s;l-=wl(o);var u=Iu(t,e,n,a),c=u[0],d=u[u.length-1],f=Au(e,c),h=Au(e,d);"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(d,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(d," via the `style` property.");var p=je(je({keyframes:u,velocity:t.getVelocity()},a),{},{elapsed:l,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(!f||!h||Sl||!1===a.type)return _u(p);if("inertia"===a.type){var v=wu(p);return function(){return v.stop()}}Ru(a)||(p=je(je({},p),Cu(e,p))),p.duration&&(p.duration=wl(p.duration)),p.repeatDelay&&(p.repeatDelay=wl(p.repeatDelay));var m=t.owner,g=m&&m.current;if(Fu.waapi()&&Bu.has(e)&&!p.repeatDelay&&"mirror"!==p.repeatType&&0!==p.damping&&m&&g instanceof HTMLElement&&!m.getProps().onUpdate)return xu(t,e,p);var y=pu(p);return function(){return y.stop()}}},Vu=["transition","transitionEnd"];function Wu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=pl(e,t,r.custom),a=i||{},o=a.transition,s=void 0===o?e.getDefaultTransition()||{}:o;r.transitionOverride&&(s=r.transitionOverride);var l=i?function(){return Gu(e,i,r)}:function(){return Promise.resolve()},u=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=s,a=i.delayChildren,o=void 0===a?0:a,l=i.staggerChildren,u=i.staggerDirection;return Xu(e,t,o+n,l,u,r)}:function(){return Promise.resolve()},c=s,d=c.when;if(d){var f="beforeChildren"===d?[l,u]:[u,l],h=yn(f,2),p=h[0],v=h[1];return p().then(v)}return Promise.all([l(),u(r.delay)])}function Gu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?0:i,o=r.transitionOverride,s=r.type,l=e.makeTargetAnimatable(t),u=l.transition,c=void 0===u?e.getDefaultTransition():u,d=l.transitionEnd,f=mo(l,Vu),h=e.getValue("willChange");o&&(c=o);var p=[],v=s&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[s]),m=function(t){var n=e.getValue(t),r=f[t];if(!n||void 0===r||v&&Yu(v,t))return"continue";var i=je({delay:a,elapsed:0},c);if(e.shouldReduceMotion&&Oa.has(t)&&(i=je(je({},i),{},{type:!1,delay:0})),!n.hasAnimated){var o=e.getProps()[_l];o&&(i.elapsed=bl(o,t))}var s=n.start(Hu(t,n,r,i));xl(h)&&(h.add(t),s=s.then((function(){return h.remove(t)}))),p.push(s)};for(var g in f)m(g);return Promise.all(p).then((function(){d&&gl(e,d)}))}function Xu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return s-e*r};return Array.from(e.variantChildren).sort(qu).forEach((function(e,r){o.push(Wu(e,t,je(je({},a),{},{delay:n+l(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}function qu(e,t){return e.sortNodePosition(t)}function Yu(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var Zu=["transition","transitionEnd"],Ku=[zo.Animate,zo.InView,zo.Focus,zo.Hover,zo.Tap,zo.Drag,zo.Exit],Ju=[].concat(Ku).reverse(),$u=Ku.length;function Qu(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return Wu(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=Wu(e,t,r);else{var a="function"===typeof t?pl(e,t,r.custom):t;n=Gu(e,a,r)}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function ec(e){var t=Qu(e),n=function(){var e;return Fe(e={},zo.Animate,tc(!0)),Fe(e,zo.InView,tc()),Fe(e,zo.Hover,tc()),Fe(e,zo.Tap,tc()),Fe(e,zo.Drag,tc()),Fe(e,zo.Focus,tc()),Fe(e,zo.Exit,tc()),e}(),r=!0,i=function(t,n){var r=pl(e,n);if(r){r.transition;var i=r.transitionEnd,a=mo(r,Zu);t=je(je(je({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set,d={},f=1/0,h=function(t){var h=Ju[t],p=n[h],v=void 0!==s[h]?s[h]:l[h],m=da(v),g=h===o?p.isActive:null;!1===g&&(f=t);var y=v===l[h]&&v!==s[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=je({},d),!p.isActive&&null===g||!v&&!p.prevProp||fa(v)||"boolean"===typeof v)return"continue";var x=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!gs(t,e);return!1}(p.prevProp,v),b=x||h===o&&p.isActive&&!y&&m||t>f&&m,_=Array.isArray(v)?v:[v],w=_.reduce(i,{});!1===g&&(w={});var S=p.prevResolvedValues,M=void 0===S?{}:S,E=je(je({},M),w),T=function(e){b=!0,c.delete(e),p.needsAnimating[e]=!0};for(var k in E){var C=w[k],A=M[k];d.hasOwnProperty(k)||(C!==A?Lo(C)&&Lo(A)?!gs(C,A)||x?T(k):p.protectedKeys[k]=!0:void 0!==C?T(k):c.add(k):void 0!==C&&c.has(k)?T(k):p.protectedKeys[k]=!0)}p.prevProp=v,p.prevResolvedValues=w,p.isActive&&(d=je(je({},d),w)),r&&e.blockInitialAnimation&&(b=!1),b&&!y&&u.push.apply(u,bn(_.map((function(e){return{animation:e,options:je({type:h},a)}}))))},p=0;p<$u;p++)h(p);if(c.size){var v={};c.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),u.push({animation:v})}var m=Boolean(u.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(u):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var l in n)n[l].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function tc(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var nc={animation:ps((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=ec(n)),fa(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:ps((function(e){var n=e.custom,r=e.visualElement,i=yn(ms(),2),a=i[0],o=i[1],s=(0,t.useContext)(aa);(0,t.useEffect)((function(){r.isPresent=a;var e=r.animationState&&r.animationState.setActive(zo.Exit,!a,{custom:s&&s.custom||n});e&&!a&&e.then(o)}),[a])}))},rc=function(e,t){return Math.abs(e-t)};function ic(e,t){var n=rc(e.x,t.x),r=rc(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}var ac=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint;if(_n(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=lc(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=ic(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=bs.timestamp;r.history.push(je(je({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,l=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),l&&l(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){Wo(e)&&(r.lastMoveEvent=e,r.lastMoveEventInfo=oc(t,r.transformPagePoint),As.update(r.updatePoint,!0))},this.handlePointerUp=function(e,t){if(Wo(e)){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=lc(oc(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},Wo(t)){this.handlers=n,this.transformPagePoint=a;var o=Go(t),s=oc(o,this.transformPagePoint),l=s.point,u=bs.timestamp;this.history=[je(je({},l),{},{timestamp:u})];var c=n.onSessionStart;c&&c(t,lc(s,this.history)),this.removeListeners=is(qo(window,"pointermove",this.handlePointerMove),qo(window,"pointerup",this.handlePointerUp),qo(window,"pointercancel",this.handlePointerUp))}}return Sn(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),Ps.update(this.updatePoint)}}]),e}();function oc(e,t){return t?{point:t(e.point)}:e}function sc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lc(e,t){var n=e.point;return{point:n,delta:sc(n,cc(t)),offset:sc(n,uc(t)),velocity:dc(t,.1)}}function uc(e){return e[0]}function cc(e){return e[e.length-1]}function dc(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=cc(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>wl(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fc(e){return e.max-e.min}function hc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function pc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Al(t.min,t.max,e.origin),e.scale=fc(n)/fc(t),(hc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Al(n.min,n.max,e.origin)-e.originPoint,(hc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vc(e,t,n,r){pc(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),pc(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function mc(e,t,n){e.min=n.min+t.min,e.max=e.min+fc(t)}function gc(e,t,n){e.min=t.min-n.min,e.max=e.min+fc(t)}function yc(e,t,n){gc(e.x,t.x,n.x),gc(e.y,t.y,n.y)}function xc(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function bc(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var _c=.35;function wc(e,t,n){return{min:Sc(e,t),max:Sc(e,n)}}function Sc(e,t){return"number"===typeof e?e:e[t]||0}function Mc(e){return[e("x"),e("y")]}function Ec(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Tc(e){return void 0===e||1===e}function kc(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Tc(t)||!Tc(n)||!Tc(r)}function Cc(e){return kc(e)||Ac(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ac(e){return Pc(e.x)||Pc(e.y)}function Pc(e){return e&&"0%"!==e}function Rc(e,t,n){return n+t*(e-n)}function Nc(e,t,n,r,i){return void 0!==i&&(e=Rc(e,i,r)),Rc(e,n,r)+t}function Lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Nc(e.min,t,n,r,i),e.max=Nc(e.max,t,n,r,i)}function Oc(e,t){var n=t.x,r=t.y;Lc(e.x,n.translate,n.scale,n.originPoint),Lc(e.y,r.translate,r.scale,r.originPoint)}function Ic(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Dc(e,t){e.min=e.min+t,e.max=e.max+t}function Uc(e,t,n){var r=yn(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,l=Al(e.min,e.max,s);Lc(e,t[i],t[a],l,t.scale)}var Fc=["x","scaleX","originX"],zc=["y","scaleY","originY"];function jc(e,t){Uc(e.x,t,Fc),Uc(e.y,t,zc)}function Bc(e,t){return Ec(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Hc=new WeakMap,Vc=function(){function e(t){_n(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return Sn(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var a=function(e){t.stopAnimation(),i&&t.snapToCursor(Go(e,"page").point)},o=function(e,n){var r,i=t.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=$o(a),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Mc((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if($a.test(i)){var a=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.layoutBox[e];if(a)i=fc(a)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===s||void 0===s||s(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(zo.Drag,!0))},s=function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var l=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=Gc(l),void(null!==t.currentDirection&&(null===o||void 0===o||o(t.currentDirection)));t.updateAxis("x",n.point,l),t.updateAxis("y",n.point,l),t.visualElement.render(),null===s||void 0===s||s(e,n)}},l=function(e,n){return t.stop(e,n)};this.panSession=new ac(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(zo.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&Wc(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Al(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Al(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&ca(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:xc(e.x,r,a),y:xc(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c;return!1===e?e=0:!0===e&&(e=_c),{x:wc(e,"left","right"),y:wc(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mc((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!ca(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=Bc(e,n),i=t.scroll;return i&&(Dc(r.x,i.offset.x),Dc(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:bc(e.x,t.x),y:bc(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=Ec(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,l=n.onDragTransitionEnd,u=this.constraints||{},c=Mc((function(n){if(Wc(n,r,t.currentDirection)){var l=(null===u||void 0===u?void 0:u[n])||{};s&&(l={min:0,max:0});var c=a?200:1e6,d=a?40:1e7,f=je(je({type:"inertia",velocity:i?e[n]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,f)}}));return Promise.all(c).then(l)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(Hu(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;Mc((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[n];return r||this.visualElement.getValue(e,(null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])||0)}},{key:"snapToCursor",value:function(e){var t=this;Mc((function(n){if(Wc(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-Al(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this;if(this.visualElement.current){var n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(ca(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Mc((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=fc(e),i=fc(t);return i>r?n=zl(t.min,t.max-r,e.min):r>i&&(n=zl(e.min,e.max-i,t.min)),Ba(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),Mc((function(e){if(Wc(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(Al(a,s,o[e]))}}))}}}},{key:"addListeners",value:function(){var e,t=this;if(this.visualElement.current){Hc.set(this.visualElement,this);var n=qo(this.visualElement.current,"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){ca(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=Ho(window,"resize",(function(){return t.scalePositionWithinConstraints()})),s=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Mc((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.render())}));return function(){o(),n(),a(),null===s||void 0===s||s()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,l=void 0!==s&&s,u=e.dragElastic,c=void 0===u?_c:u,d=e.dragMomentum,f=void 0===d||d;return je(je({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f})}}]),e}();function Wc(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function Gc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var Xc={pan:ps((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,s=n||r||i||a,l=(0,t.useRef)(null),u=(0,t.useContext)(ra).transformPagePoint,c={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){l.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==l.current&&l.current.updateHandlers(c)})),Yo(o,"pointerdown",s&&function(e){l.current=new ac(e,c,{transformPagePoint:u})}),ns((function(){return l.current&&l.current.end()}))})),drag:ps((function(e){var n=e.dragControls,r=e.visualElement,i=ba((function(){return new Vc(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))};function qc(e){return"string"===typeof e&&e.startsWith("var(--")}var Yc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Zc(e){var t=Yc.exec(e);if(!t)return[,];var n=yn(t,3);return[n[1],n[2]]}function Kc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=Zc(e),i=yn(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():qc(o)?Kc(o,t,n+1):o}}function Jc(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=je({},n)),e.values.forEach((function(e){var t=e.get();if(qc(t)){var n=Kc(t,i);n&&e.set(n)}})),r){var o=r[a];if(qc(o)){var s=Kc(o,i);s&&(r[a]=s,n&&void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var $c,Qc=new Set(["width","height","top","left","right","bottom","x","y"]),ed=function(e){return Qc.has(e)},td=function(e,t){e.set(t,!1),e.set(t)},nd=function(e){return e===Ha||e===Qa};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}($c||($c={}));var rd=function(e,t){return parseFloat(e.split(", ")[t])},id=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return rd(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?rd(o[1],e):0}},ad=new Set(["x","y","z"]),od=La.filter((function(e){return!ad.has(e)}));function sd(e){var t=[];return od.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}var ld={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:id(4,13),y:id(5,14)},ud=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=ld[e](r,a)})),t.render();var l=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);td(r,s[n]),e[n]=ld[n](l,a)})),e};function cd(e,t,n,r){return function(e){return Object.keys(e).some(ed)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=je({},t),r=je({},r);var i=Object.keys(t).filter(ed),a=[],o=!1,s=[];if(i.forEach((function(i){var l=e.getValue(i);if(e.hasValue(i)){var u,c=n[i],d=dl(c),f=t[i];if(Lo(f)){var h=f.length,p=null===f[0]?1:0;c=f[p],d=dl(c);for(var v=p;v<h;v++)u?dl(f[v]):(u=dl(f[v]))===d||nd(d)&&nd(u)}else u=dl(f);if(d!==u)if(nd(d)&&nd(u)){var m=l.get();"string"===typeof m&&l.set(parseFloat(m)),"string"===typeof f?t[i]=parseFloat(f):Array.isArray(f)&&u===Qa&&(t[i]=f.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===c||0===f)?0===c?l.set(u.transform(c)):t[i]=d.transform(f):(o||(a=sd(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],td(l,f))}})),s.length){var l=s.indexOf("height")>=0?window.pageYOffset:null,u=ud(t,e,s);return a.length&&a.forEach((function(t){var n=yn(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),oa&&null!==l&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var dd={current:null},fd={current:!1};var hd=["willChange"],pd=Object.keys(xa),vd=pd.length,md=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gd=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.reducedMotionConfig,o=t.visualState,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return As.render(n.render,!1,!0)};var l=o.latestValues,u=o.renderState;this.latestValues=l,this.baseTarget=je({},l),this.initialValues=i.initial?je({},l):{},this.renderState=u,this.parent=r,this.props=i,this.depth=r?r.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.isControllingVariants=pa(i),this.isVariantNode=va(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var c=this.scrapeMotionValuesFromProps(i),d=c.willChange,f=mo(c,hd);for(var h in f){var p=f[h];void 0!==l[h]&&Da(p)&&(p.set(l[h],!1),xl(d)&&d.add(h))}}return Sn(e,[{key:"scrapeMotionValuesFromProps",value:function(e){return{}}},{key:"mount",value:function(e){var t,n=this;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=null===(t=this.parent)||void 0===t?void 0:t.addVariantChild(this)),this.values.forEach((function(e,t){return n.bindToMotionValue(t,e)})),fd.current||function(){if(fd.current=!0,oa)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return dd.current=e.matches};e.addListener(t),t()}else dd.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||dd.current),this.parent&&this.parent.children.add(this),this.setProps(this.props)}},{key:"unmount",value:function(){var e,t,n;for(var r in null===(e=this.projection)||void 0===e||e.unmount(),Ps.update(this.notifyUpdate),Ps.render(this.render),this.valueSubscriptions.forEach((function(e){return e()})),null===(t=this.removeFromVariantTree)||void 0===t||t.call(this),null===(n=this.parent)||void 0===n||n.children.delete(this),this.events)this.events[r].clear();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=Oa.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&As.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,n,r,i,a,o){var s=this,l=[];for(var u=0;u<vd;u++){var c=pd[u],d=xa[c],f=d.isEnabled,h=d.Component;f(e)&&h&&l.push((0,t.createElement)(h,je(je({key:c},e),{},{visualElement:this})))}if(!this.projection&&a){this.projection=new a(i,this.latestValues,this.parent&&this.parent.projection);var p=e.layoutId,v=e.layout,m=e.drag,g=e.dragConstraints,y=e.layoutScroll;this.projection.setOptions({layoutId:p,layout:v,alwaysMeasureLayout:Boolean(m)||g&&ca(g),visualElement:this,scheduleRender:function(){return s.scheduleRender()},animationType:"string"===typeof v?v:"both",initialPromotionConfig:o,layoutScroll:y})}return l}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"setProps",value:function(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(var t=0;t<md.length;t++){var n=md[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);var r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(Da(a))e.addValue(i,a),xl(r)&&r.add(i);else if(Da(o))e.addValue(i,Bs(a,{owner:e})),xl(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var l=e.getStaticValue(i);e.addValue(i,Bs(void 0!==l?l:a))}}for(var u in n)void 0===t[u]&&e.removeValue(u);return t}(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){var t;return null===(t=this.props.variants)||void 0===t?void 0:t[e]}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){var e;return this.isVariantNode?this:null===(e=this.parent)||void 0===e?void 0:e.getClosestVariantNode()}},{key:"getVariantContext",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n)return null===(e=this.parent)||void 0===e?void 0:e.getVariantContext();if(!this.isControllingVariants){var r=(null===(t=this.parent)||void 0===t?void 0:t.getVariantContext())||{};return void 0!==this.props.initial&&(r.initial=this.props.initial),r}for(var i={},a=0;a<xd;a++){var o=yd[a],s=this.props[o];(da(s)||!1===s)&&(i[o]=s)}return i}},{key:"addVariantChild",value:function(e){var t,n=this.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}},{key:"removeValue",value:function(e){var t;this.values.delete(e),null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Bs(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=No(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Da(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Us),this.events[e].add(t)}},{key:"notify",value:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];null===(n=this.events[e])||void 0===n||(t=n).notify.apply(t,i)}}]),e}(),yd=["initial"].concat(bn(Ku)),xd=yd.length,bd=["transition","transitionEnd"],_d=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=mo(e,bd),o=t.transformValues,s=function(e,t,n){var r,i={};for(var a in e){var o=yl(a,t);i[a]=void 0!==o?o:null===(r=n.getValue(a))||void 0===r?void 0:r.get()}return i}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var l=a[s],u=t[l],c=null;Array.isArray(u)&&(c=u[0]),null===c&&(c=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==c&&null!==c&&("string"===typeof c&&(ys(c)||xs(c))?c=parseFloat(c):!hl(c)&&tl.test(u)&&(c=ll(l,u)),e.addValue(l,Bs(c,{owner:e})),void 0===n[l]&&(n[l]=c),null!==c&&e.setBaseTarget(l,c))}}(this,a,s);var l=function(e,t,n,r){var i=Jc(e,t,r);return cd(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=l.transitionEnd,a=l.target}return je({transition:r,transitionEnd:i},a)}}]),n}(gd);var wd=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"readValueFromInstance",value:function(e,t){if(Oa.has(t)){var n=sl(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(za(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return Bc(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){ao(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e){return Po(e)}},{key:"renderInstance",value:function(e,t,n,r){ko(e,t,n,r)}}]),n}(_d);function Sd(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Tn(e)););return e}function Md(){return Md="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Sd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Md.apply(null,arguments)}var Ed=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return Sn(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){var n;return Oa.has(t)?(null===(n=sl(t))||void 0===n?void 0:n.default)||0:(t=Co.has(t)?t:To(t),e.getAttribute(t))}},{key:"measureInstanceViewportBox",value:function(){return{x:{min:0,max:0},y:{min:0,max:0}}}},{key:"scrapeMotionValuesFromProps",value:function(e){return Ro(e)}},{key:"build",value:function(e,t,n,r){_o(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){Ao(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=So(e.tagName),Md(Tn(n.prototype),"mount",this).call(this,e)}}]),n}(_d),Td=function(e,t){return Ra(e)?new Ed(t,{enableHardwareAcceleration:!1}):new wd(t,{enableHardwareAcceleration:!0})};function kd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Cd={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Qa.test(e))return e;e=parseFloat(e)}var n=kd(e,t.target.x),r=kd(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Ad="_$css",Pd={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(Yc,(function(e){return o.push(e),Ad})));var s=tl.parse(e);if(s.length>5)return i;var l=tl.createTransformer(e),u="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,d=r.y.scale*n.y;s[0+u]/=c,s[1+u]/=d;var f=Al(c,d,.5);"number"===typeof s[2+u]&&(s[2+u]/=f),"number"===typeof s[3+u]&&(s[3+u]/=f);var h=l(s);if(a){var p=0;h=h.replace(Ad,(function(){var e=o[p];return p++,e}))}return h}},Rd=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=Nd,Object.assign(Na,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(je(je({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),_a.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||As.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(t.Component);var Nd={borderRadius:je(je({},Cd),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Cd,borderTopRightRadius:Cd,borderBottomLeftRadius:Cd,borderBottomRightRadius:Cd,boxShadow:Pd},Ld={measureLayout:function(e){var n=yn(ms(),2),r=n[0],i=n[1],a=(0,t.useContext)(Sa);return t.createElement(Rd,je(je({},e),{},{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(Ea),isPresent:r,safeToRemove:i}))}};var Od=["TopLeft","TopRight","BottomLeft","BottomRight"],Id=Od.length,Dd=function(e){return"string"===typeof e?parseFloat(e):e},Ud=function(e){return"number"===typeof e||Qa.test(e)};function Fd(e,t,n,r,i,a){i?(e.opacity=Al(0,void 0!==n.opacity?n.opacity:1,jd(r)),e.opacityExit=Al(void 0!==t.opacity?t.opacity:1,0,Bd(r))):a&&(e.opacity=Al(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<Id;o++){var s="border".concat(Od[o],"Radius"),l=zd(t,s),u=zd(n,s);if(void 0!==l||void 0!==u)l||(l=0),u||(u=0),0===l||0===u||Ud(l)===Ud(u)?(e[s]=Math.max(Al(Dd(l),Dd(u),r),0),($a.test(u)||$a.test(l))&&(e[s]+="%")):e[s]=u}(t.rotate||n.rotate)&&(e.rotate=Al(t.rotate||0,n.rotate||0,r))}function zd(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var jd=Hd(0,.5,ql),Bd=Hd(.5,.95,Vl);function Hd(e,t,n){return function(r){return r<e?0:r>t?1:n(zl(e,t,r))}}function Vd(e,t){e.min=t.min,e.max=t.max}function Wd(e,t){Vd(e.x,t.x),Vd(e.y,t.y)}function Gd(e,t,n,r,i){return e=Rc(e-=t,1/n,r),void 0!==i&&(e=Rc(e,1/i,r)),e}function Xd(e,t,n,r,i){var a=yn(n,3),o=a[0],s=a[1],l=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if($a.test(t)){t=parseFloat(t),t=Al(o.min,o.max,t/100)-o.min}if("number"===typeof t){var s=Al(a.min,a.max,r);e===a&&(s-=t),e.min=Gd(e.min,t,n,s,i),e.max=Gd(e.max,t,n,s,i)}}(e,t[o],t[s],t[l],t.scale,r,i)}var qd=["x","scaleX","originX"],Yd=["y","scaleY","originY"];function Zd(e,t,n,r){Xd(e.x,t,qd,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),Xd(e.y,t,Yd,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function Kd(e){return 0===e.translate&&1===e.scale}function Jd(e){return Kd(e.x)&&Kd(e.y)}function $d(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Qd(e){return fc(e.x)/fc(e.y)}var ef=function(){function e(){_n(this,e),this.members=[]}return Sn(e,[{key:"add",value:function(e){Is(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Ds(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function tf(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,l=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),l&&(r+="rotateY(".concat(l,"deg) "))}var u=e.x.scale*t.x,c=e.y.scale*t.y;return 1===u&&1===c||(r+="scale(".concat(u,", ").concat(c,")")),r||"none"}var nf=function(e,t){return e.depth-t.depth},rf=function(){function e(){_n(this,e),this.children=[],this.isDirty=!1}return Sn(e,[{key:"add",value:function(e){Is(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Ds(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(nf),this.isDirty=!1,this.children.forEach(e)}}]),e}(),af=["","X","Y","Z"],of=0;function sf(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();_n(this,e),this.id=of++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(cf),r.nodes.forEach(vf),r.nodes.forEach(mf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(bn(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new rf)}return Sn(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Us),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,l=a.visualElement;if(l&&!l.current&&l.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),i&&(s||o)&&(this.isLayoutDirty=!0),t){var u,c=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,u&&u(),u=bu(c,250),_a.hasAnimatedSinceResize&&(_a.hasAnimatedSinceResize=!1,r.nodes.forEach(pf))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&l&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,i,a,o,s=e.delta,u=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,d=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var f=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:l.getDefaultTransition())&&void 0!==n?n:Sf,h=l.getProps(),p=h.onLayoutAnimationStart,v=h.onLayoutAnimationComplete,m=!r.targetLayout||!$d(r.targetLayout,d)||c,g=!u&&c;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||g||u&&(m||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(s,g);var y=je(je({},Ou(f,"layout")),{},{onPlay:p,onComplete:v});l.shouldReduceMotion&&(y.delay=0,y.type=!1),r.startAnimation(y)}else u||0!==r.animationProgress||pf(r),r.isLead()&&(null===(o=(a=r.options).onExitComplete)||void 0===o||o.call(a));r.targetLayout=d}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Ps.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(gf),this.animationId++)}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll("snapshot")}var o=this.options,s=o.layoutId,l=o.layout;if(void 0!==s||l){var u=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===u||void 0===u?void 0:u(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ff);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Mf),this.potentialNodes.clear()),this.nodes.forEach(hf),this.nodes.forEach(lf),this.nodes.forEach(uf),this.clearAllSnapshots(),Rs.update(),Rs.preRender(),Rs.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(df),this.sharedNodes.forEach(yf)}},{key:"scheduleUpdateProjection",value:function(){As.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;As.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),null===(e=this.options.visualElement)||void 0===e||e.notify("LayoutMeasure",this.layout.layoutBox,null===n||void 0===n?void 0:n.layoutBox)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Jd(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||Cc(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),Tf(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Dc(t.x,n.offset.x),Dc(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};Wd(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){Wd(t,e);var o=this.root.scroll;o&&(Dc(t.x,-o.offset.x),Dc(t.y,-o.offset.y))}Dc(t.x,i.offset.x),Dc(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};Wd(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jc(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),Cc(i.latestValues)&&jc(n,i.latestValues)}return Cc(this.latestValues)&&jc(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};Wd(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&Cc(i.latestValues)){kc(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};Wd(a,i.measurePageBox()),Zd(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layoutBox,a)}}return Cc(this.latestValues)&&Zd(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){this.options=je(je(je({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isProjectionDirty||this.attemptToResolveRelativeTarget){var n=this.options,r=n.layout,i=n.layoutId;if(this.layout&&(r||i)){if(!this.targetDelta&&!this.relativeTarget){var a=this.getClosestProjectingParent();a&&a.layout?(this.relativeParent=a,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},yc(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),Wd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var o,s,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(o=this.target,s=this.relativeTarget,l=this.relativeParent.target,mc(o.x,s.x,l.x),mc(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Wd(this.target,this.layout.layoutBox),Oc(this.target,this.targetDelta)):Wd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},yc(this.relativeTargetOrigin,this.target,u.target),Wd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!kc(this.parent.latestValues)&&!Ac(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.isProjectionDirty,n=this.isTransformDirty;this.isProjectionDirty=this.isTransformDirty=!1;var r=this.getLead(),i=Boolean(this.resumingFrom)||this!==r,a=!0;if(t&&(a=!1),i&&n&&(a=!1),!a){var o=this.options,s=o.layout,l=o.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(s||l)){Wd(this.layoutCorrected,this.layout.layoutBox),function(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.length;if(o){var s,l;t.x=t.y=1;for(var u=0;u<o;u++)l=(s=n[u]).projectionDelta,"contents"!==(null===(i=null===(r=s.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(a&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jc(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Oc(e,l)),a&&Cc(s.latestValues)&&jc(e,s.latestValues));t.x=Ic(t.x),t.y=Ic(t.y)}}(this.layoutCorrected,this.treeScale,this.path,i);var u=r.target;if(u){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var c=this.treeScale.x,d=this.treeScale.y,f=this.projectionTransform;vc(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.projectionTransform=tf(this.projectionDelta,this.treeScale),this.projectionTransform===f&&this.treeScale.x===c&&this.treeScale.y===d||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u))}}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.snapshot,o=(null===a||void 0===a?void 0:a.latestValues)||{},s=je({},this.latestValues),l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!i;var u={x:{min:0,max:0},y:{min:0,max:0}},c=(null===a||void 0===a?void 0:a.source)!==(null===(t=this.layout)||void 0===t?void 0:t.source),d=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(c&&!d&&!0===this.options.crossfade&&!this.path.some(wf));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;xf(l.x,e.x,i),xf(l.y,e.y,i),r.setTargetDelta(l),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(yc(u,r.layout.layoutBox,r.relativeParent.layout.layoutBox),_f(r.relativeTarget,r.relativeTargetOrigin,u,i)),c&&(r.animationValues=s,Fd(s,o,r.latestValues,i,f,d)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Ps.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=As.update((function(){_a.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Da(e)?e:Bs(e);return r.start(Hu("",r,t,n)),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,je(je({},e),{},{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&kf(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};var a=fc(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=fc(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}Wd(t,n),jc(t,i),vc(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new ef),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<af.length;i++){var a="rotate"+af[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in null===e||void 0===e||e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";var a=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=Io(r.pointerEvents)||"",i.transform=a?a(this.latestValues,""):"none",i;var o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){var s={};return this.options.layoutId&&(s.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,s.pointerEvents=Io(r.pointerEvents)||""),this.hasProjected&&!Cc(this.latestValues)&&(s.transform=a?a({},""):"none",this.hasProjected=!1),s}var l=o.animationValues||o.latestValues;this.applyTransformsToTarget(),i.transform=tf(this.projectionDeltaWithTransform,this.treeScale,l),a&&(i.transform=a(l,i.transform));var u=this.projectionDelta,c=u.x,d=u.y;for(var f in i.transformOrigin="".concat(100*c.origin,"% ").concat(100*d.origin,"% 0"),o.animationValues?i.opacity=o===this?null!==(n=null!==(t=l.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:i.opacity=o===this?void 0!==l.opacity?l.opacity:"":void 0!==l.opacityExit?l.opacityExit:0,Na)if(void 0!==l[f]){var h=Na[f],p=h.correct,v=h.applyTo,m=p(l[f],o);if(v)for(var g=v.length,y=0;y<g;y++)i[v[y]]=m;else i[f]=m}return this.options.layoutId&&(i.pointerEvents=o===this?Io(r.pointerEvents)||"":"none"),i}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ff),this.root.sharedNodes.clear()}}]),e}()}function lf(e){e.updateLayout()}function uf(e){var t,n,r,i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,o=a.layoutBox,s=a.measuredBox,l=e.options.animationType,u=i.source!==e.layout.source;"size"===l?Mc((function(e){var t=u?i.measuredBox[e]:i.layoutBox[e],n=fc(t);t.min=o[e].min,t.max=t.min+n})):kf(l,i.layoutBox,o)&&Mc((function(e){var t=u?i.measuredBox[e]:i.layoutBox[e],n=fc(o[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};vc(c,o,i.layoutBox);var d={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};u?vc(d,e.applyTransform(s,!0),i.measuredBox):vc(d,o,i.layoutBox);var f=!Jd(c),h=!1;if(!e.resumeFrom){var p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){var v=p.snapshot,m=p.layout;if(v&&m){var g={x:{min:0,max:0},y:{min:0,max:0}};yc(g,i.layoutBox,v.layoutBox);var y={x:{min:0,max:0},y:{min:0,max:0}};yc(y,o,m.layoutBox),$d(g,y)||(h=!0)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function cf(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function df(e){e.clearSnapshot()}function ff(e){e.clearMeasurements()}function hf(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function vf(e){e.resolveTargetDelta()}function mf(e){e.calcProjection()}function gf(e){e.resetRotation()}function yf(e){e.removeLeadSnapshot()}function xf(e,t,n){e.translate=Al(t.translate,0,n),e.scale=Al(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bf(e,t,n,r){e.min=Al(t.min,n.min,r),e.max=Al(t.max,n.max,r)}function _f(e,t,n,r){bf(e.x,t.x,n.x,r),bf(e.y,t.y,n.y,r)}function wf(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Sf={duration:.45,ease:[.4,0,.1,1]};function Mf(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function Ef(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Tf(e){Ef(e.x),Ef(e.y)}function kf(e,t,n){return"position"===e||"preserve-aspect"===e&&!hc(Qd(t),Qd(n),.2)}var Cf=sf({attachResizeListener:function(e,t){return Ho(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Af={current:void 0},Pf=sf({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Af.current){var e=new Cf(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Af.current=e}return Af.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Rf=je(je(je(je({},nc),vs),Xc),Ld),Nf=Aa((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a;return je(je({},Ra(e)?jo:Bo),{},{preloadedFeatures:n,useRender:Eo(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Rf,Td,Pf)}));var Lf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Of=t.createContext&&t.createContext(Lf),If=function(){return If=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},If.apply(this,arguments)},Df=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Uf(e){return e&&e.map((function(e,n){return t.createElement(e.tag,If({key:n},e.attr),Uf(e.child))}))}function Ff(e){return function(n){return t.createElement(zf,If({attr:If({},e.attr)},n),Uf(e.child))}}function zf(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Df(e,["attr","size","title"]),l=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",If({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:If(If({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Of?t.createElement(Of.Consumer,null,(function(e){return n(e)})):n(Lf)}function jf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Bf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function Hf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function Vf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function Wf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}}]})(e)}function Gf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"}}]})(e)}function Xf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"}}]})(e)}function qf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Yf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}}]})(e)}function Zf(e){return Ff({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}var Kf=n(3329),Jf=function(e){var t=e.title;return(0,Kf.jsx)("h3",{className:"text-xl font-bodyFont font-semibold mb-6",children:t})},$f=(n.p,n.p,n.p,n.p,n.p,n.p,n.p+"static/media/NUIT.53ed55c0963fd6af4888.jpg"),Qf=n.p+"static/media/NUIT-17.d841393dc0aed38506c8.jpg",eh=n.p+"static/media/NUIT-23.64ed2e772b96ef83010a.jpg",th=n.p+"static/media/NUIT-5.85bfc4fabe8e31839bcc.jpg",nh=n.p+"static/media/NUIT-17.d841393dc0aed38506c8.jpg",rh=n.p+"static/media/NUIT-21.275ef85b0aa580611410.jpg",ih=n.p+"static/media/NUIT-5.85bfc4fabe8e31839bcc.jpg",ah=n.p+"static/media/NUIT.53ed55c0963fd6af4888.jpg",oh=n.p+"static/media/productOfTheYear.2c30f10b51873bab4630.webp",sh=n.p+"static/media/payment.3e00cc601c9e7fc1e7d3.png",lh=n.p+"static/media/emptyCart.230e4848b62fb3cab325.png",uh=function(e){var t=e.imgSrc,n=e.className;return(0,Kf.jsx)("img",{className:n,src:t,alt:t})},ch=function(){var e=yn((0,t.useState)(""),2),n=e[0],r=e[1],i=yn((0,t.useState)(!1),2),a=i[0],o=i[1],s=yn((0,t.useState)(""),2),l=s[0],u=s[1];return(0,Kf.jsx)("div",{className:"w-full bg-[#F5F5F3] py-20",children:(0,Kf.jsxs)("div",{className:"max-w-container mx-auto grid grid-cols-1 md:grid-cols-2  xl:grid-cols-6 px-4 gap-10",children:[(0,Kf.jsxs)("div",{className:"col-span-2",children:[(0,Kf.jsx)(Jf,{title:" More about Zodiac Shop"}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,Kf.jsx)("p",{className:"text-base w-full xl:w-[80%]",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim sint ab ullam, numquam nesciunt in."}),(0,Kf.jsxs)("ul",{className:"flex items-center gap-2",children:[(0,Kf.jsx)("a",{href:"#",target:"_blank",rel:"noreferrer",children:(0,Kf.jsx)("li",{className:"w-7 h-7 bg-primeColor text-gray-100 hover:text-white cursor-pointer text-lg rounded-full flex justify-center items-center hover:bg-black duration-300",children:(0,Kf.jsx)(Vf,{})})}),(0,Kf.jsx)("a",{href:"#",target:"_blank",rel:"noreferrer",children:(0,Kf.jsx)("li",{className:"w-7 h-7 bg-primeColor text-gray-100 hover:text-white cursor-pointer text-lg rounded-full flex justify-center items-center hover:bg-black duration-300",children:(0,Kf.jsx)(Bf,{})})}),(0,Kf.jsx)("a",{href:"#",target:"_blank",rel:"noreferrer",children:(0,Kf.jsx)("li",{className:"w-7 h-7 bg-primeColor text-gray-100 hover:text-white cursor-pointer text-lg rounded-full flex justify-center items-center hover:bg-black duration-300",children:(0,Kf.jsx)(jf,{})})}),(0,Kf.jsx)("a",{href:"#",target:"_blank",rel:"noreferrer",children:(0,Kf.jsx)("li",{className:"w-7 h-7 bg-primeColor text-gray-100 hover:text-white cursor-pointer text-lg rounded-full flex justify-center items-center hover:bg-black duration-300",children:(0,Kf.jsx)(Hf,{})})})]})]})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)(Jf,{title:"Shop"}),(0,Kf.jsxs)("ul",{className:"flex flex-col gap-2",children:[(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"handbags"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"Clothes"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"jewelry"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"perfumes"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"shoes"})]})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)(Jf,{title:"Your account"}),(0,Kf.jsxs)("ul",{className:"flex flex-col gap-2",children:[(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"Profile"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"Orders"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"Addresses"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"Account Details"}),(0,Kf.jsx)("li",{className:"font-titleFont text-base text-lightText hover:text-black hover:underline decoration-[1px] decoration-gray-500 underline-offset-2 cursor-pointer duration-300",children:"Payment Options"})]})]}),(0,Kf.jsxs)("div",{className:"col-span-2 flex flex-col items-center w-full px-4",children:[(0,Kf.jsx)(Jf,{title:"Subscribe to our newsletter."}),(0,Kf.jsxs)("div",{className:"w-full",children:[(0,Kf.jsx)("p",{className:"text-center mb-4",children:"A at pellentesque et mattis porta enim elementum."}),a?(0,Kf.jsx)(Nf.p,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:"w-full text-center text-base font-titleFont font-semibold text-green-600",children:"Subscribed Successfully !"}):(0,Kf.jsxs)("div",{className:"w-full flex-col xl:flex-row flex justify-between items-center gap-4",children:[(0,Kf.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Kf.jsx)("input",{onChange:function(e){return r(e.target.value)},value:n,className:"w-full h-12 border-b border-gray-400 bg-transparent px-4 text-primeColor text-lg placeholder:text-base outline-none",type:"text",placeholder:"Insert your email ...*"}),l&&(0,Kf.jsx)("p",{className:"text-red-600 text-sm font-semibold font-titleFont text-center animate-bounce mt-2",children:l})]}),(0,Kf.jsx)("button",{onClick:function(){""===n?u("Please provide an Email !"):String(n).toLocaleLowerCase().match(/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/)?(o(!0),u(""),r("")):u("Please give a valid Email!")},className:"bg-white text-lightText w-[30%] h-10 hover:bg-black hover:text-white duration-300 text-base tracking-wide",children:"Subscribe"})]}),(0,Kf.jsx)(uh,{className:"w-[80%] lg:w-[60%] mx-auto ".concat(a?"mt-2":"mt-6"),imgSrc:sh})]})]})]})})};function dh(e){return Ff({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z"}}]})(e)}var fh=function(){return(0,Kf.jsx)("div",{className:"w-full bg-[#F5F5F3] group",children:(0,Kf.jsx)("div",{className:"max-w-container mx-auto border-t-[1px] pt-10 pb-20",children:(0,Kf.jsxs)("p",{className:"text-titleFont font-normal text-center flex md:items-center justify-center text-lightText duration-200 text-sm",children:[(0,Kf.jsx)("span",{className:"text-md mr-[1px] mt-[2px] md:mt-0 text-center hidden md:inline-flex",children:(0,Kf.jsx)(dh,{})}),"Copyright 2024 | Zodiac shopping | All Rights Reserved |",(0,Kf.jsx)("a",{href:"/",target:"_blank",rel:"noreferrer",children:(0,Kf.jsx)("span",{className:"ml-1 font-medium group-hover:text-primeColor"})})]})})})};function hh(e){return Ff({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function ph(e){return Ff({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H8v-1.5c0-1.99 4-3 6-3s6 1.01 6 3V16z"}}]})(e)}function vh(e){return Ff({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M4 18.99h11c.67 0 1.27-.32 1.63-.83L21 12l-4.37-6.16C16.27 5.33 15.67 5 15 5H4l5 7-5 6.99z"}}]})(e)}function mh(e){return Ff({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}}]})(e)}function gh(e){return Ff({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}function yh(e){return Ff({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8h16M4 16h16"}}]})(e)}var xh=[{_id:1001,title:"Home",link:"/"},{_id:1003,title:"About",link:"/about"},{_id:1005,title:"Collab",link:"/collab"},{_id:1002,title:"Shop",link:"/shop"}],bh=[{_id:"201",img:nh,productName:"Cap for Boys",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:"202",img:th,productName:"Tea Table",price:"180.00",color:"Gray",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:"203",img:nh,productName:"Headphones",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:"204",img:nh,productName:"Sun glasses",price:"220.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}],_h=[{_id:1001,img:nh,productName:"Cap for Boys",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1002,img:rh,productName:"Tea Table",price:"180.00",color:"Gray",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1003,img:nh,productName:"Headphones",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1004,img:nh,productName:"Sun glasses",price:"220.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1005,img:nh,productName:"Flower Base",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1006,img:rh,productName:"New Backpack",price:"180.00",color:"Gray",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1007,img:ih,productName:"Household materials",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1008,img:ah,productName:"Travel Bag",price:"220.00",color:"Black",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1009,img:$f,productName:"Round Table Clock",price:"44.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1010,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1011,img:eh,productName:"cloth Basket",price:"80.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1012,img:th,productName:"Funny toys for babies",price:"60.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1013,img:Qf,productName:"Funny toys for babies",price:"60.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1014,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1015,img:th,productName:"Funny toys for babies",price:"60.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1016,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1017,img:ah,productName:"Travel Bag",price:"220.00",color:"Black",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1018,img:$f,productName:"Round Table Clock",price:"44.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1019,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1020,img:eh,productName:"cloth Basket",price:"80.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1021,img:nh,productName:"Headphones",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1022,img:nh,productName:"Sun glasses",price:"220.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1023,img:nh,productName:"Flower Base",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1024,img:nh,productName:"Cap for Boys",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1025,img:rh,productName:"Tea Table",price:"180.00",color:"Gray",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1026,img:nh,productName:"Headphones",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1027,img:nh,productName:"Sun glasses",price:"220.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1028,img:nh,productName:"Flower Base",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1029,img:rh,productName:"New Backpack",price:"180.00",color:"Gray",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1030,img:ih,productName:"Household materials",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1031,img:ah,productName:"Travel Bag",price:"220.00",color:"Black",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1032,img:$f,productName:"Round Table Clock",price:"44.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1033,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1034,img:eh,productName:"cloth Basket",price:"80.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1035,img:th,productName:"Funny toys for babies",price:"60.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1036,img:Qf,productName:"Funny toys for babies",price:"60.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1037,img:th,productName:"Funny toys for babies",price:"60.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1038,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1039,img:ah,productName:"Travel Bag",price:"220.00",color:"Black",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1040,img:$f,productName:"Round Table Clock",price:"44.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1041,img:Qf,productName:"Smart Watch",price:"250.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1042,img:eh,productName:"cloth Basket",price:"80.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1043,img:nh,productName:"Headphones",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1044,img:nh,productName:"Sun glasses",price:"220.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1045,img:nh,productName:"Flower Base",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."},{_id:1046,img:nh,productName:"Cap for Boys",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}],wh=function(e){var t=e.children,n=e.className;return(0,Kf.jsx)("div",{className:n,children:t})},Sh=function(){var e=yn((0,t.useState)(!0),2),n=e[0],r=e[1],i=yn((0,t.useState)(!1),2),a=i[0],o=i[1],s=yn((0,t.useState)(!1),2),l=s[0],u=s[1],c=yn((0,t.useState)(!1),2),d=c[0],f=c[1],h=_i();return(0,t.useEffect)((function(){var e=function(){window.innerWidth<667?r(!1):r(!0)};e(),window.addEventListener("resize",e)}),[]),(0,Kf.jsx)("div",{className:"w-full h-20 bg-white sticky top-0 z-50 border-b-[1px] border-b-gray-200",children:(0,Kf.jsx)("nav",{className:"h-full px-4 max-w-container mx-auto relative",children:(0,Kf.jsxs)(wh,{className:"flex items-center justify-between h-full",children:[(0,Kf.jsx)(Yi,{to:"/",children:(0,Kf.jsx)("div",{children:(0,Kf.jsx)("h1",{className:" object-cover",children:"Zodiac"})})}),(0,Kf.jsxs)("div",{children:[n&&(0,Kf.jsx)(Nf.ul,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"flex items-center w-auto z-50 p-0 gap-2",children:(0,Kf.jsx)(Kf.Fragment,{children:xh.map((function(e){var t=e._id,n=e.title,r=e.link;return(0,Kf.jsx)(Zi,{className:"flex font-normal hover:font-bold w-20 h-6 justify-center items-center px-12 text-base text-[#767676] hover:underline underline-offset-[4px] decoration-[1px] hover:text-[#262626] md:border-r-[2px] border-r-gray-300 hoverEffect last:border-r-0",to:r,state:{data:h.pathname.split("/")[1]},children:(0,Kf.jsx)("li",{children:n})},t)}))})}),(0,Kf.jsx)(mh,{onClick:function(){return o(!a)},className:"inline-block md:hidden cursor-pointer w-8 h-6 absolute top-6 right-4"}),a&&(0,Kf.jsx)("div",{className:"fixed top-0 left-0 w-full h-screen bg-black text-gray-200 bg-opacity-80 z-50",children:(0,Kf.jsxs)(Nf.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:"w-[80%] h-full relative",children:[(0,Kf.jsxs)("div",{className:"w-full h-full bg-primeColor p-6",children:[(0,Kf.jsx)("img",{className:"w-28 mb-6",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAZCAYAAAAsaTBIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPnSURBVHgB1ZrvVeMwDMDVPr5fmeDMBFcmIExwZQLKBJQJoBO0naBhAmCClgnoTVAzwcEEPunF5aWqksiO+8j93tNL4yqK/1uy04ManHMZXq5R6DrwQlgvjyjrXq9nQQHam+PlR4PaB8o7ygbtrhvsDfFyC5Gg/Rtmb6l8lPJH+aSyb+oUBZtTXl+o8+TTN/5+hJeLKoNjlL9OzwxlAA2gztaFsUWZ1NjLXAsEezG8oZiaPHIy9v/A2xiV0iaUBoLi0sWxrctkZOPsWDmh8V03GmfHqKLMnAyU9Nn9CmUMcRiU2l7UggzlHrrN0ilmjxC+GgcNz/AyFHRylEuU054Hf5+j3EGx7pShzK0CMkk2zpiQ7SkUc3qZibLXmZ4Sha3LiueoPizTpTJPIDVY6KEw/LZNlUGjBOVJeHZWob9leuMa29KUNVfo/IRIXMAU5IolgK/Lz6E2S3bGpbQHqqvdyJEq87LJW/JeB3k83GOhXt5qiPt3r1mygY6A+aOR/ciSf0Eg3s4C9stKvxd9V7ijGXtmqnWPvfEr4a8UQ/yV3QcX/sjwqddCBFiHD+X6po6JMqeRI3kZOYQZt3DYy39Dej6gW/DOYiEh1Dg82HnRjhoGH+JD19574Xl7h46AZaPgnHfsKSTkBA7n8Q3EIT1nINIeFp4i/4wlPyseHeGzn01K2AFzaIZsGZZG9xfQYinQIjWOhTiskGagvnGM4BHRaKPC8zXLKit0DjpyhY5ma8ii3GHeNB0niBNIBDkG7jDobprW7kEfXF5BN9lA/GxTSx8SUbG+WGiPhcKtP0oFKN4tSRlad7ZY/uQ7GH3hZQbiMJCeHOW8Kd7i+eil2R0gblD1jAsUOxl88afAcQQJocbhPfIC4pC2fpp6+02psk7h0FU2Po7qFLTwU2wCRfBYZgYJocb5w9JiXWAe12xCKrYUKZfJXMAu7jfwwO6ND+qTQI2zZmnBG3je3eRD+hXCIU+LN2hnd6MrOl+6xqnYw7oN7AErIU3r0n7xv40ed5zjkS923hpf3Gj0PDU1kN9RpYYx7K+8RUCWC2nRR9FH5lpIs5Aa2o53Mku/NT8o6dLceu/ko+xtVY9yyiMDV5x8coyg9y1HBr78M6nssTY1mXtz7aDGMjX2t0x/XKEnVfpSqadGsNeWscJmBkp4EEonfAuIw0IRk1hoScU6OHaJj4ETM1VuL6nZaxxakFHIU6MDNAs6aBGnNStJw5SQdnhTnBGlhsp/5+OepIh7a74H5K6IeEno3MLA/ndrFGCSu5wHxDMvsP/dmq1SpNGD718wff7Nm4XAs6cGcqXep39347d1gk117PcPLfW3cuAhmIAAAAAASUVORK5CYII=",alt:"logoLight"}),(0,Kf.jsx)("ul",{className:"text-gray-200 flex flex-col gap-2",children:xh.map((function(e){return(0,Kf.jsx)("li",{className:"font-normal hover:font-bold items-center text-lg text-gray-200 hover:underline underline-offset-[4px] decoration-[1px] hover:text-white md:border-r-[2px] border-r-gray-300 hoverEffect last:border-r-0",children:(0,Kf.jsx)(Zi,{to:e.link,state:{data:h.pathname.split("/")[1]},onClick:function(){return o(!1)},children:e.title})},e._id)}))}),(0,Kf.jsxs)("div",{className:"mt-4",children:[(0,Kf.jsxs)("h1",{onClick:function(){return u(!l)},className:"flex justify-between text-base cursor-pointer items-center font-titleFont mb-2",children:["Shop by Category"," ",(0,Kf.jsx)("span",{className:"text-lg",children:l?"-":"+"})]}),l&&(0,Kf.jsxs)(Nf.ul,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"text-sm flex flex-col gap-1",children:[(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"New Arrivals"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Gudgets"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Accessories"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Electronics"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Others"})]})]}),(0,Kf.jsxs)("div",{className:"mt-4",children:[(0,Kf.jsxs)("h1",{onClick:function(){return f(!d)},className:"flex justify-between text-base cursor-pointer items-center font-titleFont mb-2",children:["Shop by Brand",(0,Kf.jsx)("span",{className:"text-lg",children:d?"-":"+"})]}),d&&(0,Kf.jsxs)(Nf.ul,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"text-sm flex flex-col gap-1",children:[(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"New Arrivals"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Gudgets"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Accessories"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Electronics"}),(0,Kf.jsx)("li",{className:"headerSedenavLi",children:"Others"})]})]})]}),(0,Kf.jsx)("span",{onClick:function(){return o(!1)},className:"w-8 h-8 border-[1px] border-gray-300 absolute top-2 -right-10 text-gray-300 text-2xl flex justify-center items-center cursor-pointer hover:border-red-500 hover:text-red-500 duration-300",children:(0,Kf.jsx)(hh,{})})]})})]})]})})})},Mh=function(){var e=E((function(e){return e.orebiReducer.products})),n=yn((0,t.useState)(!1),2),r=n[0],i=n[1],a=yn((0,t.useState)(!1),2),o=a[0],s=a[1],l=wi(),u=(0,t.useRef)();(0,t.useEffect)((function(){document.body.addEventListener("click",(function(e){u.current.contains(e.target)?i(!0):i(!1)}))}),[r,u]);var c=yn((0,t.useState)(""),2),d=c[0],f=c[1],h=yn((0,t.useState)([]),2),p=h[0],v=h[1],m=yn((0,t.useState)(!1),2),g=(m[0],m[1]);return(0,t.useEffect)((function(){var e=_h.filter((function(e){return e.productName.toLowerCase().includes(d.toLowerCase())}));v(e)}),[d]),(0,Kf.jsx)("div",{className:"w-full bg-[#F5F5F3] relative",children:(0,Kf.jsx)("div",{className:"max-w-container mx-auto",children:(0,Kf.jsxs)(wh,{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between w-full px-4 pb-4 lg:pb-0 h-full lg:h-24",children:[(0,Kf.jsxs)("div",{onClick:function(){return i(!r)},ref:u,className:"flex h-14 cursor-pointer items-center gap-2 text-primeColor",children:[(0,Kf.jsx)(yh,{className:"w-5 h-5"}),(0,Kf.jsx)("p",{className:"text-[14px] font-normal",children:"Shop by Category"}),r&&(0,Kf.jsxs)(Nf.ul,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"absolute top-36 z-50 bg-primeColor w-auto text-[#767676] h-auto p-4 pb-6",children:[(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"Handbags"}),(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"Jewelry"}),(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"perfumes"}),(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"shoes"})]})]}),(0,Kf.jsxs)("div",{className:"relative w-full lg:w-[600px] h-[50px] text-base text-primeColor bg-white flex items-center gap-2 justify-between px-6 rounded-xl",children:[(0,Kf.jsx)("input",{className:"flex-1 h-full outline-none placeholder:text-[#C4C4C4] placeholder:text-[14px]",type:"text",onChange:function(e){f(e.target.value)},value:d,placeholder:"Search your products here"}),(0,Kf.jsx)(qf,{className:"w-5 h-5"}),d&&(0,Kf.jsx)("div",{className:"w-full mx-auto h-96 bg-white top-16 absolute left-0 z-50 overflow-y-scroll shadow-2xl scrollbar-hide cursor-pointer",children:d&&p.map((function(e){return(0,Kf.jsxs)("div",{onClick:function(){return l("/product/".concat(e.productName.toLowerCase().split(" ").join("")),{state:{item:e}})&g(!0)&f("")},className:"max-w-[600px] h-28 bg-gray-100 mb-3 flex items-center gap-3",children:[(0,Kf.jsx)("img",{className:"w-24",src:e.img,alt:"productImg"}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Kf.jsx)("p",{className:"font-semibold text-lg",children:e.productName}),(0,Kf.jsx)("p",{className:"text-xs",children:e.des}),(0,Kf.jsxs)("p",{className:"text-sm",children:["Price:"," ",(0,Kf.jsxs)("span",{className:"text-primeColor font-semibold",children:["$",e.price]})]})]})]},e._id)}))})]}),(0,Kf.jsxs)("div",{className:"flex gap-4 mt-2 lg:mt-0 items-center pr-6 cursor-pointer relative",children:[(0,Kf.jsxs)("div",{onClick:function(){return s(!o)},className:"flex",children:[(0,Kf.jsx)(Zf,{}),(0,Kf.jsx)(Wf,{})]}),o&&(0,Kf.jsxs)(Nf.ul,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"absolute top-6 left-0 z-50 bg-primeColor w-44 text-[#767676] h-auto p-4 pb-6",children:[(0,Kf.jsx)(Yi,{to:"/signin",children:(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"Login"})}),(0,Kf.jsx)(Yi,{onClick:function(){return s(!1)},to:"/signup",children:(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"Sign Up"})}),(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400 hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"Profile"}),(0,Kf.jsx)("li",{className:"text-gray-400 px-4 py-1 border-b-[1px] border-b-gray-400  hover:border-b-white hover:text-white duration-300 cursor-pointer",children:"Others"})]}),(0,Kf.jsx)(Yi,{to:"/cart",children:(0,Kf.jsxs)("div",{className:"relative",children:[(0,Kf.jsx)(Yf,{}),(0,Kf.jsx)("span",{className:"absolute font-titleFont top-3 -right-2 text-xs w-4 h-4 flex items-center justify-center rounded-full bg-primeColor text-white",children:e.length>0?e.length:0})]})})]})]})})})};function Eh(e){return Ff({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 6.414L.757 3.172l1.415-1.415L5.414 5h15.242a1 1 0 0 1 .958 1.287l-2.4 8a1 1 0 0 1-.958.713H6v2h11v2H5a1 1 0 0 1-1-1V6.414zM5.5 23a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm12 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}}]}]})(e)}var Th=function(){var e=E((function(e){return e.orebiReducer.products}));return(0,Kf.jsxs)("div",{className:"fixed top-52 right-2 z-20 hidden md:flex flex-col gap-2",children:[(0,Kf.jsx)(Yi,{to:"/signin",children:(0,Kf.jsxs)("div",{className:"bg-white w-16 h-[70px] rounded-md flex flex-col gap-1 text-[#33475b] justify-center items-center shadow-testShadow overflow-x-hidden group cursor-pointer",children:[(0,Kf.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Kf.jsx)(ph,{className:"text-2xl -translate-x-12 group-hover:translate-x-3 transition-transform duration-200"}),(0,Kf.jsx)(ph,{className:"text-2xl -translate-x-3 group-hover:translate-x-12 transition-transform duration-200"})]}),(0,Kf.jsx)("p",{className:"text-xs font-semibold font-titleFont",children:"Profile"})]})}),(0,Kf.jsx)(Yi,{to:"/cart",children:(0,Kf.jsxs)("div",{className:"bg-white w-16 h-[70px] rounded-md flex flex-col gap-1 text-[#33475b] justify-center items-center shadow-testShadow overflow-x-hidden group cursor-pointer relative",children:[(0,Kf.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Kf.jsx)(Eh,{className:"text-2xl -translate-x-12 group-hover:translate-x-3 transition-transform duration-200"}),(0,Kf.jsx)(Eh,{className:"text-2xl -translate-x-3 group-hover:translate-x-12 transition-transform duration-200"})]}),(0,Kf.jsx)("p",{className:"text-xs font-semibold font-titleFont",children:"Buy Now"}),e.length>0&&(0,Kf.jsx)("p",{className:"absolute top-1 right-2 bg-primeColor text-white text-xs w-4 h-4 rounded-full flex items-center justify-center font-semibold",children:e.length})]})})]})},kh=function(e){var n=e.prevLocation,r=e.title,i=_i(),a=yn((0,t.useState)(""),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){s(i.pathname.split("/")[1])}),[i]),(0,Kf.jsxs)("div",{className:"w-full py-10 xl:py-10 flex flex-col gap-3",children:[(0,Kf.jsx)("h1",{className:"text-5xl text-primeColor font-titleFont font-bold",children:r}),(0,Kf.jsxs)("p",{className:"text-sm font-normal text-lightText capitalize flex items-center",children:[(0,Kf.jsxs)("span",{children:[" ",""===n?"Home":n]}),(0,Kf.jsx)("span",{className:"px-1",children:(0,Kf.jsx)(gh,{})}),(0,Kf.jsx)("span",{className:"capitalize font-semibold text-primeColor",children:o})]})]})},Ch=n(5717),Ah=function(e){var t=e.heading;return(0,Kf.jsx)("div",{className:"text-3xl font-semibold pb-10 pt-10 text-center",children:t})};function Ph(e){return Ff({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}}]})(e)}function Rh(e){return Ff({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"}}]})(e)}function Nh(e){return Ff({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z"}}]})(e)}function Lh(e){return Ff({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M19.828 18.256l-.002.015c249.642 36.995 371.904 169.983 397.32 278.01-2.094 5.977-4.496 11.044-7.068 14.968-17.29 26.383-62.522 40.075-101.654 28.596 5.984-19.75 10.132-39.834 12.07-59.12-95.46 8.177-212.544 8.42-301.207-22.642 41.727 95.317 99.325 164.465 164.983 230.08 18.296-2.164 35.807-11.35 51.837-25.37 85.218 34.667 188.066-2.555 226.748-60.68 46.922-70.5 74.07-317.52-167.462-383.856H232.81c160.326 54.874 195.73 167.74 191.573 239.03-37.15-93.627-137.68-191.855-312.38-239.03H19.83z"}}]})(e)}var Oh=function(e){var t=e.text;return(0,Kf.jsx)("div",{className:"bg-primeColor w-[92px] h-[35px] text-white flex justify-center items-center text-base font-semibold hover:bg-black duration-300 cursor-pointer",children:t})},Ih=function(e){var t=O(),n=function(e){return String(e).toLowerCase().split(" ").join("")}(e.productName),r=wi(),i=e;return(0,Kf.jsxs)("div",{className:"w-full relative group",children:[(0,Kf.jsxs)("div",{className:"max-w-80 max-h-80 relative overflow-y-hidden ",children:[(0,Kf.jsx)("div",{children:(0,Kf.jsx)(uh,{className:"w-full h-full",imgSrc:e.img})}),(0,Kf.jsx)("div",{className:"absolute top-6 left-8",children:e.badge&&(0,Kf.jsx)(Oh,{text:"New"})}),(0,Kf.jsx)("div",{className:"w-full h-32 absolute bg-white -bottom-[130px] group-hover:bottom-0 duration-700",children:(0,Kf.jsxs)("ul",{className:"w-full h-full flex flex-col items-end justify-center gap-2 font-titleFont px-2 border-l border-r",children:[(0,Kf.jsxs)("li",{className:"text-[#767676] hover:text-primeColor text-sm font-normal border-b-[1px] border-b-gray-200 hover:border-b-primeColor flex items-center justify-end gap-2 hover:cursor-pointer pb-1 duration-300 w-full",children:["Compare",(0,Kf.jsx)("span",{children:(0,Kf.jsx)(Lh,{})})]}),(0,Kf.jsxs)("li",{onClick:function(){return t(an({_id:e._id,name:e.productName,quantity:1,image:e.img,badge:e.badge,price:e.price,colors:e.color}))},className:"text-[#767676] hover:text-primeColor text-sm font-normal border-b-[1px] border-b-gray-200 hover:border-b-primeColor flex items-center justify-end gap-2 hover:cursor-pointer pb-1 duration-300 w-full",children:["Add to Cart",(0,Kf.jsx)("span",{children:(0,Kf.jsx)(Yf,{})})]}),(0,Kf.jsxs)("li",{onClick:function(){r("/product/".concat(n),{state:{item:i}})},className:"text-[#767676] hover:text-primeColor text-sm font-normal border-b-[1px] border-b-gray-200 hover:border-b-primeColor flex items-center justify-end gap-2 hover:cursor-pointer pb-1 duration-300 w-full",children:["View Details",(0,Kf.jsx)("span",{className:"text-lg",children:(0,Kf.jsx)(vh,{})})]}),(0,Kf.jsxs)("li",{className:"text-[#767676] hover:text-primeColor text-sm font-normal border-b-[1px] border-b-gray-200 hover:border-b-primeColor flex items-center justify-end gap-2 hover:cursor-pointer pb-1 duration-300 w-full",children:["Add to Wish List",(0,Kf.jsx)("span",{children:(0,Kf.jsx)(Nh,{})})]})]})})]}),(0,Kf.jsxs)("div",{className:"max-w-80 py-6 flex flex-col gap-1 border-[1px] border-t-0 px-4",children:[(0,Kf.jsxs)("div",{className:"flex items-center justify-between font-titleFont",children:[(0,Kf.jsx)("h2",{className:"text-lg text-primeColor font-bold",children:e.productName}),(0,Kf.jsxs)("p",{className:"text-[#767676] text-[14px]",children:["$",e.price]})]}),(0,Kf.jsx)("div",{children:(0,Kf.jsx)("p",{className:"text-[#767676] text-[14px]",children:e.color})})]})]})},Dh=function(e){var t=e.onClick;return(0,Kf.jsx)("div",{className:"w-14 h-14 rounded-full text-white bg-black bg-opacity-40 hover:bg-opacity-100 duration-300 cursor-pointer flex justify-center items-center z-10 absolute top-[35%] right-2",onClick:t,children:(0,Kf.jsx)("span",{className:"text-xl",children:(0,Kf.jsx)(Xf,{})})})},Uh=function(e){var t=e.onClick;return(0,Kf.jsx)("div",{className:"w-14 h-14 rounded-full text-white bg-black bg-opacity-40 hover:bg-opacity-100 duration-300 cursor-pointer flex justify-center items-center absolute z-10 top-[35%] left-2",onClick:t,children:(0,Kf.jsx)("span",{children:(0,Kf.jsx)(Gf,{})})})},Fh=function(){var e=_i(),n=yn((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){i(e.state.data)}),[e]);var a={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,nextArrow:(0,Kf.jsx)(Dh,{}),prevArrow:(0,Kf.jsx)(Uh,{}),responsive:[{breakpoint:1025,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0}}]};return(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4 pt-10 pb-11",children:[(0,Kf.jsx)(kh,{title:"About",prevLocation:r}),(0,Kf.jsxs)("div",{className:"pb-10",children:[(0,Kf.jsxs)("h1",{className:" text-base text-lightText mb-2",children:[(0,Kf.jsx)("span",{className:"text-primeColor font-semibold text-lg",children:"Zodiac"})," ","ZODIAQUE, stands for luxury, character, uniqueness, diversity and humanity... With almost 200 people worldwide, we have created a brand that is shaped entirely according to your character. We bring together cultures, people, characters and ideas from all over the world. Our products are fully customizable, handcrafted and thought out down to the last detail. Dive into the world of the stars with us... give your look a unique touch, be it with our bags, purses, sneakers or jewellery. As a brand, we have made it our goal to give something back to people. For every product sold, we donate 5% to organizations that help women in need. Every donation is carried out transparently and can be traced back. So that our customers know whom they are helping."]}),(0,Kf.jsx)("section",{class:"bg-gray",children:(0,Kf.jsxs)("div",{class:"py-8 px-4 mx-auto max-w-screen-xl sm:py-16 lg:px-6",children:[(0,Kf.jsxs)("div",{class:" mb-8 lg:mb-16",children:[(0,Kf.jsx)("h2",{class:"mb-4 text-4xl tracking-tight font-extrabold text-gray-900 dark:text-white text-center",children:"What We Offer"}),(0,Kf.jsx)("p",{class:"text-gray-500 sm:text-xl dark:text-gray-400 text-center",children:"Here at Flowbite we focus on markets where technology, innovation, and capital can unlock long-term value and drive economic growth."})]}),(0,Kf.jsxs)("div",{class:"space-y-8 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-12 md:space-y-0",children:[(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{class:"flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900",children:(0,Kf.jsx)("svg",{class:"w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Kf.jsx)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})})}),(0,Kf.jsx)("h3",{class:"mb-2 text-xl font-bold dark:text-white",children:"Best Quality"}),(0,Kf.jsx)("p",{class:"text-gray-500 dark:text-gray-400",children:"Plan it, create it, launch it. Collaborate seamlessly with all  the organization and hit your marketing goals every month with our marketing plan."})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{class:"flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900",children:(0,Kf.jsx)("svg",{class:"w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Kf.jsx)("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})}),(0,Kf.jsx)("h3",{class:"mb-2 text-xl font-bold dark:text-white",children:"Free Delevery"}),(0,Kf.jsx)("p",{class:"text-gray-500 dark:text-gray-400",children:"Protect your organization, devices and stay compliant with our structured workflows and custom permissions made for you."})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{class:"flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900",children:(0,Kf.jsxs)("svg",{class:"w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,Kf.jsx)("path",{"fill-rule":"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z","clip-rule":"evenodd"}),(0,Kf.jsx)("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]})}),(0,Kf.jsx)("h3",{class:"mb-2 text-xl font-bold dark:text-white",children:"Return Policy"}),(0,Kf.jsx)("p",{class:"text-gray-500 dark:text-gray-400",children:"Auto-assign tasks, send Slack messages, and much more. Now power up with hundreds of new templates to help you get started."})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{class:"flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900",children:(0,Kf.jsxs)("svg",{class:"w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,Kf.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),(0,Kf.jsx)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})]})}),(0,Kf.jsx)("h3",{class:"mb-2 text-xl font-bold dark:text-white",children:"Customer Satifaction"}),(0,Kf.jsx)("p",{class:"text-gray-500 dark:text-gray-400",children:"Audit-proof software built for critical financial operations like month-end close and quarterly budgeting."})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{class:"flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900",children:(0,Kf.jsx)("svg",{class:"w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Kf.jsx)("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})})}),(0,Kf.jsx)("h3",{class:"mb-2 text-xl font-bold dark:text-white",children:"Enterprise Design"}),(0,Kf.jsx)("p",{class:"text-gray-500 dark:text-gray-400",children:"Craft beautiful, delightful experiences for both marketing and product with real cross-company collaboration."})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{class:"flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900",children:(0,Kf.jsx)("svg",{class:"w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Kf.jsx)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})})}),(0,Kf.jsx)("h3",{class:"mb-2 text-xl font-bold dark:text-white",children:"Premium Product"}),(0,Kf.jsx)("p",{class:"text-gray-500 dark:text-gray-400",children:"Keep your company\u2019s lights on with customizable, iterative, and structured workflows built for all efficient teams and individual."})]})]})]})}),(0,Kf.jsxs)("div",{className:"w-full pb-16",children:[(0,Kf.jsx)(Ah,{heading:"Zodiac Services "}),(0,Kf.jsxs)(Ch.Z,je(je({},a),{},{children:[(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100001",img:$f,productName:"Nuit Petite Scorpio",price:"$199.00",color:"Black",badge:!0,des:"Handmade leather bag made from the best genuine leather. Every stitch, every cut, down to the packaging, all done by hand. This bag is one of our micro bags and is 17cm at the bottom and 15cm at the top. a perfect companion for great evenings."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100002",img:Qf,productName:"Nuit Petite Cancer",price:"$199.00",color:"Black",badge:!0,des:"Handmade leather bag made from the best genuine leather. Every stitch, every cut, down to the packaging, all done by hand. This bag is one of our micro bags and is 17cm at the bottom and 15cm at the top. a perfect companion for great evenings."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100003",img:eh,productName:"Nuit Petite Leo",price:"$199.00",color:"Mixed",badge:!0,des:"Handmade leather bag made from the best genuine leather. Every stitch, every cut, down to the packaging, all done by hand. This bag is one of our micro bags and is 17cm at the bottom and 15cm at the top. a perfect companion for great evenings."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100004",img:th,productName:"Nuit Petite Pisces",price:"$199.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."})})]}))]}),(0,Kf.jsxs)("div",{className:"bg-black mb-8",children:[(0,Kf.jsx)("h1",{className:"text-center text-3xl font-bold text-white pt-5",children:"Trusted by User worldwide"}),(0,Kf.jsx)("div",{className:" py-20 sm:py-25",children:(0,Kf.jsx)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:(0,Kf.jsx)("dl",{className:"grid grid-cols-1 gap-x-8 gap-y-16 text-center lg:grid-cols-3",children:[{id:1,name:"Transactions every 24 hours",value:"44 million"},{id:2,name:"Assets under holding",value:"$119 trillion"},{id:3,name:"New users annually",value:"46,000"}].map((function(e){return(0,Kf.jsxs)("div",{className:"mx-auto flex max-w-xs flex-col gap-y-4",children:[(0,Kf.jsx)("dt",{className:"text-base/7 text-gray-600",children:e.name}),(0,Kf.jsx)("dd",{className:"order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl",children:e.value})]},e.id)}))})})})]}),(0,Kf.jsx)(Yi,{to:"/shop",children:(0,Kf.jsx)("button",{className:"w-52 h-10 bg-primeColor text-white hover:bg-black duration-300 ",children:"Continue Shopping"})})]})]})},zh=function(){var e=yn((0,t.useState)(""),2),n=e[0],r=e[1],i=yn((0,t.useState)(""),2),a=i[0],o=i[1],s=yn((0,t.useState)(""),2),l=s[0],u=s[1],c=yn((0,t.useState)(""),2),d=c[0],f=c[1],h=yn((0,t.useState)(""),2),p=h[0],v=h[1];return(0,Kf.jsxs)("div",{className:"w-full h-screen flex items-center justify-center",children:[(0,Kf.jsx)("div",{className:"w-1/2 hidden lgl:inline-flex h-full text-white",children:(0,Kf.jsxs)("div",{className:"w-[450px] h-full bg-primeColor px-10 flex flex-col gap-6 justify-center",children:[(0,Kf.jsx)(Yi,{to:"/",children:(0,Kf.jsx)("h2",{children:"Zodiac"})}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-1 -mt-1",children:[(0,Kf.jsx)("h1",{className:"font-titleFont text-xl font-medium",children:"Stay sign in for more"}),(0,Kf.jsx)("p",{className:"text-base",children:"When you sign in, you are with us!"})]}),(0,Kf.jsxs)("div",{className:"w-[300px] flex items-start gap-3",children:[(0,Kf.jsx)("span",{className:"text-green-500 mt-1",children:(0,Kf.jsx)(Ph,{})}),(0,Kf.jsxs)("p",{className:"text-base text-gray-300",children:[(0,Kf.jsx)("span",{className:"text-white font-semibold font-titleFont",children:"Get started fast with Zodiac"}),(0,Kf.jsx)("br",{}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis nisi dolor recusandae consectetur!"]})]}),(0,Kf.jsxs)("div",{className:"w-[300px] flex items-start gap-3",children:[(0,Kf.jsx)("span",{className:"text-green-500 mt-1",children:(0,Kf.jsx)(Ph,{})}),(0,Kf.jsxs)("p",{className:"text-base text-gray-300",children:[(0,Kf.jsx)("span",{className:"text-white font-semibold font-titleFont",children:"Access all Zodiac services"}),(0,Kf.jsx)("br",{}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis nisi dolor recusandae consectetur!"]})]}),(0,Kf.jsxs)("div",{className:"w-[300px] flex items-start gap-3",children:[(0,Kf.jsx)("span",{className:"text-green-500 mt-1",children:(0,Kf.jsx)(Ph,{})}),(0,Kf.jsxs)("p",{className:"text-base text-gray-300",children:[(0,Kf.jsx)("span",{className:"text-white font-semibold font-titleFont",children:"Trusted by online Shoppers"}),(0,Kf.jsx)("br",{}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis nisi dolor recusandae consectetur!"]})]}),(0,Kf.jsxs)("div",{className:"flex items-center justify-between mt-10",children:[(0,Kf.jsx)(Yi,{to:"/",children:(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"\xa9 Zodiac"})}),(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"Terms"}),(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"Privacy"}),(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"Security"})]})]})}),(0,Kf.jsx)("div",{className:"w-full lgl:w-1/2 h-full",children:p?(0,Kf.jsxs)("div",{className:"w-full lgl:w-[500px] h-full flex flex-col justify-center",children:[(0,Kf.jsx)("p",{className:"w-full px-4 py-10 text-green-500 font-medium font-titleFont",children:p}),(0,Kf.jsx)(Yi,{to:"/signup",children:(0,Kf.jsx)("button",{className:"w-full h-10 bg-primeColor text-gray-200 rounded-md text-base font-titleFont font-semibold  tracking-wide hover:bg-black hover:text-white duration-300",children:"Sign Up"})})]}):(0,Kf.jsx)("form",{className:"w-full lgl:w-[450px] h-screen flex items-center justify-center",children:(0,Kf.jsxs)("div",{className:"px-6 py-4 w-full h-[90%] flex flex-col justify-center overflow-y-scroll scrollbar-thin scrollbar-thumb-primeColor",children:[(0,Kf.jsx)("h1",{className:"font-titleFont underline underline-offset-4 decoration-[1px] font-semibold text-3xl mdl:text-4xl mb-4",children:"Sign in"}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Work Email"}),(0,Kf.jsx)("input",{onChange:function(e){r(e.target.value),u("")},value:n,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"email",placeholder:"john@workemail.com"}),l&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),l]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Password"}),(0,Kf.jsx)("input",{onChange:function(e){o(e.target.value),f("")},value:a,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"password",placeholder:"Create password"}),d&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),d]})]}),(0,Kf.jsx)("button",{onClick:function(e){e.preventDefault(),n||u("Enter your email"),a||f("Create a password"),n&&a&&(v("Hello dear, Thank you for your attempt. We are processing to validate your access. Till then stay connected and additional assistance will be sent to you by your mail at ".concat(n)),r(""),o(""))},className:"bg-primeColor hover:bg-black text-gray-200 hover:text-white cursor-pointer w-full text-base font-medium h-10 rounded-md  duration-300",children:"Sign In"}),(0,Kf.jsxs)("p",{className:"text-sm text-center font-titleFont font-medium",children:["Don't have an Account?"," ",(0,Kf.jsx)(Yi,{to:"/signup",children:(0,Kf.jsx)("span",{className:"hover:text-blue-600 duration-300",children:"Sign up"})})]})]})]})})})]})},jh=function(){var e=yn((0,t.useState)(""),2),n=e[0],r=e[1],i=yn((0,t.useState)(""),2),a=i[0],o=i[1],s=yn((0,t.useState)(""),2),l=s[0],u=s[1],c=yn((0,t.useState)(""),2),d=c[0],f=c[1],h=yn((0,t.useState)(""),2),p=h[0],v=h[1],m=yn((0,t.useState)(""),2),g=m[0],y=m[1],x=yn((0,t.useState)(""),2),b=x[0],_=x[1],w=yn((0,t.useState)(""),2),S=w[0],M=w[1],E=yn((0,t.useState)(!1),2),T=E[0],k=E[1],C=yn((0,t.useState)(""),2),A=C[0],P=C[1],R=yn((0,t.useState)(""),2),N=R[0],L=R[1],O=yn((0,t.useState)(""),2),I=O[0],D=O[1],U=yn((0,t.useState)(""),2),F=U[0],z=U[1],j=yn((0,t.useState)(""),2),B=j[0],H=j[1],V=yn((0,t.useState)(""),2),W=V[0],G=V[1],X=yn((0,t.useState)(""),2),q=X[0],Y=X[1],Z=yn((0,t.useState)(""),2),K=Z[0],J=Z[1],$=yn((0,t.useState)(""),2),Q=$[0],ee=$[1],te=function(e){return String(e).toLowerCase().match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)};return(0,Kf.jsxs)("div",{className:"w-full h-screen flex items-center justify-start",children:[(0,Kf.jsx)("div",{className:"w-1/2 hidden lgl:inline-flex h-full text-white",children:(0,Kf.jsxs)("div",{className:"w-[450px] h-full bg-primeColor px-10 flex flex-col gap-6 justify-center",children:[(0,Kf.jsx)(Yi,{to:"/",children:(0,Kf.jsx)("h2",{children:"Zodiac"})}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-1 -mt-1",children:[(0,Kf.jsx)("h1",{className:"font-titleFont text-xl font-medium",children:"Get started for free"}),(0,Kf.jsx)("p",{className:"text-base",children:"Create your account to access more"})]}),(0,Kf.jsxs)("div",{className:"w-[300px] flex items-start gap-3",children:[(0,Kf.jsx)("span",{className:"text-green-500 mt-1",children:(0,Kf.jsx)(Ph,{})}),(0,Kf.jsxs)("p",{className:"text-base text-gray-300",children:[(0,Kf.jsx)("span",{className:"text-white font-semibold font-titleFont",children:"Get started fast with Zodiac"}),(0,Kf.jsx)("br",{}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis nisi dolor recusandae consectetur!"]})]}),(0,Kf.jsxs)("div",{className:"w-[300px] flex items-start gap-3",children:[(0,Kf.jsx)("span",{className:"text-green-500 mt-1",children:(0,Kf.jsx)(Ph,{})}),(0,Kf.jsxs)("p",{className:"text-base text-gray-300",children:[(0,Kf.jsx)("span",{className:"text-white font-semibold font-titleFont",children:"Access all Zodiac services"}),(0,Kf.jsx)("br",{}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis nisi dolor recusandae consectetur!"]})]}),(0,Kf.jsxs)("div",{className:"w-[300px] flex items-start gap-3",children:[(0,Kf.jsx)("span",{className:"text-green-500 mt-1",children:(0,Kf.jsx)(Ph,{})}),(0,Kf.jsxs)("p",{className:"text-base text-gray-300",children:[(0,Kf.jsx)("span",{className:"text-white font-semibold font-titleFont",children:"Trusted by online Shoppers"}),(0,Kf.jsx)("br",{}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab omnis nisi dolor recusandae consectetur!"]})]}),(0,Kf.jsxs)("div",{className:"flex items-center justify-between mt-10",children:[(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"\xa9 Zodiac"}),(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"Terms"}),(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"Privacy"}),(0,Kf.jsx)("p",{className:"text-sm font-titleFont font-semibold text-gray-300 hover:text-white cursor-pointer duration-300",children:"Security"})]})]})}),(0,Kf.jsx)("div",{className:"w-full lgl:w-[500px] h-full flex flex-col justify-center",children:Q?(0,Kf.jsxs)("div",{className:"w-[500px]",children:[(0,Kf.jsx)("p",{className:"w-full px-4 py-10 text-green-500 font-medium font-titleFont",children:Q}),(0,Kf.jsx)(Yi,{to:"/signin",children:(0,Kf.jsx)("button",{className:"w-full h-10 bg-primeColor rounded-md text-gray-200 text-base font-titleFont font-semibold  tracking-wide hover:bg-black hover:text-white duration-300",children:"Sign in"})})]}):(0,Kf.jsx)("form",{className:"w-full lgl:w-[500px] h-screen flex items-center justify-center",children:(0,Kf.jsxs)("div",{className:"px-6 py-4 w-full h-[96%] flex flex-col justify-start overflow-y-scroll scrollbar-thin scrollbar-thumb-primeColor",children:[(0,Kf.jsx)("h1",{className:"font-titleFont underline underline-offset-4 decoration-[1px] font-semibold text-2xl mdl:text-3xl mb-4",children:"Create your account"}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Full Name"}),(0,Kf.jsx)("input",{onChange:function(e){r(e.target.value),P("")},value:n,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"text",placeholder:"eg. John Doe"}),A&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),A]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Work Email"}),(0,Kf.jsx)("input",{onChange:function(e){o(e.target.value),L("")},value:a,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"email",placeholder:"john@workemail.com"}),N&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),N]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Phone Number"}),(0,Kf.jsx)("input",{onChange:function(e){u(e.target.value),D("")},value:l,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"text",placeholder:"008801234567891"}),I&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),I]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Password"}),(0,Kf.jsx)("input",{onChange:function(e){f(e.target.value),z("")},value:d,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"password",placeholder:"Create password"}),F&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),F]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Address"}),(0,Kf.jsx)("input",{onChange:function(e){v(e.target.value),H("")},value:p,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"text",placeholder:"road-001, house-115, example area"}),B&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),B]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"City"}),(0,Kf.jsx)("input",{onChange:function(e){y(e.target.value),G("")},value:g,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"text",placeholder:"Your city"}),W&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),W]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Country"}),(0,Kf.jsx)("input",{onChange:function(e){_(e.target.value),Y("")},value:b,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"text",placeholder:"Your country"}),q&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),q]})]}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-.5",children:[(0,Kf.jsx)("p",{className:"font-titleFont text-base font-semibold text-gray-600",children:"Zip/Postal code"}),(0,Kf.jsx)("input",{onChange:function(e){M(e.target.value),J("")},value:S,className:"w-full h-8 placeholder:text-sm placeholder:tracking-wide px-4 text-base font-medium placeholder:font-normal rounded-md border-[1px] border-gray-400 outline-none",type:"text",placeholder:"Your country"}),K&&(0,Kf.jsxs)("p",{className:"text-sm text-red-500 font-titleFont font-semibold px-4",children:[(0,Kf.jsx)("span",{className:"font-bold italic mr-1",children:"!"}),K]})]}),(0,Kf.jsxs)("div",{className:"flex items-start mdl:items-center gap-2",children:[(0,Kf.jsx)("input",{onChange:function(){return k(!T)},className:"w-4 h-4 mt-1 mdl:mt-0 cursor-pointer",type:"checkbox"}),(0,Kf.jsxs)("p",{className:"text-sm text-primeColor",children:["I agree to the Zodiac"," ",(0,Kf.jsx)("span",{className:"text-blue-500",children:"Terms of Service "}),"and"," ",(0,Kf.jsx)("span",{className:"text-blue-500",children:"Privacy Policy"}),"."]})]}),(0,Kf.jsx)("button",{onClick:function(e){e.preventDefault(),T&&(n||P("Enter your name"),a?te(a)||L("Enter a Valid email"):L("Enter your email"),l||D("Enter your phone number"),d?d.length<6&&z("Passwords must be at least 6 characters"):z("Create a password"),p||H("Enter your address"),g||G("Enter your city name"),b||Y("Enter the country you are residing"),S||J("Enter the zip code of your area"),n&&a&&te(a)&&d&&d.length>=6&&p&&g&&b&&S&&(ee("Hello dear ".concat(n,", Welcome you to Zodiac Admin panel. We received your Sign up request. We are processing to validate your access. Till then stay connected and additional assistance will be sent to you by your mail at ").concat(a)),r(""),o(""),u(""),f(""),v(""),y(""),_(""),M("")))},className:"".concat(T?"bg-primeColor hover:bg-black hover:text-white cursor-pointer":"bg-gray-500 hover:bg-gray-500 hover:text-gray-200 cursor-none"," w-full text-gray-200 text-base font-medium h-10 rounded-md hover:text-white duration-300"),children:"Create Account"}),(0,Kf.jsxs)("p",{className:"text-sm text-center font-titleFont font-medium",children:["Don't have an Account?"," ",(0,Kf.jsx)(Yi,{to:"/signin",children:(0,Kf.jsx)("span",{className:"hover:text-blue-600 duration-300",children:"Sign in"})})]})]})]})})})]})};function Bh(e){return Ff({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 0h4v4h-4zM6 1h10v2h-10zM0 6h4v4h-4zM6 7h10v2h-10zM0 12h4v4h-4zM6 13h10v2h-10z"}}]})(e)}function Hh(e){return Ff({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.5 6h-5.5v-5.5c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v5.5h-5.5c-0.276 0-0.5 0.224-0.5 0.5v3c0 0.276 0.224 0.5 0.5 0.5h5.5v5.5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5.5h5.5c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5z"}}]})(e)}function Vh(e){return Ff({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}var Wh=function(e){var t=e.item,n=O();return(0,Kf.jsxs)("div",{className:"w-full grid grid-cols-5 mb-4 border py-2",children:[(0,Kf.jsxs)("div",{className:"flex col-span-5 mdl:col-span-2 items-center gap-4 ml-4",children:[(0,Kf.jsx)(Vh,{onClick:function(){return n(ln(t._id))},className:"text-primeColor hover:text-red-500 duration-300 cursor-pointer"}),(0,Kf.jsx)("img",{className:"w-32 h-32",src:t.image,alt:"productImage"}),(0,Kf.jsx)("h1",{className:"font-titleFont font-semibold",children:t.name})]}),(0,Kf.jsxs)("div",{className:"col-span-5 mdl:col-span-3 flex items-center justify-between py-4 mdl:py-0 px-4 mdl:px-0 gap-6 mdl:gap-0",children:[(0,Kf.jsxs)("div",{className:"flex w-1/3 items-center text-lg font-semibold",children:["$",t.price]}),(0,Kf.jsxs)("div",{className:"w-1/3 flex items-center gap-6 text-lg",children:[(0,Kf.jsx)("span",{onClick:function(){return n(sn({_id:t._id}))},className:"w-6 h-6 bg-gray-100 text-2xl flex items-center justify-center hover:bg-gray-300 cursor-pointer duration-300 border-[1px] border-gray-300 hover:border-gray-300",children:"-"}),(0,Kf.jsx)("p",{children:t.quantity}),(0,Kf.jsx)("span",{onClick:function(){return n(on({_id:t._id}))},className:"w-6 h-6 bg-gray-100 text-2xl flex items-center justify-center hover:bg-gray-300 cursor-pointer duration-300 border-[1px] border-gray-300 hover:border-gray-300",children:"+"})]}),(0,Kf.jsx)("div",{className:"w-1/3 flex items-center font-titleFont font-bold text-lg",children:(0,Kf.jsxs)("p",{children:["$",t.quantity*t.price]})})]})]})},Gh=function(){var e=O(),n=E((function(e){return e.orebiReducer.products})),r=yn((0,t.useState)(""),2),i=r[0],a=r[1],o=yn((0,t.useState)(""),2),s=o[0],l=o[1];return(0,t.useEffect)((function(){var e=0;n.map((function(t){return e+=t.price*t.quantity})),a(e)}),[n]),(0,t.useEffect)((function(){i<=200?l(30):i<=400?l(25):i>401&&l(20)}),[i]),(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)(kh,{title:"Cart"}),n.length>0?(0,Kf.jsxs)("div",{className:"pb-20",children:[(0,Kf.jsxs)("div",{className:"w-full h-20 bg-[#F5F7F7] text-primeColor hidden lgl:grid grid-cols-5 place-content-center px-6 text-lg font-titleFont font-semibold",children:[(0,Kf.jsx)("h2",{className:"col-span-2",children:"Product"}),(0,Kf.jsx)("h2",{children:"Price"}),(0,Kf.jsx)("h2",{children:"Quantity"}),(0,Kf.jsx)("h2",{children:"Sub Total"})]}),(0,Kf.jsx)("div",{className:"mt-5",children:n.map((function(e){return(0,Kf.jsx)("div",{children:(0,Kf.jsx)(Wh,{item:e})},e._id)}))}),(0,Kf.jsx)("button",{onClick:function(){return e(un())},className:"py-2 px-10 bg-red-500 text-white font-semibold uppercase mb-4 hover:bg-red-700 duration-300",children:"Reset cart"}),(0,Kf.jsxs)("div",{className:"flex flex-col mdl:flex-row justify-between border py-4 px-4 items-center gap-2 mdl:gap-0",children:[(0,Kf.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Kf.jsx)("input",{className:"w-44 mdl:w-52 h-8 px-4 border text-primeColor text-sm outline-none border-gray-400",type:"text",placeholder:"Coupon Number"}),(0,Kf.jsx)("p",{className:"text-sm mdl:text-base font-semibold",children:"Apply Coupon"})]}),(0,Kf.jsx)("p",{className:"text-lg font-semibold",children:"Update Cart"})]}),(0,Kf.jsx)("div",{className:"max-w-7xl gap-4 flex justify-end mt-4",children:(0,Kf.jsxs)("div",{className:"w-96 flex flex-col gap-4",children:[(0,Kf.jsx)("h1",{className:"text-2xl font-semibold text-right",children:"Cart totals"}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsxs)("p",{className:"flex items-center justify-between border-[1px] border-gray-400 border-b-0 py-1.5 text-lg px-4 font-medium",children:["Subtotal",(0,Kf.jsxs)("span",{className:"font-semibold tracking-wide font-titleFont",children:["$",i]})]}),(0,Kf.jsxs)("p",{className:"flex items-center justify-between border-[1px] border-gray-400 border-b-0 py-1.5 text-lg px-4 font-medium",children:["Shipping Charge",(0,Kf.jsxs)("span",{className:"font-semibold tracking-wide font-titleFont",children:["$",s]})]}),(0,Kf.jsxs)("p",{className:"flex items-center justify-between border-[1px] border-gray-400 py-1.5 text-lg px-4 font-medium",children:["Total",(0,Kf.jsxs)("span",{className:"font-bold tracking-wide text-lg font-titleFont",children:["$",i+s]})]})]}),(0,Kf.jsx)("div",{className:"flex justify-end",children:(0,Kf.jsx)(Yi,{to:"/paymentgateway",children:(0,Kf.jsx)("button",{className:"w-52 h-10 bg-primeColor text-white hover:bg-black duration-300",children:"Proceed to Checkout"})})})]})})]}):(0,Kf.jsxs)(Nf.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"flex flex-col mdl:flex-row justify-center items-center gap-4 pb-20",children:[(0,Kf.jsx)("div",{children:(0,Kf.jsx)("img",{className:"w-80 rounded-lg p-4 mx-auto",src:lh,alt:"emptyCart"})}),(0,Kf.jsxs)("div",{className:"max-w-[500px] p-4 py-8 bg-white flex gap-4 flex-col items-center rounded-md shadow-lg",children:[(0,Kf.jsx)("h1",{className:"font-titleFont text-xl font-bold uppercase",children:"Your Cart feels lonely."}),(0,Kf.jsx)("p",{className:"text-sm text-center px-10 -mt-2",children:"Your Shopping cart lives to serve. Give it purpose - fill it with books, electronics, videos, etc. and make it happy."}),(0,Kf.jsx)(Yi,{to:"/shop",children:(0,Kf.jsx)("button",{className:"bg-primeColor rounded-md cursor-pointer hover:bg-black active:bg-gray-900 px-8 py-2 font-titleFont font-semibold text-lg text-gray-200 hover:text-white duration-300",children:"Continue Shopping"})})]})]})]})},Xh=function(){var e=_i(),n=yn((0,t.useState)(""),2),r=n[0],i=n[1];(0,t.useEffect)((function(){i(e.state.data)}),[e]);var a=yn((0,t.useState)(""),2),o=a[0],s=a[1],l=yn((0,t.useState)(""),2),u=l[0],c=l[1],d=yn((0,t.useState)(""),2),f=d[0],h=d[1],p=yn((0,t.useState)(""),2),v=p[0],m=p[1],g=yn((0,t.useState)(""),2),y=g[0],x=g[1],b=yn((0,t.useState)(""),2),_=b[0],w=b[1],S=yn((0,t.useState)(""),2),M=S[0],E=S[1],T=function(e){return String(e).toLowerCase().match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)};return(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)(kh,{title:"Contact",prevLocation:r}),M?(0,Kf.jsx)("p",{className:"pb-20 w-96 font-medium text-green-500",children:M}):(0,Kf.jsxs)("form",{className:"pb-20",children:[(0,Kf.jsx)("h1",{className:"font-titleFont font-semibold text-3xl",children:"Fill up a Form"}),(0,Kf.jsxs)("div",{className:"w-[500px] h-auto py-6 flex flex-col gap-6",children:[(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("p",{className:"text-base font-titleFont font-semibold px-2",children:"Name"}),(0,Kf.jsx)("input",{onChange:function(e){s(e.target.value),m("")},value:o,className:"w-full py-1 border-b-2 px-2 text-base font-medium placeholder:font-normal placeholder:text-sm outline-none focus-within:border-primeColor",type:"text",placeholder:"Enter your name here"}),v&&(0,Kf.jsxs)("p",{className:"text-red-500 text-sm font-titleFont font-semibold mt-1 px-2 flex items-center gap-1",children:[(0,Kf.jsx)("span",{className:"text-sm italic font-bold",children:"!"}),v]})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("p",{className:"text-base font-titleFont font-semibold px-2",children:"Email"}),(0,Kf.jsx)("input",{onChange:function(e){c(e.target.value),x("")},value:u,className:"w-full py-1 border-b-2 px-2 text-base font-medium placeholder:font-normal placeholder:text-sm outline-none focus-within:border-primeColor",type:"email",placeholder:"Enter your name here"}),y&&(0,Kf.jsxs)("p",{className:"text-red-500 text-sm font-titleFont font-semibold mt-1 px-2 flex items-center gap-1",children:[(0,Kf.jsx)("span",{className:"text-sm italic font-bold",children:"!"}),y]})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("p",{className:"text-base font-titleFont font-semibold px-2",children:"Messages"}),(0,Kf.jsx)("textarea",{onChange:function(e){h(e.target.value),w("")},value:f,cols:"30",rows:"3",className:"w-full py-1 border-b-2 px-2 text-base font-medium placeholder:font-normal placeholder:text-sm outline-none focus-within:border-primeColor resize-none",type:"text",placeholder:"Enter your name here"}),_&&(0,Kf.jsxs)("p",{className:"text-red-500 text-sm font-titleFont font-semibold mt-1 px-2 flex items-center gap-1",children:[(0,Kf.jsx)("span",{className:"text-sm italic font-bold",children:"!"}),_]})]}),(0,Kf.jsx)("button",{onClick:function(e){e.preventDefault(),o||m("Enter your Name"),u?T(u)||x("Enter a Valid Email"):x("Enter your Email"),f||w("Enter your Messages"),o&&u&&T(u)&&f&&E("Thank you dear ".concat(o,", Your messages has been received successfully. Futher details will sent to you by your email at ").concat(u,"."))},className:"w-44 bg-primeColor text-gray-200 h-10 font-titleFont text-base tracking-wide font-semibold hover:bg-black hover:text-white duration-200",children:"Post"})]})]})]})},qh="171",Yh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Kh=0,Jh=1,$h=2,Qh=3,ep=0,tp=1,np=2,rp=3,ip=0,ap=1,op=2,sp=0,lp=1,up=2,cp=3,dp=4,fp=5,hp=100,pp=101,vp=102,mp=103,gp=104,yp=200,xp=201,bp=202,_p=203,wp=204,Sp=205,Mp=206,Ep=207,Tp=208,kp=209,Cp=210,Ap=211,Pp=212,Rp=213,Np=214,Lp=0,Op=1,Ip=2,Dp=3,Up=4,Fp=5,zp=6,jp=7,Bp=0,Hp=1,Vp=2,Wp=0,Gp=1,Xp=2,qp=3,Yp=4,Zp=5,Kp=6,Jp=7,$p="attached",Qp="detached",ev=300,tv=301,nv=302,rv=303,iv=304,av=306,ov=1e3,sv=1001,lv=1002,uv=1003,cv=1004,dv=1004,fv=1005,hv=1005,pv=1006,vv=1007,mv=1007,gv=1008,yv=1008,xv=1009,bv=1010,_v=1011,wv=1012,Sv=1013,Mv=1014,Ev=1015,Tv=1016,kv=1017,Cv=1018,Av=1020,Pv=35902,Rv=1021,Nv=1022,Lv=1023,Ov=1024,Iv=1025,Dv=1026,Uv=1027,Fv=1028,zv=1029,jv=1030,Bv=1031,Hv=1032,Vv=1033,Wv=33776,Gv=33777,Xv=33778,qv=33779,Yv=35840,Zv=35841,Kv=35842,Jv=35843,$v=36196,Qv=37492,em=37496,tm=37808,nm=37809,rm=37810,im=37811,am=37812,om=37813,sm=37814,lm=37815,um=37816,cm=37817,dm=37818,fm=37819,hm=37820,pm=37821,vm=36492,mm=36494,gm=36495,ym=36283,xm=36284,bm=36285,_m=36286,wm=2200,Sm=2201,Mm=2202,Em=2300,Tm=2301,km=2302,Cm=2400,Am=2401,Pm=2402,Rm=2500,Nm=2501,Lm=0,Om=1,Im=2,Dm=3200,Um=3201,Fm=3202,zm=3203,jm=0,Bm=1,Hm="",Vm="srgb",Wm="srgb-linear",Gm="linear",Xm="srgb",qm=0,Ym=7680,Zm=7681,Km=7682,Jm=7683,$m=34055,Qm=34056,eg=5386,tg=512,ng=513,rg=514,ig=515,ag=516,og=517,sg=518,lg=519,ug=512,cg=513,dg=514,fg=515,hg=516,pg=517,vg=518,mg=519,gg=35044,yg=35048,xg=35040,bg=35045,_g=35049,wg=35041,Sg=35046,Mg=35050,Eg=35042,Tg="100",kg="300 es",Cg=2e3,Ag=2001,Pg=function(){function e(){_n(this,e)}return Sn(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Rg=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ng=1234567,Lg=Math.PI/180,Og=180/Math.PI;function Ig(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Rg[255&e]+Rg[e>>8&255]+Rg[e>>16&255]+Rg[e>>24&255]+"-"+Rg[255&t]+Rg[t>>8&255]+"-"+Rg[t>>16&15|64]+Rg[t>>24&255]+"-"+Rg[63&n|128]+Rg[n>>8&255]+"-"+Rg[n>>16&255]+Rg[n>>24&255]+Rg[255&r]+Rg[r>>8&255]+Rg[r>>16&255]+Rg[r>>24&255]).toLowerCase()}function Dg(e,t,n){return Math.max(t,Math.min(n,e))}function Ug(e,t){return(e%t+t)%t}function Fg(e,t,n){return(1-n)*e+n*t}function zg(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function jg(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Bg={DEG2RAD:Lg,RAD2DEG:Og,generateUUID:Ig,clamp:Dg,euclideanModulo:Ug,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Fg,damp:function(e,t,n,r){return Fg(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ug(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ng=e);var t=Ng+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Lg},radToDeg:function(e){return e*Og},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),f=o((t-r)/2),h=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*d,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*h,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:jg,denormalize:zg},Hg=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_n(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return Sn(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Dg(this.x,e.x,t.x),this.y=Dg(this.y,e.y,t.y),this}},{key:"clampScalar",value:function(e,t){return this.x=Dg(this.x,e,t),this.y=Dg(this.y,e,t),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Dg(n,e,t))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Dg(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),Vg=function(){function e(t,n,r,i,a,o,s,l,u){_n(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u)}return Sn(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],f=n[5],h=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],x=r[7],b=r[2],_=r[5],w=r[8];return i[0]=a*p+o*g+s*b,i[3]=a*v+o*y+s*_,i[6]=a*m+o*x+s*w,i[1]=l*p+u*g+c*b,i[4]=l*v+u*y+c*_,i[7]=l*m+u*x+c*w,i[2]=d*p+f*g+h*b,i[5]=d*v+f*y+h*_,i[8]=d*m+f*x+h*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,f=l*i-a*s,h=t*c+n*d+r*f;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Wg.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Wg.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Wg.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),Wg=new Vg;function Gg(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Xg={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function qg(e,t){return new Xg[e](t)}function Yg(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Zg(){var e=Yg("canvas");return e.style.display="block",e}var Kg={};function Jg(e){e in Kg||(Kg[e]=!0,console.warn(e))}function $g(e,t,n){return new Promise((function(r,i){setTimeout((function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}),n)}))}function Qg(e){var t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function ey(e){var t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}var ty=(new Vg).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ny=(new Vg).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ry(){var e,t={enabled:!0,workingColorSpace:Wm,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===Xm&&(e.r=oy(e.r),e.g=oy(e.g),e.b=oy(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===Xm&&(e.r=sy(e.r),e.g=sy(e.g),e.b=sy(e.b)),e):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===Hm?Gm:this.spaces[e].transfer},getLuminanceCoefficients:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.workingColorSpace;return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.workingColorSpace;return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},n=[.64,.33,.3,.6,.15,.06],r=[.2126,.7152,.0722],i=[.3127,.329];return t.define((Fe(e={},Wm,{primaries:n,whitePoint:i,transfer:Gm,toXYZ:ty,fromXYZ:ny,luminanceCoefficients:r,workingColorSpaceConfig:{unpackColorSpace:Vm},outputColorSpaceConfig:{drawingBufferColorSpace:Vm}}),Fe(e,Vm,{primaries:n,whitePoint:i,transfer:Xm,toXYZ:ty,fromXYZ:ny,luminanceCoefficients:r,outputColorSpaceConfig:{drawingBufferColorSpace:Vm}}),e)),t}var iy,ay=ry();function oy(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function sy(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var ly=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===iy&&(iy=Yg("canvas")),iy.width=e.width,iy.height=e.height;var n=iy.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=iy}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=Yg("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*oy(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*oy(o[s]/255)):o[s]=oy(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),uy=0,cy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_n(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:uy++}),this.uuid=Ig(),this.data=t,this.dataReady=!0,this.version=0}return Sn(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(dy(r[a].image)):i.push(dy(r[a]))}else i=dy(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function dy(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?ly.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var fy=0,hy=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sv,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sv,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pv,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gv,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lv,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:xv,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Hm;return _n(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(Cn(e),"id",{value:fy++}),e.uuid=Ig(),e.name="",e.source=new cy(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new Hg(0,0),e.repeat=new Hg(1,1),e.center=new Hg(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Vg,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.colorSpace=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.pmremVersion=0,e}return Sn(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==ev)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ov:e.x=e.x-Math.floor(e.x);break;case sv:e.x=e.x<0?0:1;break;case lv:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ov:e.y=e.y-Math.floor(e.y);break;case sv:e.y=e.y<0?0:1;break;case lv:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"needsPMREMUpdate",set:function(e){!0===e&&this.pmremVersion++}}]),n}(Pg);hy.DEFAULT_IMAGE=null,hy.DEFAULT_MAPPING=ev,hy.DEFAULT_ANISOTROPY=1;var py=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_n(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return Sn(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],f=s[5],h=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-d)<a&&Math.abs(c-p)<a&&Math.abs(h-v)<a){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(h+v)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(f+1)/2,x=(m+1)/2,b=(u+d)/4,_=(c+p)/4,w=(h+v)/4;return g>y&&g>x?g<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(g)),i=_/n):y>x?y<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(y)),i=w/r):x<a?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(x)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-h)*(v-h)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(S)<.001&&(S=1),this.x=(v-h)/S,this.y=(c-p)/S,this.z=(d-u)/S,this.w=Math.acos((l+f+m-1)/2),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Dg(this.x,e.x,t.x),this.y=Dg(this.y,e.y,t.y),this.z=Dg(this.z,e.z,t.z),this.w=Dg(this.w,e.w,t.w),this}},{key:"clampScalar",value:function(e,t){return this.x=Dg(this.x,e,t),this.y=Dg(this.y,e,t),this.z=Dg(this.z,e,t),this.w=Dg(this.w,e,t),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Dg(n,e,t))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),vy=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_n(this,n),(e=t.call(this)).isRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new py(0,0,r,i),e.scissorTest=!1,e.viewport=new py(0,0,r,i);var o={width:r,height:i,depth:1};a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:pv,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},a);var s=new hy(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace);s.flipY=!1,s.generateMipmaps=a.generateMipmaps,s.internalFormat=a.internalFormat,e.textures=[];for(var l=a.count,u=0;u<l;u++)e.textures[u]=s.clone(),e.textures[u].isRenderTargetTexture=!0;return e.depthBuffer=a.depthBuffer,e.stencilBuffer=a.stencilBuffer,e.resolveDepthBuffer=a.resolveDepthBuffer,e.resolveStencilBuffer=a.resolveStencilBuffer,e.depthTexture=a.depthTexture,e.samples=a.samples,e}return Sn(n,[{key:"texture",get:function(){return this.textures[0]},set:function(e){this.textures[0]=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(var t=0,n=e.textures.length;t<n;t++)this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0;var r=Object.assign({},e.texture.image);return this.texture.source=new cy(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Pg),my=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _n(this,n),(e=t.call(this,r,i,a)).isWebGLRenderTarget=!0,e}return Sn(n)}(vy),gy=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _n(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=uv,e.minFilter=uv,e.wrapR=sv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.layerUpdates=new Set,e}return Sn(n,[{key:"addLayerUpdate",value:function(e){this.layerUpdates.add(e)}},{key:"clearLayerUpdates",value:function(){this.layerUpdates.clear()}}]),n}(hy),yy=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _n(this,n),(e=t.call(this,r,i,o)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new gy(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return Sn(n)}(my),xy=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _n(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=uv,e.minFilter=uv,e.wrapR=sv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Sn(n)}(hy),by=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _n(this,n),(e=t.call(this,r,i,o)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new xy(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return Sn(n)}(my),_y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_n(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return Sn(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),f=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"YXZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"ZXY":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"ZYX":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"YZX":this._x=d*u*c+l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c-d*f*h;break;case"XZY":this._x=d*u*c-l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c+d*f*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){var f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(a-r)*f}else if(n>o&&n>c){var h=2*Math.sqrt(1+n-o-c);this._w=(u-s)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+l)/h}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Dg(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*d+this._w*f,this._x=n*d+this._x*f,this._y=r*d+this._y*f,this._z=i*d+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],f=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=f,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==d||l!==f||u!==h){var v=1-o,m=s*d+l*f+u*h+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,m*g);v=Math.sin(v*b)/x,o=Math.sin(o*b)/x}var _=o*g;if(s=s*v+d*_,l=l*v+f*_,u=u*v+h*_,c=c*v+p*_,v===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],f=i[a+2],h=i[a+3];return e[t]=o*h+u*c+s*f-l*d,e[t+1]=s*h+u*d+l*c-o*f,e[t+2]=l*h+u*f+o*d-s*c,e[t+3]=u*h-o*c-s*d-l*f,e}}]),t}(),wy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_n(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return Sn(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(My.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(My.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),u=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*l+a*c-o*u,this.y=n+s*u+o*l-i*c,this.z=r+s*c+i*u-a*l,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Dg(this.x,e.x,t.x),this.y=Dg(this.y,e.y,t.y),this.z=Dg(this.z,e.z,t.z),this}},{key:"clampScalar",value:function(e,t){return this.x=Dg(this.x,e,t),this.y=Dg(this.y,e,t),this.z=Dg(this.z,e,t),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Dg(n,e,t))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Sy.copy(this).projectOnVector(e),this.sub(Sy)}},{key:"reflect",value:function(e){return this.sub(Sy.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Dg(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}},{key:Symbol.iterator,value:Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Sy=new wy,My=new _y,Ey=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy(-1/0,-1/0,-1/0);_n(this,e),this.isBox3=!0,this.min=t,this.max=n}return Sn(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(ky.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(ky.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ky.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n){var r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(var i=0,a=r.count;i<a;i++)!0===e.isMesh?e.getVertexPosition(i,ky):ky.fromBufferAttribute(r,i),ky.applyMatrix4(e.matrixWorld),this.expandByPoint(ky);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Cy.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Cy.copy(n.boundingBox)),Cy.applyMatrix4(e.matrixWorld),this.union(Cy)}for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,ky),ky.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Iy),Dy.subVectors(this.max,Iy),Ay.subVectors(e.a,Iy),Py.subVectors(e.b,Iy),Ry.subVectors(e.c,Iy),Ny.subVectors(Py,Ay),Ly.subVectors(Ry,Py),Oy.subVectors(Ay,Ry);var t=[0,-Ny.z,Ny.y,0,-Ly.z,Ly.y,0,-Oy.z,Oy.y,Ny.z,0,-Ny.x,Ly.z,0,-Ly.x,Oy.z,0,-Oy.x,-Ny.y,Ny.x,0,-Ly.y,Ly.x,0,-Oy.y,Oy.x,0];return!!zy(t,Ay,Py,Ry,Dy)&&(!!zy(t=[1,0,0,0,1,0,0,0,1],Ay,Py,Ry,Dy)&&(Uy.crossVectors(Ny,Ly),zy(t=[Uy.x,Uy.y,Uy.z],Ay,Py,Ry,Dy)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,ky).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ky).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Ty[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ty[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ty[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ty[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ty[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ty[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ty[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ty[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ty)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Ty=[new wy,new wy,new wy,new wy,new wy,new wy,new wy,new wy],ky=new wy,Cy=new Ey,Ay=new wy,Py=new wy,Ry=new wy,Ny=new wy,Ly=new wy,Oy=new wy,Iy=new wy,Dy=new wy,Uy=new wy,Fy=new wy;function zy(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Fy.fromArray(e,a);var s=i.x*Math.abs(Fy.x)+i.y*Math.abs(Fy.y)+i.z*Math.abs(Fy.z),l=t.dot(Fy),u=n.dot(Fy),c=r.dot(Fy);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var jy=new Ey,By=new wy,Hy=new wy,Vy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_n(this,e),this.isSphere=!0,this.center=t,this.radius=n}return Sn(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):jy.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;By.subVectors(e,this.center);var t=By.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(By,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Hy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(By.copy(e.center).add(Hy)),this.expandByPoint(By.copy(e.center).sub(Hy))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Wy=new wy,Gy=new wy,Xy=new wy,qy=new wy,Yy=new wy,Zy=new wy,Ky=new wy,Jy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy(0,0,-1);_n(this,e),this.origin=t,this.direction=n}return Sn(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Wy)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Wy.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wy.copy(this.origin).addScaledVector(this.direction,t),Wy.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Gy.copy(e).add(t).multiplyScalar(.5),Xy.copy(t).sub(e).normalize(),qy.copy(this.origin).sub(Gy);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Xy),c=qy.dot(this.direction),d=-qy.dot(Xy),f=qy.lengthSq(),h=Math.abs(1-u*u);if(h>0)if(a=u*c-d,s=l*h,(i=u*d-c)>=0)if(a>=-s)if(a<=s){var p=1/h;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*d)+f}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+f;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+f;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+f):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+f;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Gy).addScaledVector(Xy,a),o}},{key:"intersectSphere",value:function(e,t){Wy.subVectors(e.center,this.origin);var n=Wy.dot(this.direction),r=Wy.dot(Wy)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Wy)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Yy.subVectors(t,e),Zy.subVectors(n,e),Ky.crossVectors(Yy,Zy);var a,o=this.direction.dot(Ky);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}qy.subVectors(this.origin,e);var s=a*this.direction.dot(Zy.crossVectors(qy,Zy));if(s<0)return null;var l=a*this.direction.dot(Yy.cross(qy));if(l<0)return null;if(s+l>o)return null;var u=-a*qy.dot(Ky);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),$y=function(){function e(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m){_n(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m)}return Sn(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=d,m[3]=f,m[7]=h,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Qy.setFromMatrixColumn(e,0).length(),i=1/Qy.setFromMatrixColumn(e,1).length(),a=1/Qy.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=a*u,f=a*c,h=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+h*l,t[5]=d-p*l,t[9]=-o*s,t[2]=p-d*l,t[6]=h+f*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,m=s*c,g=l*u,y=l*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var x=s*u,b=s*c,_=l*u,w=l*c;t[0]=x-w*o,t[4]=-a*c,t[8]=_+b*o,t[1]=b+_*o,t[5]=a*u,t[9]=w-x*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*u,M=a*c,E=o*u,T=o*c;t[0]=s*u,t[4]=E*l-M,t[8]=S*l+T,t[1]=s*c,t[5]=T*l+S,t[9]=M*l-E,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var k=a*s,C=a*l,A=o*s,P=o*l;t[0]=s*u,t[4]=P-k*c,t[8]=A*c+C,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=C*c+A,t[10]=k-P*c}else if("XZY"===e.order){var R=a*s,N=a*l,L=o*s,O=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=R*c+O,t[5]=a*u,t[9]=N*c-L,t[2]=L*c-N,t[6]=o*u,t[10]=O*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(tx,e,nx)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return ax.subVectors(e,t),0===ax.lengthSq()&&(ax.z=1),ax.normalize(),rx.crossVectors(n,ax),0===rx.lengthSq()&&(1===Math.abs(n.z)?ax.x+=1e-4:ax.z+=1e-4,ax.normalize(),rx.crossVectors(n,ax)),rx.normalize(),ix.crossVectors(ax,rx),r[0]=rx.x,r[4]=ix.x,r[8]=ax.x,r[1]=rx.y,r[5]=ix.y,r[9]=ax.y,r[2]=rx.z,r[6]=ix.z,r[10]=ax.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],f=n[13],h=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],x=n[11],b=n[15],_=r[0],w=r[4],S=r[8],M=r[12],E=r[1],T=r[5],k=r[9],C=r[13],A=r[2],P=r[6],R=r[10],N=r[14],L=r[3],O=r[7],I=r[11],D=r[15];return i[0]=a*_+o*E+s*A+l*L,i[4]=a*w+o*T+s*P+l*O,i[8]=a*S+o*k+s*R+l*I,i[12]=a*M+o*C+s*N+l*D,i[1]=u*_+c*E+d*A+f*L,i[5]=u*w+c*T+d*P+f*O,i[9]=u*S+c*k+d*R+f*I,i[13]=u*M+c*C+d*N+f*D,i[2]=h*_+p*E+v*A+m*L,i[6]=h*w+p*T+v*P+m*O,i[10]=h*S+p*k+v*R+m*I,i[14]=h*M+p*C+v*N+m*D,i[3]=g*_+y*E+x*A+b*L,i[7]=g*w+y*T+x*P+b*O,i[11]=g*S+y*k+x*R+b*I,i[15]=g*M+y*C+x*N+b*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*d+i*a*d-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],v=e[14],m=e[15],g=c*v*l-p*d*l+p*s*f-o*v*f-c*s*m+o*d*m,y=h*d*l-u*v*l-h*s*f+a*v*f+u*s*m-a*d*m,x=u*p*l-h*c*l+h*o*f-a*p*f-u*o*m+a*c*m,b=h*c*s-u*p*s-h*o*d+a*p*d+u*o*v-a*c*v,_=t*g+n*y+r*x+i*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/_;return e[0]=g*w,e[1]=(p*d*i-c*v*i-p*r*f+n*v*f+c*r*m-n*d*m)*w,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*f-n*s*f)*w,e[4]=y*w,e[5]=(u*v*i-h*d*i+h*r*f-t*v*f-u*r*m+t*d*m)*w,e[6]=(h*s*i-a*v*i-h*r*l+t*v*l+a*r*m-t*s*m)*w,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*f+t*s*f)*w,e[8]=x*w,e[9]=(h*c*i-u*p*i-h*n*f+t*p*f+u*n*m-t*c*m)*w,e[10]=(a*p*i-h*o*i+h*n*l-t*p*l-a*n*m+t*o*m)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*w,e[12]=b*w,e[13]=(u*p*r-h*c*r+h*n*d-t*p*d-u*n*v+t*c*v)*w,e[14]=(h*o*r-a*p*r-h*n*s+t*p*s+a*n*v-t*o*v)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,f=i*u,h=i*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,x=s*c,b=n.x,_=n.y,w=n.z;return r[0]=(1-(p+m))*b,r[1]=(f+x)*b,r[2]=(h-y)*b,r[3]=0,r[4]=(f-x)*_,r[5]=(1-(d+m))*_,r[6]=(v+g)*_,r[7]=0,r[8]=(h+y)*w,r[9]=(v-g)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Qy.set(r[0],r[1],r[2]).length(),a=Qy.set(r[4],r[5],r[6]).length(),o=Qy.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ex.copy(this);var s=1/i,l=1/a,u=1/o;return ex.elements[0]*=s,ex.elements[1]*=s,ex.elements[2]*=s,ex.elements[4]*=l,ex.elements[5]*=l,ex.elements[6]*=l,ex.elements[8]*=u,ex.elements[9]*=u,ex.elements[10]*=u,t.setFromRotationMatrix(ex),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cg,u=this.elements,c=2*i/(t-e),d=2*i/(n-r),f=(t+e)/(t-e),h=(n+r)/(n-r);if(l===Cg)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(l!==Ag)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-i),s=-a*i/(a-i)}return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cg,u=this.elements,c=1/(t-e),d=1/(n-r),f=1/(a-i),h=(t+e)*c,p=(n+r)*d;if(l===Cg)o=(a+i)*f,s=-2*f;else{if(l!==Ag)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=i*f,s=-1*f}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Qy=new wy,ex=new $y,tx=new wy(0,0,0),nx=new wy(1,1,1),rx=new wy,ix=new wy,ax=new wy,ox=new $y,sx=new _y,lx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;_n(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return Sn(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Dg(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Dg(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Dg(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Dg(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Dg(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Dg(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return ox.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ox,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return sx.setFromEuler(this),this.setFromQuaternion(sx,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();lx.DEFAULT_ORDER="XYZ";var ux=function(){function e(){_n(this,e),this.mask=1}return Sn(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),cx=0,dx=new wy,fx=new _y,hx=new $y,px=new wy,vx=new wy,mx=new wy,gx=new _y,yx=new wy(1,0,0),xx=new wy(0,1,0),bx=new wy(0,0,1),_x={type:"added"},wx={type:"removed"},Sx={type:"childadded",child:null},Mx={type:"childremoved",child:null},Ex=function(e){En(n,e);var t=Pn(n);function n(){var e;_n(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(Cn(e),"id",{value:cx++}),e.uuid=Ig(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new wy,i=new lx,a=new _y,o=new wy(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(Cn(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new $y},normalMatrix:{value:new Vg}}),e.matrix=new $y,e.matrixWorld=new $y,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.layers=new ux,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return Sn(n,[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return fx.setFromAxisAngle(e,t),this.quaternion.multiply(fx),this}},{key:"rotateOnWorldAxis",value:function(e,t){return fx.setFromAxisAngle(e,t),this.quaternion.premultiply(fx),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(yx,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(xx,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(bx,e)}},{key:"translateOnAxis",value:function(e,t){return dx.copy(e).applyQuaternion(this.quaternion),this.position.add(dx.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(yx,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(xx,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(bx,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(hx.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?px.copy(e):px.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),vx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?hx.lookAt(vx,px,this.up):hx.lookAt(px,vx,this.up),this.quaternion.setFromRotationMatrix(hx),r&&(hx.extractRotation(r.matrixWorld),fx.setFromRotationMatrix(hx),this.quaternion.premultiply(fx.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_x),Sx.child=e,this.dispatchEvent(Sx),Sx.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(wx),Mx.child=e,this.dispatchEvent(Mx),Mx.child=null),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,bn(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),hx.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),hx.multiply(e.parent.matrixWorld)),e.applyMatrix4(hx),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_x),Sx.child=e,this.dispatchEvent(Sx),Sx.child=null,this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vx,e,mx),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vx,gx,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){r[i].updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((function(e){return{boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,f=this.material.length;d<f;d++)c.push(i(e.materials,this.material[d]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=M(e.geometries),g=M(e.materials),y=M(e.textures),x=M(e.images),b=M(e.shapes),_=M(e.skeletons),w=M(e.animations),S=M(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),x.length>0&&(n.images=x),b.length>0&&(n.shapes=b),_.length>0&&(n.skeletons=_),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function M(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Pg);Ex.DEFAULT_UP=new wy(0,1,0),Ex.DEFAULT_MATRIX_AUTO_UPDATE=!0,Ex.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Tx=new wy,kx=new wy,Cx=new wy,Ax=new wy,Px=new wy,Rx=new wy,Nx=new wy,Lx=new wy,Ox=new wy,Ix=new wy,Dx=new py,Ux=new py,Fx=new py,zx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wy;_n(this,e),this.a=t,this.b=n,this.c=r}return Sn(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Tx.subVectors(this.c,this.b),kx.subVectors(this.a,this.b),.5*Tx.cross(kx).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Px.subVectors(a,i),Rx.subVectors(o,i),Lx.subVectors(e,i);var s=Px.dot(Lx),l=Rx.dot(Lx);if(s<=0&&l<=0)return t.copy(i);Ox.subVectors(e,a);var u=Px.dot(Ox),c=Rx.dot(Ox);if(u>=0&&c<=u)return t.copy(a);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Px,n);Ix.subVectors(e,o);var f=Px.dot(Ix),h=Rx.dot(Ix);if(h>=0&&f<=h)return t.copy(o);var p=f*l-s*h;if(p<=0&&l>=0&&h<=0)return r=l/(l-h),t.copy(i).addScaledVector(Rx,r);var v=u*h-f*c;if(v<=0&&c-u>=0&&f-h>=0)return Nx.subVectors(o,a),r=(c-u)/(c-u+(f-h)),t.copy(a).addScaledVector(Nx,r);var m=1/(v+p+d);return n=p*m,r=d*m,t.copy(i).addScaledVector(Px,n).addScaledVector(Rx,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Tx.subVectors(e,t),r.cross(Tx);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Tx.subVectors(r,t),kx.subVectors(n,t),Cx.subVectors(e,t);var a=Tx.dot(Tx),o=Tx.dot(kx),s=Tx.dot(Cx),l=kx.dot(kx),u=kx.dot(Cx),c=a*l-o*o;if(0===c)return i.set(0,0,0),null;var d=1/c,f=(l*s-o*u)*d,h=(a*u-o*s)*d;return i.set(1-f-h,h,f)}},{key:"containsPoint",value:function(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,Ax)&&(Ax.x>=0&&Ax.y>=0&&Ax.x+Ax.y<=1)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,Ax)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,Ax.x),s.addScaledVector(a,Ax.y),s.addScaledVector(o,Ax.z),s)}},{key:"getInterpolatedAttribute",value:function(e,t,n,r,i,a){return Dx.setScalar(0),Ux.setScalar(0),Fx.setScalar(0),Dx.fromBufferAttribute(e,t),Ux.fromBufferAttribute(e,n),Fx.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(Dx,i.x),a.addScaledVector(Ux,i.y),a.addScaledVector(Fx,i.z),a}},{key:"isFrontFacing",value:function(e,t,n,r){return Tx.subVectors(n,t),kx.subVectors(e,t),Tx.cross(kx).dot(r)<0}}]),e}(),jx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bx={h:0,s:0,l:0},Hx={h:0,s:0,l:0};function Vx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var Wx=function(e){function t(e,n,r){return _n(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return Sn(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vm;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ay.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ay.workingColorSpace;return this.r=e,this.g=t,this.b=n,ay.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ay.workingColorSpace;if(e=Ug(e,1),t=Dg(t,0,1),n=Dg(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Vx(a,i,e+1/3),this.g=Vx(a,i,e),this.b=Vx(a,i,e-1/3)}return ay.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vm;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===l)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vm,n=jx[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=oy(e.r),this.g=oy(e.g),this.b=oy(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=sy(e.r),this.g=sy(e.g),this.b=sy(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm;return ay.fromWorkingColorSpace(Gx.copy(this),e),65536*Math.round(Dg(255*Gx.r,0,255))+256*Math.round(Dg(255*Gx.g,0,255))+Math.round(Dg(255*Gx.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ay.workingColorSpace;ay.fromWorkingColorSpace(Gx.copy(this),t);var n,r,i=Gx.r,a=Gx.g,o=Gx.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ay.workingColorSpace;return ay.fromWorkingColorSpace(Gx.copy(this),t),e.r=Gx.r,e.g=Gx.g,e.b=Gx.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm;ay.fromWorkingColorSpace(Gx.copy(this),e);var t=Gx.r,n=Gx.g,r=Gx.b;return e!==Vm?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Bx),this.setHSL(Bx.h+e,Bx.s+t,Bx.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Bx),e.getHSL(Hx);var n=Fg(Bx.h,Hx.h,t),r=Fg(Bx.s,Hx.s,t),i=Fg(Bx.l,Hx.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Gx=new Wx;Wx.NAMES=jx;var Xx=0,qx=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(Cn(e),"id",{value:Xx++}),e.uuid=Ig(),e.name="",e.type="Material",e.blending=lp,e.side=ip,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=wp,e.blendDst=Sp,e.blendEquation=hp,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.blendColor=new Wx(0,0,0),e.blendAlpha=0,e.depthFunc=Dp,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=lg,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Ym,e.stencilZFail=Ym,e.stencilZPass=Ym,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return Sn(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==lp&&(n.blending=this.blending),this.side!==ip&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==wp&&(n.blendSrc=this.blendSrc),this.blendDst!==Sp&&(n.blendDst=this.blendDst),this.blendEquation!==hp&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Dp&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==lg&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ym&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ym&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ym&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"onBuild",value:function(){console.warn("Material: onBuild() has been removed.")}}]),n}(Pg),Yx=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new Wx(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new lx,r.combine=Bp,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(qx),Zx=Kx();function Kx(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64),c=1;c<1024;++c){for(var d=c<<13,f=0;0===(8388608&d);)d<<=1,f-=8388608;d&=-8388609,f+=947912704,s[c]=d|f}for(var h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(var p=1;p<31;++p)l[p]=p<<23;l[31]=1199570944,l[32]=2147483648;for(var v=33;v<63;++v)l[v]=2147483648+(v-32<<23);l[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(u[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:u}}function Jx(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Dg(e,-65504,65504),Zx.floatView[0]=e;var t=Zx.uint32View[0],n=t>>23&511;return Zx.baseTable[n]+((8388607&t)>>Zx.shiftTable[n])}function $x(e){var t=e>>10;return Zx.uint32View[0]=Zx.mantissaTable[Zx.offsetTable[t]+(1023&e)]+Zx.exponentTable[t],Zx.floatView[0]}var Qx={toHalfFloat:Jx,fromHalfFloat:$x},eb=new wy,tb=new Hg,nb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_n(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=gg,this.updateRanges=[],this.gpuType=Ev,this.version=0}return Sn(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)tb.fromBufferAttribute(this,t),tb.applyMatrix3(e),this.setXY(t,tb.x,tb.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)eb.fromBufferAttribute(this,r),eb.applyMatrix3(e),this.setXYZ(r,eb.x,eb.y,eb.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)eb.fromBufferAttribute(this,t),eb.applyMatrix4(e),this.setXYZ(t,eb.x,eb.y,eb.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)eb.fromBufferAttribute(this,t),eb.applyNormalMatrix(e),this.setXYZ(t,eb.x,eb.y,eb.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)eb.fromBufferAttribute(this,t),eb.transformDirection(e),this.setXYZ(t,eb.x,eb.y,eb.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=zg(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=jg(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=zg(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=zg(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=zg(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=zg(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array),i=jg(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==gg&&(e.usage=this.usage),e}}]),e}(),rb=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Int8Array(e),r,i)}return Sn(n)}(nb),ib=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Uint8Array(e),r,i)}return Sn(n)}(nb),ab=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return Sn(n)}(nb),ob=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Int16Array(e),r,i)}return Sn(n)}(nb),sb=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Uint16Array(e),r,i)}return Sn(n)}(nb),lb=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Int32Array(e),r,i)}return Sn(n)}(nb),ub=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Uint32Array(e),r,i)}return Sn(n)}(nb),cb=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return Sn(n,[{key:"getX",value:function(e){var t=$x(this.array[e*this.itemSize]);return this.normalized&&(t=zg(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize]=Jx(t),this}},{key:"getY",value:function(e){var t=$x(this.array[e*this.itemSize+1]);return this.normalized&&(t=zg(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+1]=Jx(t),this}},{key:"getZ",value:function(e){var t=$x(this.array[e*this.itemSize+2]);return this.normalized&&(t=zg(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+2]=Jx(t),this}},{key:"getW",value:function(e){var t=$x(this.array[e*this.itemSize+3]);return this.normalized&&(t=zg(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.array[e*this.itemSize+3]=Jx(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array)),this.array[e+0]=Jx(t),this.array[e+1]=Jx(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array)),this.array[e+0]=Jx(t),this.array[e+1]=Jx(n),this.array[e+2]=Jx(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array),i=jg(i,this.array)),this.array[e+0]=Jx(t),this.array[e+1]=Jx(n),this.array[e+2]=Jx(r),this.array[e+3]=Jx(i),this}}]),n}(nb),db=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,new Float32Array(e),r,i)}return Sn(n)}(nb),fb=0,hb=new $y,pb=new Ex,vb=new wy,mb=new Ey,gb=new Ey,yb=new wy,xb=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(Cn(e),"id",{value:fb++}),e.uuid=Ig(),e.name="",e.type="BufferGeometry",e.index=null,e.indirect=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return Sn(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Gg(e)?ub:sb)(e,1):this.index=e,this}},{key:"setIndirect",value:function(e){return this.indirect=e,this}},{key:"getIndirect",value:function(){return this.indirect}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Vg).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return hb.makeRotationFromQuaternion(e),this.applyMatrix4(hb),this}},{key:"rotateX",value:function(e){return hb.makeRotationX(e),this.applyMatrix4(hb),this}},{key:"rotateY",value:function(e){return hb.makeRotationY(e),this.applyMatrix4(hb),this}},{key:"rotateZ",value:function(e){return hb.makeRotationZ(e),this.applyMatrix4(hb),this}},{key:"translate",value:function(e,t,n){return hb.makeTranslation(e,t,n),this.applyMatrix4(hb),this}},{key:"scale",value:function(e,t,n){return hb.makeScale(e,t,n),this.applyMatrix4(hb),this}},{key:"lookAt",value:function(e){return pb.lookAt(e),pb.updateMatrix(),this.applyMatrix4(pb.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(vb).negate(),this.translate(vb.x,vb.y,vb.z),this}},{key:"setFromPoints",value:function(e){var t=this.getAttribute("position");if(void 0===t){for(var n=[],r=0,i=e.length;r<i;r++){var a=e[r];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new db(n,3))}else{for(var o=Math.min(e.length,t.count),s=0;s<o;s++){var l=e[s];t.setXYZ(s,l.x,l.y,l.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ey);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new wy(-1/0,-1/0,-1/0),new wy(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];mb.setFromBufferAttribute(i),this.morphTargetsRelative?(yb.addVectors(this.boundingBox.min,mb.min),this.boundingBox.expandByPoint(yb),yb.addVectors(this.boundingBox.max,mb.max),this.boundingBox.expandByPoint(yb)):(this.boundingBox.expandByPoint(mb.min),this.boundingBox.expandByPoint(mb.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Vy);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new wy,1/0);if(e){var n=this.boundingSphere.center;if(mb.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];gb.setFromBufferAttribute(a),this.morphTargetsRelative?(yb.addVectors(mb.min,gb.min),mb.expandByPoint(yb),yb.addVectors(mb.max,gb.max),mb.expandByPoint(yb)):(mb.expandByPoint(gb.min),mb.expandByPoint(gb.max))}mb.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)yb.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(yb));if(t)for(var u=0,c=t.length;u<c;u++)for(var d=t[u],f=this.morphTargetsRelative,h=0,p=d.count;h<p;h++)yb.fromBufferAttribute(d,h),f&&(vb.fromBufferAttribute(e,h),yb.add(vb)),o=Math.max(o,n.distanceToSquared(yb));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new nb(new Float32Array(4*n.count),4));for(var a=this.getAttribute("tangent"),o=[],s=[],l=0;l<n.count;l++)o[l]=new wy,s[l]=new wy;var u=new wy,c=new wy,d=new wy,f=new Hg,h=new Hg,p=new Hg,v=new wy,m=new wy,g=this.groups;0===g.length&&(g=[{start:0,count:e.count}]);for(var y=0,x=g.length;y<x;++y)for(var b=g[y],_=b.start,w=_,S=_+b.count;w<S;w+=3)O(e.getX(w+0),e.getX(w+1),e.getX(w+2));for(var M=new wy,E=new wy,T=new wy,k=new wy,C=0,A=g.length;C<A;++C)for(var P=g[C],R=P.start,N=R,L=R+P.count;N<L;N+=3)I(e.getX(N+0)),I(e.getX(N+1)),I(e.getX(N+2))}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function O(e,t,r){u.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),d.fromBufferAttribute(n,r),f.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),p.fromBufferAttribute(i,r),c.sub(u),d.sub(u),h.sub(f),p.sub(f);var a=1/(h.x*p.y-p.x*h.y);isFinite(a)&&(v.copy(c).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(a),m.copy(d).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(a),o[e].add(v),o[t].add(v),o[r].add(v),s[e].add(m),s[t].add(m),s[r].add(m))}function I(e){T.fromBufferAttribute(r,e),k.copy(T);var t=o[e];M.copy(t),M.sub(T.multiplyScalar(T.dot(t))).normalize(),E.crossVectors(k,t);var n=E.dot(s[e])<0?-1:1;a.setXYZW(e,M.x,M.y,M.z,n)}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new nb(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new wy,o=new wy,s=new wy,l=new wy,u=new wy,c=new wy,d=new wy,f=new wy;if(e)for(var h=0,p=e.count;h<p;h+=3){var v=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(d),u.add(d),c.add(d),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,x=t.count;y<x;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)yb.fromBufferAttribute(e,t),yb.normalize(),e.setXYZ(t,yb.x,yb.y,yb.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new nb(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],d=0,f=c.length;d<f;d++){var h=e(c[d],r);u.push(h)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],d=[],f=0,h=c.length;f<h;f++){var p=c[f];d.push(p.toJSON(e.data))}d.length>0&&(s[u]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,h=0,p=f.length;h<p;h++){var v=f[h];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Pg),bb=new $y,_b=new Jy,wb=new Vy,Sb=new wy,Mb=new wy,Eb=new wy,Tb=new wy,kb=new wy,Cb=new wy,Ab=new wy,Pb=new wy,Rb=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yx;return _n(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){Cb.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(kb.fromBufferAttribute(c,e),a?Cb.addScaledVector(kb,u):Cb.addScaledVector(kb.sub(t),u))}t.add(Cb)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),wb.copy(n.boundingSphere),wb.applyMatrix4(i),_b.copy(e.ray).recast(e.near),!1===wb.containsPoint(_b.origin)){if(null===_b.intersectSphere(wb,Sb))return;if(_b.origin.distanceToSquared(Sb)>Math.pow(e.far-e.near,2))return}bb.copy(i).invert(),_b.copy(e.ray).applyMatrix4(bb),null!==n.boundingBox&&!1===_b.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,_b)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(var h=0,p=d.length;h<p;h++)for(var v=d[h],m=a[v.materialIndex],g=Math.max(v.start,f.start),y=Math.min(o.count,Math.min(v.start+v.count,f.start+f.count));g<y;g+=3){(r=Nb(this,m,e,n,l,u,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var x=Math.max(0,f.start),b=Math.min(o.count,f.start+f.count);x<b;x+=3){(r=Nb(this,a,e,n,l,u,c,o.getX(x),o.getX(x+1),o.getX(x+2)))&&(r.faceIndex=Math.floor(x/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var _=0,w=d.length;_<w;_++)for(var S=d[_],M=a[S.materialIndex],E=Math.max(S.start,f.start),T=Math.min(s.count,Math.min(S.start+S.count,f.start+f.count));E<T;E+=3){(r=Nb(this,M,e,n,l,u,c,E,E+1,E+2))&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=S.materialIndex,t.push(r))}else for(var k=Math.max(0,f.start),C=Math.min(s.count,f.start+f.count);k<C;k+=3){(r=Nb(this,a,e,n,l,u,c,k,k+1,k+2))&&(r.faceIndex=Math.floor(k/3),t.push(r))}}}]),n}(Ex);function Nb(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,Mb),e.getVertexPosition(l,Eb),e.getVertexPosition(u,Tb);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===ap?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===ip,s)))return null;Pb.copy(s),Pb.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Pb);return l<n.near||l>n.far?null:{distance:l,point:Pb.clone(),object:e}}(e,t,n,r,Mb,Eb,Tb,Ab);if(c){var d=new wy;zx.getBarycoord(Ab,Mb,Eb,Tb,d),i&&(c.uv=zx.getInterpolatedAttribute(i,s,l,u,d,new Hg)),a&&(c.uv1=zx.getInterpolatedAttribute(a,s,l,u,d,new Hg)),o&&(c.normal=zx.getInterpolatedAttribute(o,s,l,u,d,new wy),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var f={a:s,b:l,c:u,normal:new wy,materialIndex:0};zx.getNormal(Mb,Eb,Tb,f.normal),c.face=f,c.barycoord=d}return c}var Lb=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_n(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=Cn(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],d=[],f=[],h=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,l,m,g){for(var y=a/l,x=o/m,b=a/2,_=o/2,w=s/2,S=l+1,M=m+1,E=0,T=0,k=new wy,C=0;C<M;C++)for(var A=C*x-_,P=0;P<S;P++){var R=P*y-b;k[e]=R*r,k[t]=A*i,k[n]=w,d.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=s>0?1:-1,f.push(k.x,k.y,k.z),h.push(P/l),h.push(1-C/m),E+=1}for(var N=0;N<m;N++)for(var L=0;L<l;L++){var O=p+L+S*N,I=p+L+S*(N+1),D=p+(L+1)+S*(N+1),U=p+(L+1)+S*N;c.push(O,I,U),c.push(I,D,U),T+=6}u.addGroup(v,T,g),v+=T,p+=E}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new db(d,3)),e.setAttribute("normal",new db(f,3)),e.setAttribute("uv",new db(h,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(xb);function Ob(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Ib(e){for(var t={},n=0;n<e.length;n++){var r=Ob(e[n]);for(var i in r)t[i]=r[i]}return t}function Db(e){var t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:ay.workingColorSpace}var Ub,Fb={clone:Ob,merge:Ib},zb=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={clipCullDistance:!1,multiDraw:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ob(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(qx),jb=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new $y,e.projectionMatrix=new $y,e.projectionMatrixInverse=new $y,e.coordinateSystem=Cg,e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return Md(Tn(n.prototype),"getWorldDirection",this).call(this,e).negate()}},{key:"updateMatrixWorld",value:function(e){Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Md(Tn(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Ex),Bb=new wy,Hb=new Hg,Vb=new Hg,Wb=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return _n(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Og*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Lg*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Og*Math.atan(Math.tan(.5*Lg*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"getViewBounds",value:function(e,t,n){Bb.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bb.x,Bb.y).multiplyScalar(-e/Bb.z),Bb.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Bb.x,Bb.y).multiplyScalar(-e/Bb.z)}},{key:"getViewSize",value:function(e,t){return this.getViewBounds(e,Hb,Vb),t.subVectors(Vb,Hb)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Lg*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(jb),Gb=-90,Xb=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;_n(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null,a.activeMipmapLevel=0;var o=new Wb(Gb,1,e,r);o.layers=a.layers,a.add(o);var s=new Wb(Gb,1,e,r);s.layers=a.layers,a.add(s);var l=new Wb(Gb,1,e,r);l.layers=a.layers,a.add(l);var u=new Wb(Gb,1,e,r);u.layers=a.layers,a.add(u);var c=new Wb(Gb,1,e,r);c.layers=a.layers,a.add(c);var d=new Wb(Gb,1,e,r);return d.layers=a.layers,a.add(d),a}return Sn(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=yn(n,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=Un(n);try{for(c.s();!(e=c.n()).done;){var d=e.value;this.remove(d)}}catch(v){c.e(v)}finally{c.f()}if(t===Cg)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(t!==Ag)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}var f,h=Un(n);try{for(h.s();!(f=h.n()).done;){var p=f.value;this.add(p),p.updateMatrixWorld()}}catch(v){h.e(v)}finally{h.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=this.activeMipmapLevel;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var i=yn(this.children,6),a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;var v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,u),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(d,f,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}]),n}(Ex),qb=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s,l,u,c,d){var f;return _n(this,n),e=void 0!==e?e:[],r=void 0!==r?r:tv,(f=t.call(this,e,r,i,a,o,s,l,u,c,d)).isCubeTexture=!0,f.flipY=!1,f}return Sn(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(hy),Yb=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return e.texture=new qb(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:pv,e}return Sn(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Lb(5,5,5),o=new zb({name:"CubemapFromEquirect",uniforms:Ob(n),vertexShader:r,fragmentShader:i,side:ap,blending:sp});o.uniforms.tEquirect.value=t;var s=new Rb(a,o),l=t.minFilter;return t.minFilter===gv&&(t.minFilter=pv),new Xb(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(my),Zb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;_n(this,e),this.isFogExp2=!0,this.name="",this.color=new Wx(t),this.density=n}return Sn(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}]),e}(),Kb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;_n(this,e),this.isFog=!0,this.name="",this.color=new Wx(t),this.near=n,this.far=r}return Sn(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),Jb=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.backgroundRotation=new lx,e.environmentIntensity=1,e.environmentRotation=new lx,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Cn(e)})),e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}]),n}(Ex),$b=function(){function e(t,n){_n(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=gg,this.updateRanges=[],this.version=0,this.uuid=Ig()}return Sn(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ig()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ig()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),Qb=new wy,e_=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_n(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return Sn(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Qb.fromBufferAttribute(this,t),Qb.applyMatrix4(e),this.setXYZ(t,Qb.x,Qb.y,Qb.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Qb.fromBufferAttribute(this,t),Qb.applyNormalMatrix(e),this.setXYZ(t,Qb.x,Qb.y,Qb.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Qb.fromBufferAttribute(this,t),Qb.transformDirection(e),this.setXYZ(t,Qb.x,Qb.y,Qb.z);return this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=zg(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=jg(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}},{key:"setX",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=jg(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=zg(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=zg(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=zg(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=zg(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jg(t,this.array),n=jg(n,this.array),r=jg(r,this.array),i=jg(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new nb(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),t_=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new Wx(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(qx),n_=new wy,r_=new wy,i_=new wy,a_=new Hg,o_=new Hg,s_=new $y,l_=new wy,u_=new wy,c_=new wy,d_=new Hg,f_=new Hg,h_=new Hg,p_=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t_;if(_n(this,n),(e=t.call(this)).isSprite=!0,e.type="Sprite",void 0===Ub){Ub=new xb;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new $b(i,5);Ub.setIndex([0,1,2,0,2,3]),Ub.setAttribute("position",new e_(a,3,0,!1)),Ub.setAttribute("uv",new e_(a,2,3,!1))}return e.geometry=Ub,e.material=r,e.center=new Hg(.5,.5),e}return Sn(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),r_.setFromMatrixScale(this.matrixWorld),s_.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),i_.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&r_.multiplyScalar(-i_.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;v_(l_.set(-.5,-.5,0),i_,a,r_,n,r),v_(u_.set(.5,-.5,0),i_,a,r_,n,r),v_(c_.set(.5,.5,0),i_,a,r_,n,r),d_.set(0,0),f_.set(1,0),h_.set(1,1);var o=e.ray.intersectTriangle(l_,u_,c_,!1,n_);if(null!==o||(v_(u_.set(-.5,.5,0),i_,a,r_,n,r),f_.set(0,1),null!==(o=e.ray.intersectTriangle(l_,c_,u_,!1,n_)))){var s=e.ray.origin.distanceTo(n_);s<e.near||s>e.far||t.push({distance:s,point:n_.clone(),uv:zx.getInterpolation(n_,l_,u_,c_,d_,f_,h_,new Hg),face:null,object:this})}}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Ex);function v_(e,t,n,r,i,a){a_.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(o_.x=a*a_.x-i*a_.y,o_.y=i*a_.x+a*a_.y):o_.copy(a_),e.copy(t),e.x+=o_.x,e.y+=o_.y,e.applyMatrix4(s_)}var m_=new wy,g_=new wy,y_=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(Cn(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return Sn(n,[{key:"copy",value:function(e){Md(Tn(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"removeLevel",value:function(e){for(var t=this.levels,n=0;n<t.length;n++)if(t[n].distance===e){var r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){m_.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(m_);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){m_.setFromMatrixPosition(e.matrixWorld),g_.setFromMatrixPosition(this.matrixWorld);var n,r,i=m_.distanceTo(g_)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(Ex),x_=new wy,b_=new py,__=new py,w_=new wy,S_=new $y,M_=new wy,E_=new Vy,T_=new $y,k_=new Jy,C_=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode=$p,i.bindMatrix=new $y,i.bindMatrixInverse=new $y,i.boundingBox=null,i.boundingSphere=null,i}return Sn(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Ey),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)this.getVertexPosition(n,M_),this.boundingBox.expandByPoint(M_)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Vy),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)this.getVertexPosition(n,M_),this.boundingSphere.expandByPoint(M_)}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),E_.copy(this.boundingSphere),E_.applyMatrix4(r),!1!==e.ray.intersectsSphere(E_)&&(T_.copy(r).invert(),k_.copy(e.ray).applyMatrix4(T_),null!==this.boundingBox&&!1===k_.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,k_)))}},{key:"getVertexPosition",value:function(e,t){return Md(Tn(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new py,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e),this.bindMode===$p?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Qp?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;b_.fromBufferAttribute(r.attributes.skinIndex,e),__.fromBufferAttribute(r.attributes.skinWeight,e),x_.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=__.getComponent(i);if(0!==a){var o=b_.getComponent(i);S_.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(w_.copy(x_).applyMatrix4(S_),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Rb),A_=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return Sn(n)}(Ex),P_=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:uv,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:uv,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return _n(this,n),(e=t.call(this,null,l,u,c,d,f,o,s,h,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Sn(n)}(hy),R_=new $y,N_=new $y,L_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_n(this,e),this.uuid=Ig(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}return Sn(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new $y)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new $y;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:N_;R_.multiplyMatrices(o,t[i]),R_.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new P_(t,e,e,Lv,Ev);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new A_),this.bones.push(a),this.boneInverses.push((new $y).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),O_=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _n(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(nb),I_=new $y,D_=new $y,U_=[],F_=new Ey,z_=new $y,j_=new Rb,B_=new Vy,H_=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;_n(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new O_(new Float32Array(16*i),16),a.instanceColor=null,a.morphTexture=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,z_);return a}return Sn(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Ey),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,I_),F_.copy(e.boundingBox).applyMatrix4(I_),this.boundingBox.union(F_)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Vy),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,I_),B_.copy(e.boundingSphere).applyMatrix4(I_),this.boundingSphere.union(B_)}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"getMorphAt",value:function(e,t){for(var n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1,a=0;a<n.length;a++)n[a]=r[i+a]}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(j_.geometry=this.geometry,j_.material=this.material,void 0!==j_.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),B_.copy(this.boundingSphere),B_.applyMatrix4(n),!1!==e.ray.intersectsSphere(B_)))for(var i=0;i<r;i++){this.getMatrixAt(i,I_),D_.multiplyMatrices(n,I_),j_.matrixWorld=D_,j_.raycast(e,U_);for(var a=0,o=U_.length;a<o;a++){var s=U_[a];s.instanceId=i,s.object=this,t.push(s)}U_.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new O_(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"setMorphAt",value:function(e,t){var n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new P_(new Float32Array(r*this.count),r,this.count,Fv,Ev));for(var i=this.morphTexture.source.data.data,a=0,o=0;o<n.length;o++)a+=n[o];var s=this.geometry.morphTargetsRelative?1:1-a,l=r*e;i[l]=s,i.set(n,l+1)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}]),n}(Rb),V_=new wy,W_=new wy,G_=new Vg,X_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_n(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return Sn(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=V_.subVectors(n,t).cross(W_.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(V_),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||G_.getNormalMatrix(e),r=this.coplanarPoint(V_).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),q_=new Vy,Y_=new wy,Z_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new X_,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new X_,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new X_,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new X_,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new X_,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new X_;_n(this,e),this.planes=[t,n,r,i,a,o]}return Sn(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cg,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=r[8],h=r[9],p=r[10],v=r[11],m=r[12],g=r[13],y=r[14],x=r[15];if(n[0].setComponents(s-i,d-l,v-f,x-m).normalize(),n[1].setComponents(s+i,d+l,v+f,x+m).normalize(),n[2].setComponents(s+a,d+u,v+h,x+g).normalize(),n[3].setComponents(s-a,d-u,v-h,x-g).normalize(),n[4].setComponents(s-o,d-c,v-p,x-y).normalize(),t===Cg)n[5].setComponents(s+o,d+c,v+p,x+y).normalize();else{if(t!==Ag)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),q_.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),q_.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(q_)}},{key:"intersectsSprite",value:function(e){return q_.center.set(0,0,0),q_.radius=.7071067811865476,q_.applyMatrix4(e.matrixWorld),this.intersectsSphere(q_)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Y_.x=r.normal.x>0?e.max.x:e.min.x,Y_.y=r.normal.y>0?e.max.y:e.min.y,Y_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Y_)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function K_(e,t){return e-t}function J_(e,t){return e.z-t.z}function $_(e,t){return t.z-e.z}var Q_=function(){function e(){_n(this,e),this.index=0,this.pool=[],this.list=[]}return Sn(e,[{key:"push",value:function(e,t,n,r){var i=this.pool,a=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});var o=i[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=r}},{key:"reset",value:function(){this.list.length=0,this.index=0}}]),e}(),ew=new $y,tw=new Wx(1,1,1),nw=new Z_,rw=new Ey,iw=new Vy,aw=new wy,ow=new wy,sw=new wy,lw=new Q_,uw=new Rb,cw=[];function dw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor)for(var i=e.count,a=0;a<i;a++)for(var o=0;o<r;o++)t.setComponent(a+n,o,e.getComponent(a,o));else t.array.set(e.array,n*r);t.needsUpdate=!0}function fw(e,t){if(e.constructor!==t.constructor)for(var n=Math.min(e.length,t.length),r=0;r<n;r++)t[r]=e[r];else{var i=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,i))}}var hw=function(e){En(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*r,o=arguments.length>3?arguments[3]:void 0;return _n(this,n),(i=t.call(this,new xb,o)).isBatchedMesh=!0,i.perObjectFrustumCulled=!0,i.sortObjects=!0,i.boundingBox=null,i.boundingSphere=null,i.customSort=null,i._instanceInfo=[],i._geometryInfo=[],i._availableInstanceIds=[],i._availableGeometryIds=[],i._nextIndexStart=0,i._nextVertexStart=0,i._geometryCount=0,i._visibilityChanged=!0,i._geometryInitialized=!1,i._maxInstanceCount=e,i._maxVertexCount=r,i._maxIndexCount=a,i._multiDrawCounts=new Int32Array(e),i._multiDrawStarts=new Int32Array(e),i._multiDrawCount=0,i._multiDrawInstances=null,i._matricesTexture=null,i._indirectTexture=null,i._colorsTexture=null,i._initMatricesTexture(),i._initIndirectTexture(),i}return Sn(n,[{key:"maxInstanceCount",get:function(){return this._maxInstanceCount}},{key:"instanceCount",get:function(){return this._instanceInfo.length-this._availableInstanceIds.length}},{key:"unusedVertexCount",get:function(){return this._maxVertexCount-this._nextVertexStart}},{key:"unusedIndexCount",get:function(){return this._maxIndexCount-this._nextIndexStart}},{key:"_initMatricesTexture",value:function(){var e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);var t=new Float32Array(e*e*4),n=new P_(t,e,e,Lv,Ev);this._matricesTexture=n}},{key:"_initIndirectTexture",value:function(){var e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);var t=new Uint32Array(e*e),n=new P_(t,e,e,zv,Mv);this._indirectTexture=n}},{key:"_initColorsTexture",value:function(){var e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);var t=new Float32Array(e*e*4).fill(1),n=new P_(t,e,e,Lv,Ev);n.colorSpace=ay.workingColorSpace,this._colorsTexture=n}},{key:"_initializeGeometry",value:function(e){var t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(var i in e.attributes){var a=e.getAttribute(i),o=a.array,s=a.itemSize,l=a.normalized,u=new o.constructor(n*s),c=new nb(u,s,l);t.setAttribute(i,c)}if(null!==e.getIndex()){var d=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new nb(d,1))}this._geometryInitialized=!0}}},{key:"_validateGeometry",value:function(e){var t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(var n in t.attributes){if(!e.hasAttribute(n))throw new Error('THREE.BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));var r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}},{key:"validateInstanceId",value:function(e){var t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error("THREE.BatchedMesh: Invalid instanceId ".concat(e,". Instance is either out of range or has been deleted."))}},{key:"validateGeometryId",value:function(e){var t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error("THREE.BatchedMesh: Invalid geometryId ".concat(e,". Geometry is either out of range or has been deleted."))}},{key:"setCustomSort",value:function(e){return this.customSort=e,this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ey);var e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(var n=0,r=t.length;n<r;n++)if(!1!==t[n].active){var i=t[n].geometryIndex;this.getMatrixAt(n,ew),this.getBoundingBoxAt(i,rw).applyMatrix4(ew),e.union(rw)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Vy);var e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(var n=0,r=t.length;n<r;n++)if(!1!==t[n].active){var i=t[n].geometryIndex;this.getMatrixAt(n,ew),this.getBoundingSphereAt(i,iw).applyMatrix4(ew),e.union(iw)}}},{key:"addInstance",value:function(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");var t={visible:!0,active:!0,geometryIndex:e},n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(K_),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));var r=this._matricesTexture;ew.identity().toArray(r.image.data,16*n),r.needsUpdate=!0;var i=this._colorsTexture;return i&&(tw.toArray(i.image.data,4*n),i.needsUpdate=!0),this._visibilityChanged=!0,n}},{key:"addGeometry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this._initializeGeometry(e),this._validateGeometry(e);var r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;var a,o=e.getIndex(),s=null!==o;if(s&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?o.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(K_),i[a=this._availableGeometryIds.shift()]=r):(a=this._geometryCount,this._geometryCount++,i.push(r)),this.setGeometryAt(a,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,a}},{key:"setGeometryAt",value:function(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);var n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");var s=o.vertexStart,l=o.reservedVertexCount;for(var u in o.vertexCount=t.getAttribute("position").count,n.attributes){var c=t.getAttribute(u),d=n.getAttribute(u);dw(c,d,s);for(var f=c.itemSize,h=c.count,p=l;h<p;h++)for(var v=s+h,m=0;m<f;m++)d.setComponent(v,m,0);d.needsUpdate=!0,d.addUpdateRange(s*f,l*f)}if(r){var g=o.indexStart,y=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(var x=0;x<a.count;x++)i.setX(g+x,s+a.getX(x));for(var b=a.count,_=y;b<_;b++)i.setX(g+b,s);i.needsUpdate=!0,i.addUpdateRange(g,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,null!==t.boundingBox&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,null!==t.boundingSphere&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}},{key:"deleteGeometry",value:function(e){var t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;for(var n=this._instanceInfo,r=0,i=n.length;r<i;r++)n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}},{key:"deleteInstance",value:function(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}},{key:"optimize",value:function(){for(var e=0,t=0,n=this._geometryInfo,r=n.map((function(e,t){return t})).sort((function(e,t){return n[e].vertexStart-n[t].vertexStart})),i=this.geometry,a=0,o=n.length;a<o;a++){var s=r[a],l=n[s];if(!1!==l.active){if(null!==i.index){if(l.indexStart!==t){for(var u=l.indexStart,c=l.vertexStart,d=l.reservedIndexCount,f=i.index,h=f.array,p=e-c,v=u;v<u+d;v++)h[v]=h[v]+p;f.array.copyWithin(t,u,u+d),f.addUpdateRange(t,d),l.indexStart=t}t+=l.reservedIndexCount}if(l.vertexStart!==e){var m=l.vertexStart,g=l.reservedVertexCount,y=i.attributes;for(var x in y){var b=y[x],_=b.array,w=b.itemSize;_.copyWithin(e*w,m*w,(m+g)*w),b.addUpdateRange(e*w,g*w)}l.vertexStart=e}e+=l.reservedVertexCount,l.start=i.index?l.indexStart:l.vertexStart,this._nextIndexStart=i.index?l.indexStart+l.reservedIndexCount:0,this._nextVertexStart=l.vertexStart+l.reservedVertexCount}}return this}},{key:"getBoundingBoxAt",value:function(e,t){if(e>=this._geometryCount)return null;var n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingBox){for(var i=new Ey,a=n.index,o=n.attributes.position,s=r.start,l=r.start+r.count;s<l;s++){var u=s;a&&(u=a.getX(u)),i.expandByPoint(aw.fromBufferAttribute(o,u))}r.boundingBox=i}return t.copy(r.boundingBox),t}},{key:"getBoundingSphereAt",value:function(e,t){if(e>=this._geometryCount)return null;var n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingSphere){var i=new Vy;this.getBoundingBoxAt(e,rw),rw.getCenter(i.center);for(var a=n.index,o=n.attributes.position,s=0,l=r.start,u=r.start+r.count;l<u;l++){var c=l;a&&(c=a.getX(c)),aw.fromBufferAttribute(o,c),s=Math.max(s,i.center.distanceToSquared(aw))}i.radius=Math.sqrt(s),r.boundingSphere=i}return t.copy(r.boundingSphere),t}},{key:"setMatrixAt",value:function(e,t){this.validateInstanceId(e);var n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,16*e),n.needsUpdate=!0,this}},{key:"getMatrixAt",value:function(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}},{key:"setColorAt",value:function(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}},{key:"getColorAt",value:function(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}},{key:"setVisibleAt",value:function(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}},{key:"getVisibleAt",value:function(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}},{key:"setGeometryIdAt",value:function(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}},{key:"getGeometryIdAt",value:function(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}},{key:"getGeometryRangeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.validateGeometryId(e);var n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}},{key:"setInstanceCount",value:function(e){var t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(K_);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error("BatchedMesh: Instance ids outside the range ".concat(e," are being used. Cannot shrink instance count."));var r=new Int32Array(e),i=new Int32Array(e);fw(this._multiDrawCounts,r),fw(this._multiDrawStarts,i),this._multiDrawCounts=r,this._multiDrawStarts=i,this._maxInstanceCount=e;var a=this._indirectTexture,o=this._matricesTexture,s=this._colorsTexture;a.dispose(),this._initIndirectTexture(),fw(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),fw(o.image.data,this._matricesTexture.image.data),s&&(s.dispose(),this._initColorsTexture(),fw(s.image.data,this._colorsTexture.image.data))}},{key:"setGeometrySize",value:function(e,t){var n=bn(this._geometryInfo).filter((function(e){return e.active}));if(Math.max.apply(Math,bn(n.map((function(e){return e.vertexStart+e.reservedVertexCount}))))>e)throw new Error("BatchedMesh: Geometry vertex values are being used outside the range ".concat(t,". Cannot shrink further."));if(this.geometry.index&&Math.max.apply(Math,bn(n.map((function(e){return e.indexStart+e.reservedIndexCount}))))>t)throw new Error("BatchedMesh: Geometry index values are being used outside the range ".concat(t,". Cannot shrink further."));var r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new xb,this._initializeGeometry(r));var i=this.geometry;for(var a in r.index&&fw(r.index.array,i.index.array),r.attributes)fw(r.attributes[a].array,i.attributes[a].array)}},{key:"raycast",value:function(e,t){var n=this._instanceInfo,r=this._geometryInfo,i=this.matrixWorld,a=this.geometry;uw.material=this.material,uw.geometry.index=a.index,uw.geometry.attributes=a.attributes,null===uw.geometry.boundingBox&&(uw.geometry.boundingBox=new Ey),null===uw.geometry.boundingSphere&&(uw.geometry.boundingSphere=new Vy);for(var o=0,s=n.length;o<s;o++)if(n[o].visible&&n[o].active){var l=n[o].geometryIndex,u=r[l];uw.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,uw.matrixWorld).premultiply(i),this.getBoundingBoxAt(l,uw.geometry.boundingBox),this.getBoundingSphereAt(l,uw.geometry.boundingSphere),uw.raycast(e,cw);for(var c=0,d=cw.length;c<d;c++){var f=cw[c];f.object=this,f.batchId=o,t.push(f)}cw.length=0}uw.material=null,uw.geometry.index=null,uw.geometry.attributes={},uw.geometry.setDrawRange(0,1/0)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map((function(e){return je(je({},e),{},{boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})})),this._instanceInfo=e._instanceInfo.map((function(e){return je({},e)})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}},{key:"dispose",value:function(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}},{key:"onBeforeRender",value:function(e,t,n,r,i){if(this._visibilityChanged||this.perObjectFrustumCulled||this.sortObjects){var a=r.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._instanceInfo,l=this._multiDrawStarts,u=this._multiDrawCounts,c=this._geometryInfo,d=this.perObjectFrustumCulled,f=this._indirectTexture,h=f.image.data;d&&(ew.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),nw.setFromProjectionMatrix(ew,e.coordinateSystem));var p=0;if(this.sortObjects){ew.copy(this.matrixWorld).invert(),aw.setFromMatrixPosition(n.matrixWorld).applyMatrix4(ew),ow.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(ew);for(var v=0,m=s.length;v<m;v++)if(s[v].visible&&s[v].active){var g=s[v].geometryIndex;this.getMatrixAt(v,ew),this.getBoundingSphereAt(g,iw).applyMatrix4(ew);var y=!1;if(d&&(y=!nw.intersectsSphere(iw)),!y){var x=c[g],b=sw.subVectors(iw.center,aw).dot(ow);lw.push(x.start,x.count,b,v)}}var _=lw.list,w=this.customSort;null===w?_.sort(i.transparent?$_:J_):w.call(this,_,n);for(var S=0,M=_.length;S<M;S++){var E=_[S];l[p]=E.start*o,u[p]=E.count,h[p]=E.index,p++}lw.reset()}else for(var T=0,k=s.length;T<k;T++)if(s[T].visible&&s[T].active){var C=s[T].geometryIndex,A=!1;if(d&&(this.getMatrixAt(T,ew),this.getBoundingSphereAt(C,iw).applyMatrix4(ew),A=!nw.intersectsSphere(iw)),!A){var P=c[C];l[p]=P.start*o,u[p]=P.count,h[p]=T,p++}}f.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}}},{key:"onBeforeShadow",value:function(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}]),n}(Rb),pw=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new Wx(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(qx),vw=new wy,mw=new wy,gw=new $y,yw=new Jy,xw=new Vy,bw=new wy,_w=new wy,ww=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pw;return _n(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)vw.fromBufferAttribute(t,r-1),mw.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=vw.distanceTo(mw);e.setAttribute("lineDistance",new db(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),xw.copy(n.boundingSphere),xw.applyMatrix4(r),xw.radius+=i,!1!==e.ray.intersectsSphere(xw)){gw.copy(r).invert(),yw.copy(e.ray).applyMatrix4(gw);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,u=n.index,c=n.attributes.position;if(null!==u){for(var d=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count),h=d,p=f-1;h<p;h+=l){var v=u.getX(h),m=u.getX(h+1),g=Sw(this,e,yw,s,v,m);g&&t.push(g)}if(this.isLineLoop){var y=u.getX(f-1),x=u.getX(d),b=Sw(this,e,yw,s,y,x);b&&t.push(b)}}else{for(var _=Math.max(0,a.start),w=Math.min(c.count,a.start+a.count),S=_,M=w-1;S<M;S+=l){var E=Sw(this,e,yw,s,S,S+1);E&&t.push(E)}if(this.isLineLoop){var T=Sw(this,e,yw,s,w-1,_);T&&t.push(T)}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Ex);function Sw(e,t,n,r,i,a){var o=e.geometry.attributes.position;if(vw.fromBufferAttribute(o,i),mw.fromBufferAttribute(o,a),!(n.distanceSqToSegment(vw,mw,bw,_w)>r)){bw.applyMatrix4(e.matrixWorld);var s=t.ray.origin.distanceTo(bw);if(!(s<t.near||s>t.far))return{distance:s,point:_w.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:e}}}var Mw=new wy,Ew=new wy,Tw=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return Sn(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Mw.fromBufferAttribute(t,r),Ew.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Mw.distanceTo(Ew);e.setAttribute("lineDistance",new db(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(ww),kw=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return Sn(n)}(ww),Cw=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new Wx(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(qx),Aw=new $y,Pw=new Jy,Rw=new Vy,Nw=new wy,Lw=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cw;return _n(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rw.copy(n.boundingSphere),Rw.applyMatrix4(r),Rw.radius+=i,!1!==e.ray.intersectsSphere(Rw)){Aw.copy(r).invert(),Pw.copy(e.ray).applyMatrix4(Aw);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),d=Math.min(l.count,a.start+a.count);c<d;c++){var f=l.getX(c);Nw.fromBufferAttribute(u,f),Ow(Nw,f,s,r,e,t,this)}else for(var h=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);h<p;h++)Nw.fromBufferAttribute(u,h),Ow(Nw,h,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Ex);function Ow(e,t,n,r,i,a,o){var s=Pw.distanceSqToPoint(e);if(s<n){var l=new wy;Pw.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}var Iw=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return Sn(n)}(Ex),Dw=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s,l,u,c){var d;_n(this,n),(d=t.call(this,e,r,i,a,o,s,l,u,c)).isVideoTexture=!0,d.minFilter=void 0!==s?s:pv,d.magFilter=void 0!==o?o:pv,d.generateMipmaps=!1;var f=Cn(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return Sn(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(hy),Uw=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,i.magFilter=uv,i.minFilter=uv,i.generateMipmaps=!1,i.needsUpdate=!0,i}return Sn(n)}(hy),Fw=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s,l,u,c,d,f,h){var p;return _n(this,n),(p=t.call(this,null,s,l,u,c,d,a,o,f,h)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return Sn(n)}(hy),zw=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s){var l;return _n(this,n),(l=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,l.image.depth=a,l.wrapR=sv,l.layerUpdates=new Set,l}return Sn(n,[{key:"addLayerUpdate",value:function(e){this.layerUpdates.add(e)}},{key:"clearLayerUpdates",value:function(){this.layerUpdates.clear()}}]),n}(Fw),jw=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,void 0,e[0].width,e[0].height,r,i,tv)).isCompressedCubeTexture=!0,a.isCubeTexture=!0,a.image=e,a}return Sn(n)}(Fw),Bw=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s,l,u,c){var d;return _n(this,n),(d=t.call(this,e,r,i,a,o,s,l,u,c)).isCanvasTexture=!0,d.needsUpdate=!0,d}return Sn(n)}(hy),Hw=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s,l,u,c){var d,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Dv;if(_n(this,n),f!==Dv&&f!==Uv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===Dv&&(i=Mv),void 0===i&&f===Uv&&(i=Av),(d=t.call(this,null,a,o,s,l,u,f,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==l?l:uv,d.minFilter=void 0!==u?u:uv,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(hy),Vw=function(){function e(){_n(this,e),this.type="Curve",this.arcLengthDivisions=200}return Sn(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Hg:new wy);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new wy,r=[],i=[],a=[],o=new wy,s=new $y,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new wy)}i[0]=new wy,a[0]=new wy;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),h<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Dg(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(Dg(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Ww=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return _n(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return Sn(n,[{key:"getPoint",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=t,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,f=l-this.aY;s=d*u-f*c+this.aX,l=d*c+f*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Vw),Gw=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a,o,s){var l;return _n(this,n),(l=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return Sn(n)}(Ww);function Xw(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var qw=new wy,Yw=new Xw,Zw=new Xw,Kw=new Xw,Jw=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return _n(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return Sn(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?t=a[(l-1)%o]:(qw.subVectors(a[0],a[1]).add(a[0]),t=qw);var c=a[l%o],d=a[(l+1)%o];if(this.closed||l+2<o?n=a[(l+2)%o]:(qw.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=qw),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(c),f),p=Math.pow(c.distanceToSquared(d),f),v=Math.pow(d.distanceToSquared(n),f);p<1e-4&&(p=1),h<1e-4&&(h=p),v<1e-4&&(v=p),Yw.initNonuniformCatmullRom(t.x,c.x,d.x,n.x,h,p,v),Zw.initNonuniformCatmullRom(t.y,c.y,d.y,n.y,h,p,v),Kw.initNonuniformCatmullRom(t.z,c.z,d.z,n.z,h,p,v)}else"catmullrom"===this.curveType&&(Yw.initCatmullRom(t.x,c.x,d.x,n.x,this.tension),Zw.initCatmullRom(t.y,c.y,d.y,n.y,this.tension),Kw.initCatmullRom(t.z,c.z,d.z,n.z,this.tension));return i.set(Yw.calc(u),Zw.calc(u),Kw.calc(u)),i}},{key:"copy",value:function(e){Md(Tn(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new wy).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Vw);function $w(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Qw(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function eS(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var tS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Hg,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Hg;return _n(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(eS(e,r.x,i.x,a.x,o.x),eS(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Vw),nS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wy,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new wy;return _n(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(eS(e,r.x,i.x,a.x,o.x),eS(e,r.y,i.y,a.y,o.y),eS(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Vw),rS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg;return _n(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg;return t.subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Vw),iS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy;return _n(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy;return t.subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Vw),aS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Hg;return _n(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Qw(e,r.x,i.x,a.x),Qw(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Vw),oS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wy;return _n(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Qw(e,r.x,i.x,a.x),Qw(e,r.y,i.y,a.y),Qw(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Vw),sS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _n(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return Sn(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set($w(o,s.x,l.x,u.x,c.x),$w(o,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(e){Md(Tn(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Hg).fromArray(i))}return this}}]),n}(Vw),lS=Object.freeze({__proto__:null,ArcCurve:Gw,CatmullRomCurve3:Jw,CubicBezierCurve:tS,CubicBezierCurve3:nS,EllipseCurve:Ww,LineCurve:rS,LineCurve3:iS,QuadraticBezierCurve:aS,QuadraticBezierCurve3:oS,SplineCurve:sS}),uS=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return Sn(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){var n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new lS[n](t,e))}return this}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Md(Tn(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new lS[i.type]).fromJSON(i))}return this}}]),n}(Vw),cS=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).type="Path",r.currentPoint=new Hg,e&&r.setFromPoints(e),r}return Sn(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new rS(this.currentPoint.clone(),new Hg(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new aS(this.currentPoint.clone(),new Hg(e,t),new Hg(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new tS(this.currentPoint.clone(),new Hg(e,t),new Hg(n,r),new Hg(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new sS(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var l=new Ww(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(uS),dS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Hg(0,-.5),new Hg(.5,0),new Hg(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;_n(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=Dg(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],d=[],f=1/i,h=new wy,p=new Hg,v=new wy,m=new wy,g=new wy,y=0,x=0,b=0;b<=r.length-1;b++)switch(b){case 0:y=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,v.x=1*x,v.y=-y,v.z=0*x,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,v.x=1*x,v.y=-y,v.z=0*x,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var _=0;_<=i;_++)for(var w=a+_*f*o,S=Math.sin(w),M=Math.cos(w),E=0;E<=r.length-1;E++){h.x=r[E].x*S,h.y=r[E].y,h.z=r[E].x*M,l.push(h.x,h.y,h.z),p.x=_/i,p.y=E/(r.length-1),u.push(p.x,p.y);var T=c[3*E+0]*S,k=c[3*E+1],C=c[3*E+0]*M;d.push(T,k,C)}for(var A=0;A<i;A++)for(var P=0;P<r.length-1;P++){var R=P+A*r.length,N=R,L=R+r.length,O=R+r.length+1,I=R+1;s.push(N,L,I),s.push(O,I,L)}return e.setIndex(s),e.setAttribute("position",new db(l,3)),e.setAttribute("uv",new db(u,2)),e.setAttribute("normal",new db(d,3)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(xb),fS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;_n(this,n);var s=new cS;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,length:i,capSegments:a,radialSegments:o},e}return Sn(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(dS),hS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;_n(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],u=[],c=[],d=new wy,f=new Hg;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var h=0,p=3;h<=i;h++,p+=3){var v=a+h/i*o;d.x=r*Math.cos(v),d.y=r*Math.sin(v),l.push(d.x,d.y,d.z),u.push(0,0,1),f.x=(l[p]/r+1)/2,f.y=(l[p+1]/r+1)/2,c.push(f.x,f.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new db(l,3)),e.setAttribute("normal",new db(u,3)),e.setAttribute("uv",new db(c,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(xb),pS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;_n(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var d=Cn(e);o=Math.floor(o),s=Math.floor(s);var f=[],h=[],p=[],v=[],m=0,g=[],y=a/2,x=0;function b(){for(var e=new wy,t=new wy,n=0,l=(i-r)/a,b=0;b<=s;b++){for(var _=[],w=b/s,S=w*(i-r)+r,M=0;M<=o;M++){var E=M/o,T=E*c+u,k=Math.sin(T),C=Math.cos(T);t.x=S*k,t.y=-w*a+y,t.z=S*C,h.push(t.x,t.y,t.z),e.set(k,l,C).normalize(),p.push(e.x,e.y,e.z),v.push(E,1-w),_.push(m++)}g.push(_)}for(var A=0;A<o;A++)for(var P=0;P<s;P++){var R=g[P][A],N=g[P+1][A],L=g[P+1][A+1],O=g[P][A+1];(r>0||0!==P)&&(f.push(R,N,O),n+=3),(i>0||P!==s-1)&&(f.push(N,L,O),n+=3)}d.addGroup(x,n,0),x+=n}function _(e){for(var t=m,n=new Hg,a=new wy,s=0,l=!0===e?r:i,g=!0===e?1:-1,b=1;b<=o;b++)h.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var _=m,w=0;w<=o;w++){var S=w/o*c+u,M=Math.cos(S),E=Math.sin(S);a.x=l*E,a.y=y*g,a.z=l*M,h.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*M+.5,n.y=.5*E*g+.5,v.push(n.x,n.y),m++}for(var T=0;T<o;T++){var k=t+T,C=_+T;!0===e?f.push(C,C+1,k):f.push(C+1,C,k),s+=3}d.addGroup(x,s,!0===e?1:2),x+=s}return b(),!1===l&&(r>0&&_(!0),i>0&&_(!1)),e.setIndex(f),e.setAttribute("position",new db(h,3)),e.setAttribute("normal",new db(p,3)),e.setAttribute("uv",new db(v,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(xb),vS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return _n(this,n),(e=t.call(this,0,r,i,a,o,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return Sn(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(pS),mS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_n(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],l=[];function u(e){for(var t=new wy,n=new wy,r=new wy,a=0;a<i.length;a+=3)v(i[a+0],t),v(i[a+1],n),v(i[a+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),u=i-o,c=0;c<=u;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(l,c/u)}for(var d=0;d<i;d++)for(var f=0;f<2*(i-d)-1;f++){var h=Math.floor(f/2);f%2===0?(p(a[d][h+1]),p(a[d+1][h]),p(a[d][h])):(p(a[d][h+1]),p(a[d+1][h+1]),p(a[d+1][h]))}}function d(e){for(var t=new wy,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function f(){for(var e=new wy,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=y(e)/2/Math.PI+.5,r=x(e)/Math.PI+.5;l.push(n,1-r)}m(),h()}function h(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}function p(e){s.push(e.x,e.y,e.z)}function v(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function m(){for(var e=new wy,t=new wy,n=new wy,r=new wy,i=new Hg,a=new Hg,o=new Hg,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=y(r);g(i,c+0,e,d),g(a,c+2,t,d),g(o,c+4,n,d)}}function g(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function y(e){return Math.atan2(e.z,-e.x)}function x(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return u(o),d(a),f(),e.setAttribute("position",new db(s,3)),e.setAttribute("normal",new db(s.slice(),3)),e.setAttribute("uv",new db(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(xb),gS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_n(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,l,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return Sn(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(mS),yS=new wy,xS=new wy,bS=new wy,_S=new zx,wS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_n(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=4,o=Math.pow(10,a),s=Math.cos(Lg*i),l=r.getIndex(),u=r.getAttribute("position"),c=l?l.count:u.count,d=[0,0,0],f=["a","b","c"],h=new Array(3),p={},v=[],m=0;m<c;m+=3){l?(d[0]=l.getX(m),d[1]=l.getX(m+1),d[2]=l.getX(m+2)):(d[0]=m,d[1]=m+1,d[2]=m+2);var g=_S.a,y=_S.b,x=_S.c;if(g.fromBufferAttribute(u,d[0]),y.fromBufferAttribute(u,d[1]),x.fromBufferAttribute(u,d[2]),_S.getNormal(bS),h[0]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),h[1]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),h[2]="".concat(Math.round(x.x*o),",").concat(Math.round(x.y*o),",").concat(Math.round(x.z*o)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var b=0;b<3;b++){var _=(b+1)%3,w=h[b],S=h[_],M=_S[f[b]],E=_S[f[_]],T="".concat(w,"_").concat(S),k="".concat(S,"_").concat(w);k in p&&p[k]?(bS.dot(p[k].normal)<=s&&(v.push(M.x,M.y,M.z),v.push(E.x,E.y,E.z)),p[k]=null):T in p||(p[T]={index0:d[b],index1:d[_],normal:bS.clone()})}}for(var C in p)if(p[C]){var A=p[C],P=A.index0,R=A.index1;yS.fromBufferAttribute(u,P),xS.fromBufferAttribute(u,R),v.push(yS.x,yS.y,yS.z),v.push(xS.x,xS.y,xS.z)}e.setAttribute("position",new db(v,3))}return e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(xb),SS=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).uuid=Ig(),r.type="Shape",r.holes=[],r}return Sn(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Md(Tn(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Md(Tn(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new cS).fromJSON(i))}return this}}]),n}(cS),MS=function(e,t){var n,r,i,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,d=c?t[0]*u:e.length,f=ES(e,0,d,u,!0),h=[];if(!f||f.next===f.prev)return h;if(c&&(f=NS(e,t,f,u)),e.length>80*u){n=i=e[0],r=a=e[1];for(var p=u;p<d;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);l=0!==(l=Math.max(i-n,a-r))?32767/l:0}return kS(f,h,u,n,r,l,0),h};function ES(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=qS(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=qS(a,e[a],e[a+1],o);return o&&BS(o,o.next)&&(YS(o),o=o.next),o}function TS(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!BS(r,r.next)&&0!==jS(r.prev,r,r.next))r=r.next;else{if(YS(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function kS(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=DS(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?AS(e,r,i,a):CS(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),YS(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?kS(e=PS(TS(e),t,n),t,n,r,i,a,2):2===o&&RS(e,t,n,r,i,a):kS(TS(e),t,n,r,i,a,1);break}}}function CS(e){var t=e.prev,n=e,r=e.next;if(jS(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,d=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,h=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=d&&p.y<=h&&FS(i,s,a,l,o,u,p.x,p.y)&&jS(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function AS(e,t,n,r){var i=e.prev,a=e,o=e.next;if(jS(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,d=a.y,f=o.y,h=s<l?s<u?s:u:l<u?l:u,p=c<d?c<f?c:f:d<f?d:f,v=s>l?s>u?s:u:l>u?l:u,m=c>d?c>f?c:f:d>f?d:f,g=DS(h,p,t,n,r),y=DS(v,m,t,n,r),x=e.prevZ,b=e.nextZ;x&&x.z>=g&&b&&b.z<=y;){if(x.x>=h&&x.x<=v&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&FS(s,c,l,d,u,f,x.x,x.y)&&jS(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&FS(s,c,l,d,u,f,b.x,b.y)&&jS(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=h&&x.x<=v&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&FS(s,c,l,d,u,f,x.x,x.y)&&jS(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=y;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&FS(s,c,l,d,u,f,b.x,b.y)&&jS(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function PS(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!BS(i,a)&&HS(i,r,r.next,a)&&GS(i,a)&&GS(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),YS(r),YS(r.next),r=e=a),r=r.next}while(r!==e);return TS(r)}function RS(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&zS(o,s)){var l=XS(o,s);return o=TS(o,o.next),l=TS(l,l.next),kS(o,t,n,r,i,a,0),void kS(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function NS(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=ES(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(US(o));for(s.sort(LS),i=0;i<s.length;i++)n=OS(s[i],n);return n}function LS(e,t){return e.x-t.x}function OS(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,d=n.y,f=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&FS(o<d?a:i,o,c,d,o<d?i:a,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(a-r.x),GS(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&IS(n,r)))&&(n=r,f=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=XS(n,e);return TS(r,r.next),TS(n,n.next)}function IS(e,t){return jS(e.prev,e,t.prev)<0&&jS(t.next,e,e.next)<0}function DS(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function US(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function FS(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function zS(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&HS(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(GS(e,t)&&GS(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(jS(e.prev,e,t.prev)||jS(e,t.prev,t))||BS(e,t)&&jS(e.prev,e,e.next)>0&&jS(t.prev,t,t.next)>0)}function jS(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function BS(e,t){return e.x===t.x&&e.y===t.y}function HS(e,t,n,r){var i=WS(jS(e,t,n)),a=WS(jS(e,t,r)),o=WS(jS(n,r,e)),s=WS(jS(n,r,t));return i!==a&&o!==s||(!(0!==i||!VS(e,n,t))||(!(0!==a||!VS(e,r,t))||(!(0!==o||!VS(n,e,r))||!(0!==s||!VS(n,t,r)))))}function VS(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function WS(e){return e>0?1:e<0?-1:0}function GS(e,t){return jS(e.prev,e,e.next)<0?jS(e,t,e.next)>=0&&jS(e,e.prev,t)>=0:jS(e,t,e.prev)<0||jS(e,e.next,t)<0}function XS(e,t){var n=new ZS(e.i,e.x,e.y),r=new ZS(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function qS(e,t,n,r){var i=new ZS(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function YS(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ZS(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var KS=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];JS(e),$S(n,e);var a=e.length;t.forEach(JS);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,$S(n,t[o]);for(var s=MS(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function JS(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function $S(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var QS=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new SS([new Hg(.5,.5),new Hg(-.5,.5),new Hg(-.5,-.5),new Hg(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=Cn(e),o=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];d(c)}function d(e){var t,n,r,l,u,c=[],d=void 0!==i.curveSegments?i.curveSegments:12,f=void 0!==i.steps?i.steps:1,h=void 0!==i.depth?i.depth:1,p=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,x=i.extrudePath,b=void 0!==i.UVGenerator?i.UVGenerator:eM,_=!1;x&&(t=x.getSpacedPoints(f),_=!0,p=!1,n=x.computeFrenetFrames(f,!1),r=new wy,l=new wy,u=new wy),p||(y=0,v=0,m=0,g=0);var w=e.extractPoints(d),S=w.shape,M=w.holes;if(!KS.isClockWise(S)){S=S.reverse();for(var E=0,T=M.length;E<T;E++){var k=M[E];KS.isClockWise(k)&&(M[E]=k.reverse())}}for(var C=KS.triangulateShape(S,M),A=S,P=0,R=M.length;P<R;P++){var N=M[P];S=S.concat(N)}function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var O=S.length,I=C.length;function D(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(c),h=Math.sqrt(l*l+u*u),p=t.x-s/f,v=t.y+o/f,m=((n.x-u/h-p)*u-(n.y+l/h-v)*l)/(o*u-s*l),g=(r=p+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new Hg(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Hg(r/a,i/a)}for(var U=[],F=0,z=A.length,j=z-1,B=F+1;F<z;F++,j++,B++)j===z&&(j=0),B===z&&(B=0),U[F]=D(A[F],A[j],A[B]);for(var H,V=[],W=U.concat(),G=0,X=M.length;G<X;G++){var q=M[G];H=[];for(var Y=0,Z=q.length,K=Z-1,J=Y+1;Y<Z;Y++,K++,J++)K===Z&&(K=0),J===Z&&(J=0),H[Y]=D(q[Y],q[K],q[J]);V.push(H),W=W.concat(H)}for(var $=0;$<y;$++){for(var Q=$/y,ee=v*Math.cos(Q*Math.PI/2),te=m*Math.sin(Q*Math.PI/2)+g,ne=0,re=A.length;ne<re;ne++){var ie=L(A[ne],U[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,oe=M.length;ae<oe;ae++){var se=M[ae];H=V[ae];for(var le=0,ue=se.length;le<ue;le++){var ce=L(se[le],H[le],te);Re(ce.x,ce.y,-ee)}}}for(var de=m+g,fe=0;fe<O;fe++){var he=p?L(S[fe],W[fe],de):S[fe];_?(l.copy(n.normals[0]).multiplyScalar(he.x),r.copy(n.binormals[0]).multiplyScalar(he.y),u.copy(t[0]).add(l).add(r),Re(u.x,u.y,u.z)):Re(he.x,he.y,0)}for(var pe=1;pe<=f;pe++)for(var ve=0;ve<O;ve++){var me=p?L(S[ve],W[ve],de):S[ve];_?(l.copy(n.normals[pe]).multiplyScalar(me.x),r.copy(n.binormals[pe]).multiplyScalar(me.y),u.copy(t[pe]).add(l).add(r),Re(u.x,u.y,u.z)):Re(me.x,me.y,h/f*pe)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,xe=v*Math.cos(ye*Math.PI/2),be=m*Math.sin(ye*Math.PI/2)+g,_e=0,we=A.length;_e<we;_e++){var Se=L(A[_e],U[_e],be);Re(Se.x,Se.y,h+xe)}for(var Me=0,Ee=M.length;Me<Ee;Me++){var Te=M[Me];H=V[Me];for(var ke=0,Ce=Te.length;ke<Ce;ke++){var Ae=L(Te[ke],H[ke],be);_?Re(Ae.x,Ae.y+t[f-1].y,t[f-1].x+xe):Re(Ae.x,Ae.y,h+xe)}}}function Pe(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=f+2*y;a<o;a++){var s=O*a,l=O*(a+1);Le(t+r+s,t+i+s,t+i+l,t+r+l)}}}function Re(e,t,n){c.push(e),c.push(t),c.push(n)}function Ne(e,t,n){Oe(e),Oe(t),Oe(n);var r=o.length/3,i=b.generateTopUV(a,o,r-3,r-2,r-1);Ie(i[0]),Ie(i[1]),Ie(i[2])}function Le(e,t,n,r){Oe(e),Oe(t),Oe(r),Oe(t),Oe(n),Oe(r);var i=o.length/3,s=b.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Ie(s[0]),Ie(s[1]),Ie(s[3]),Ie(s[1]),Ie(s[2]),Ie(s[3])}function Oe(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Ie(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=O*t,r=0;r<I;r++){var i=C[r];Ne(i[2]+n,i[1]+n,i[0]+n)}n=O*(t=f+2*y);for(var s=0;s<I;s++){var l=C[s];Ne(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<I;u++){var c=C[u];Ne(c[2],c[1],c[0])}for(var d=0;d<I;d++){var h=C[d];Ne(h[0]+O*f,h[1]+O*f,h[2]+O*f)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Pe(A,t),t+=A.length;for(var n=0,r=M.length;n<r;n++){var i=M[n];Pe(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new db(o,3)),e.setAttribute("uv",new db(s,2)),e.computeVertexNormals(),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new lS[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(xb),eM={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new Hg(a,o),new Hg(s,l),new Hg(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],f=t[3*i],h=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new Hg(o,1-l),new Hg(u,1-d),new Hg(f,1-p),new Hg(v,1-g)]:[new Hg(s,1-l),new Hg(c,1-d),new Hg(h,1-p),new Hg(m,1-g)]}};var tM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_n(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return Sn(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(mS),nM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_n(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return Sn(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(mS),rM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_n(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),d=u+1,f=c+1,h=r/u,p=i/c,v=[],m=[],g=[],y=[],x=0;x<f;x++)for(var b=x*p-l,_=0;_<d;_++){var w=_*h-s;m.push(w,-b,0),g.push(0,0,1),y.push(_/u),y.push(1-x/c)}for(var S=0;S<c;S++)for(var M=0;M<u;M++){var E=M+d*S,T=M+d*(S+1),k=M+1+d*(S+1),C=M+1+d*S;v.push(E,T,C),v.push(T,k,C)}return e.setIndex(v),e.setAttribute("position",new db(m,3)),e.setAttribute("normal",new db(g,3)),e.setAttribute("uv",new db(y,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(xb),iM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;_n(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],d=[],f=[],h=r,p=(i-r)/(o=Math.max(1,o)),v=new wy,m=new Hg,g=0;g<=o;g++){for(var y=0;y<=a;y++){var x=s+y/a*l;v.x=h*Math.cos(x),v.y=h*Math.sin(x),c.push(v.x,v.y,v.z),d.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,f.push(m.x,m.y)}h+=p}for(var b=0;b<o;b++)for(var _=b*(a+1),w=0;w<a;w++){var S=w+_,M=S,E=S+a+1,T=S+a+2,k=S+1;u.push(M,E,k),u.push(E,T,k)}return e.setIndex(u),e.setAttribute("position",new db(c,3)),e.setAttribute("normal",new db(d,3)),e.setAttribute("uv",new db(f,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(xb),aM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new SS([new Hg(0,.5),new Hg(-.5,-.5),new Hg(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;_n(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))f(r);else for(var d=0;d<r.length;d++)f(r[d]),e.addGroup(u,c,d),u+=c,c=0;function f(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===KS.isClockWise(r)&&(r=r.reverse());for(var d=0,f=u.length;d<f;d++){var h=u[d];!0===KS.isClockWise(h)&&(u[d]=h.reverse())}for(var p=KS.triangulateShape(r,u),v=0,m=u.length;v<m;v++){var g=u[v];r=r.concat(g)}for(var y=0,x=r.length;y<x;y++){var b=r[y];o.push(b.x,b.y,0),s.push(0,0,1),l.push(b.x,b.y)}for(var _=0,w=p.length;_<w;_++){var S=p[_],M=S[0]+t,E=S[1]+t,T=S[2]+t;a.push(M,E,T),c+=3}}return e.setIndex(a),e.setAttribute("position",new db(o,3)),e.setAttribute("normal",new db(s,3)),e.setAttribute("uv",new db(l,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(xb);var oM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;_n(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),d=0,f=[],h=new wy,p=new wy,v=[],m=[],g=[],y=[],x=0;x<=a;x++){var b=[],_=x/a,w=0;0===x&&0===l?w=.5/i:x===a&&c===Math.PI&&(w=-.5/i);for(var S=0;S<=i;S++){var M=S/i;h.x=-r*Math.cos(o+M*s)*Math.sin(l+_*u),h.y=r*Math.cos(l+_*u),h.z=r*Math.sin(o+M*s)*Math.sin(l+_*u),m.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),y.push(M+w,1-_),b.push(d++)}f.push(b)}for(var E=0;E<a;E++)for(var T=0;T<i;T++){var k=f[E][T+1],C=f[E][T],A=f[E+1][T],P=f[E+1][T+1];(0!==E||l>0)&&v.push(k,C,P),(E!==a-1||c<Math.PI)&&v.push(C,A,P)}return e.setIndex(v),e.setAttribute("position",new db(m,3)),e.setAttribute("normal",new db(g,3)),e.setAttribute("uv",new db(y,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(xb),sM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_n(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return Sn(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(mS),lM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;_n(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],d=[],f=new wy,h=new wy,p=new wy,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;h.x=(r+i*Math.cos(y))*Math.cos(g),h.y=(r+i*Math.cos(y))*Math.sin(g),h.z=i*Math.sin(y),u.push(h.x,h.y,h.z),f.x=r*Math.cos(g),f.y=r*Math.sin(g),p.subVectors(h,f).normalize(),c.push(p.x,p.y,p.z),d.push(m/o),d.push(v/a)}for(var x=1;x<=a;x++)for(var b=1;b<=o;b++){var _=(o+1)*x+b-1,w=(o+1)*(x-1)+b-1,S=(o+1)*(x-1)+b,M=(o+1)*x+b;l.push(_,w,M),l.push(w,S,M)}return e.setIndex(l),e.setAttribute("position",new db(u,3)),e.setAttribute("normal",new db(c,3)),e.setAttribute("uv",new db(d,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(xb),uM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;_n(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],d=[],f=[],h=new wy,p=new wy,v=new wy,m=new wy,g=new wy,y=new wy,x=new wy,b=0;b<=a;++b){var _=b/a*s*Math.PI*2;N(_,s,l,r,v),N(_+.01,s,l,r,m),y.subVectors(m,v),x.addVectors(m,v),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize();for(var w=0;w<=o;++w){var S=w/o*Math.PI*2,M=-i*Math.cos(S),E=i*Math.sin(S);h.x=v.x+(M*x.x+E*g.x),h.y=v.y+(M*x.y+E*g.y),h.z=v.z+(M*x.z+E*g.z),c.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),d.push(p.x,p.y,p.z),f.push(b/a),f.push(w/o)}}for(var T=1;T<=a;T++)for(var k=1;k<=o;k++){var C=(o+1)*(T-1)+(k-1),A=(o+1)*T+(k-1),P=(o+1)*T+k,R=(o+1)*(T-1)+k;u.push(C,A,R),u.push(A,P,R)}function N(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new db(c,3)),e.setAttribute("normal",new db(d,3)),e.setAttribute("uv",new db(f,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(xb),cM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oS(new wy(-1,-1,0),new wy(-1,1,0),new wy(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_n(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=r.computeFrenetFrames(i,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new wy,c=new wy,d=new Hg,f=new wy,h=[],p=[],v=[],m=[];function g(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),b(),x()}function y(e){f=r.getPointAt(e/i,f);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var d=s/o*Math.PI*2,v=Math.sin(d),m=-Math.cos(d);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=f.x+a*c.x,u.y=f.y+a*c.y,u.z=f.z+a*c.z,h.push(u.x,u.y,u.z)}}function x(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}function b(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)d.x=e/i,d.y=t/o,v.push(d.x,d.y)}return g(),e.setIndex(m),e.setAttribute("position",new db(h,3)),e.setAttribute("normal",new db(p,3)),e.setAttribute("uv",new db(v,2)),e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new lS[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(xb),dM=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(_n(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new wy,s=new wy;if(null!==r.index){var l=r.attributes.position,u=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var d=0,f=c.length;d<f;++d)for(var h=c[d],p=h.start,v=h.count,m=p,g=p+v;m<g;m+=3)for(var y=0;y<3;y++){var x=u.getX(m+y),b=u.getX(m+(y+1)%3);o.fromBufferAttribute(l,x),s.fromBufferAttribute(l,b),!0===fM(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var _=r.attributes.position,w=0,S=_.count/3;w<S;w++)for(var M=0;M<3;M++){var E=3*w+M,T=3*w+(M+1)%3;o.fromBufferAttribute(_,E),s.fromBufferAttribute(_,T),!0===fM(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new db(i,3))}return e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(xb);function fM(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var hM=Object.freeze({__proto__:null,BoxGeometry:Lb,CapsuleGeometry:fS,CircleGeometry:hS,ConeGeometry:vS,CylinderGeometry:pS,DodecahedronGeometry:gS,EdgesGeometry:wS,ExtrudeGeometry:QS,IcosahedronGeometry:tM,LatheGeometry:dS,OctahedronGeometry:nM,PlaneGeometry:rM,PolyhedronGeometry:mS,RingGeometry:iM,ShapeGeometry:aM,SphereGeometry:oM,TetrahedronGeometry:sM,TorusGeometry:lM,TorusKnotGeometry:uM,TubeGeometry:cM,WireframeGeometry:dM}),pM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new Wx(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(qx),vM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return Sn(n)}(zb),mM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.type="MeshStandardMaterial",r.defines={STANDARD:""},r.color=new Wx(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Wx(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=jm,r.normalScale=new Hg(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new lx,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(qx),gM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new Hg(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(Cn(r),"reflectivity",{get:function(){return Dg(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new Wx(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new Wx(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Wx(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._dispersion=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return Sn(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"dispersion",get:function(){return this._dispersion},set:function(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=bn(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(mM),yM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new Wx(16777215),r.specular=new Wx(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Wx(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=jm,r.normalScale=new Hg(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new lx,r.combine=Bp,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(qx),xM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new Wx(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Wx(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=jm,r.normalScale=new Hg(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(qx),bM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=jm,r.normalScale=new Hg(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(qx),_M=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new Wx(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Wx(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=jm,r.normalScale=new Hg(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new lx,r.combine=Bp,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(qx),wM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=Dm,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(qx),SM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(qx),MM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Wx(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=jm,r.normalScale=new Hg(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(qx),EM=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(pw);function TM(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function kM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CM(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function AM(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i}function PM(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var RM={convertArray:TM,isTypedArray:kM,getKeyframeOrder:CM,sortedArray:AM,flattenJSON:PM,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],d=[],f=0;f<l.times.length;++f){var h=l.times[f]*i;if(!(h<n||h>=r)){c.push(l.times[f]);for(var p=0;p<u;++p)d.push(l.values[f*u+p])}}0!==c.length&&(l.times=TM(c,l.times.constructor),l.values=TM(d,l.values.constructor),o.push(l))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var d=r.times.length-1,f=void 0;if(a<=r.times[0]){var h=s,p=l-s;f=r.values.slice(h,p)}else if(a>=r.times[d]){var v=d*l+s,m=v+l-s;f=r.values.slice(v,m)}else{var g=r.createInterpolant(),y=s,x=l-s;g.evaluate(a),f=g.resultBuffer.slice(y,x)}"quaternion"===i&&(new _y).fromArray(f).normalize().conjugate().toArray(f);for(var b=o.times.length,_=0;_<b;++_){var w=_*c+u;if("quaternion"===i)_y.multiplyQuaternionsFlat(o.values,w,f,0,o.values,w);else for(var S=c-2*u,M=0;M<S;++M)o.values[w+M]-=f[M]}},s=0;s<i;++s)o(s);return e.blendMode=Nm,e}},NM=function(){function e(t,n,r,i){_n(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return Sn(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),LM=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a){var o;return _n(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Cm,endingEnd:Cm},o}return Sn(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Am:i=e,o=2*t-n;break;case Pm:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Am:a=e,s=2*n-t;break;case Pm:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(n-t)/(r-t),p=h*h,v=p*h,m=-d*v+2*d*p-d*h,g=(1+d)*v+(-1.5-2*d)*p+(-.5+d)*h+1,y=(-1-f)*v+(1.5+f)*p+.5*h,x=f*v-f*p,b=0;b!==o;++b)i[b]=m*a[u+b]+g*a[l+b]+y*a[s+b]+x*a[c+b];return i}}]),n}(NM),OM=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a){return _n(this,n),t.call(this,e,r,i,a)}return Sn(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}]),n}(NM),IM=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a){return _n(this,n),t.call(this,e,r,i,a)}return Sn(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(NM),DM=function(){function e(t,n,r,i){if(_n(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=TM(n,this.TimeBufferType),this.values=TM(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return Sn(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new IM(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new OM(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new LM(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Em:t=this.InterpolantFactoryMethodDiscrete;break;case Tm:t=this.InterpolantFactoryMethodLinear;break;case km:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Em;case this.InterpolantFactoryMethodLinear:return Tm;case this.InterpolantFactoryMethodSmooth:return km}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&kM(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===km,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,f=0;f!==n;++f){var h=t[u+f];if(h!==t[c+f]||h!==t[d+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,x=0;x!==n;++x)t[y+x]=t[g+x];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:TM(e.times,Array),values:TM(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();DM.prototype.TimeBufferType=Float32Array,DM.prototype.ValueBufferType=Float32Array,DM.prototype.DefaultInterpolation=Tm;var UM=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,e,r,i)}return Sn(n)}(DM);UM.prototype.ValueTypeName="bool",UM.prototype.ValueBufferType=Array,UM.prototype.DefaultInterpolation=Em,UM.prototype.InterpolantFactoryMethodLinear=void 0,UM.prototype.InterpolantFactoryMethodSmooth=void 0;var FM=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n)}(DM);FM.prototype.ValueTypeName="color";var zM=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n)}(DM);zM.prototype.ValueTypeName="number";var jM=function(e){En(n,e);var t=Pn(n);function n(e,r,i,a){return _n(this,n),t.call(this,e,r,i,a)}return Sn(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)_y.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(NM),BM=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new jM(this.times,this.values,this.getValueSize(),e)}}]),n}(DM);BM.prototype.ValueTypeName="quaternion",BM.prototype.InterpolantFactoryMethodSmooth=void 0;var HM=function(e){En(n,e);var t=Pn(n);function n(e,r,i){return _n(this,n),t.call(this,e,r,i)}return Sn(n)}(DM);HM.prototype.ValueTypeName="string",HM.prototype.ValueBufferType=Array,HM.prototype.DefaultInterpolation=Em,HM.prototype.InterpolantFactoryMethodLinear=void 0,HM.prototype.InterpolantFactoryMethodSmooth=void 0;var VM=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n)}(DM);VM.prototype.ValueTypeName="vector";var WM=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rm;_n(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ig(),this.duration<0&&this.resetDuration()}return Sn(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(GM(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(DM.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=CM(s);s=AM(s,1,u),l=AM(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new zM(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var d=[];for(var f in r)d.push(this.CreateFromMorphTargetSequence(f,r[f],t,n));return d}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];PM(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var h=0;h<c[f].morphTargets.length;h++)d[c[f].morphTargets[h]]=-1;for(var p in d){for(var v=[],m=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new zM(".morphTargetInfluence["+p+"]",v,m))}s=d.length*a}else{var x=".bones["+t[u].name+"]";n(VM,x+".position",c,"pos",r),n(BM,x+".quaternion",c,"rot",r),n(VM,x+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function GM(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zM;case"vector":case"vector2":case"vector3":case"vector4":return VM;case"color":return FM;case"quaternion":return BM;case"bool":case"boolean":return UM;case"string":return HM}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];PM(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var XM={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},qM=Sn((function e(t,n,r){_n(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),YM=new qM,ZM=function(){function e(t){_n(this,e),this.manager=void 0!==t?t:YM,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return Sn(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();ZM.DEFAULT_MATERIAL_NAME="__DEFAULT";var KM,JM={},$M=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).response=r,i}return Sn(n)}(In(Error)),QM=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=XM.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===JM[e]){JM[e]=[],JM[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=JM[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,d=n.length;c<d;c++){var f=n[c];f.onProgress&&f.onProgress(u)}e.enqueue(l),t()}}),(function(t){e.error(t)}))}()}});return new Response(l)}throw new $M('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){XM.add(e,t);var n=JM[e];delete JM[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=JM[e];if(void 0===n)throw i.manager.itemError(e),t;delete JM[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else JM[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(ZM),eE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new QM(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=WM.parse(e[n]);t.push(r)}return t}}]),n}(ZM),tE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new Fw,s=new QM(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=pv),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,d=e.length;c<d;++c)u(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=pv),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(ZM),nE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=XM.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=Yg("img");function s(){u(),XM.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(ZM),rE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=new qb;i.colorSpace=Vm;var a=new nE(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),n}(ZM),iE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new P_,o=new QM(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n;try{n=i.parse(e)}catch(UR){if(void 0===r)return void console.error(UR);r(UR)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:sv,a.wrapT=void 0!==n.wrapT?n.wrapT:sv,a.magFilter=void 0!==n.magFilter?n.magFilter:pv,a.minFilter=void 0!==n.minFilter?n.minFilter:pv,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=gv),1===n.mipmapCount&&(a.minFilter=pv),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)}),n,r),a}}]),n}(ZM),aE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=new hy,a=new nE(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(ZM),oE=function(e){En(n,e);var t=Pn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _n(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new Wx(e),r.intensity=i,r}return Sn(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}]),n}(Ex),sE=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Ex.DEFAULT_UP),a.updateMatrix(),a.groundColor=new Wx(r),a}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(oE),lE=new $y,uE=new wy,cE=new wy,dE=function(){function e(t){_n(this,e),this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Hg(512,512),this.map=null,this.mapPass=null,this.matrix=new $y,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Z_,this._frameExtents=new Hg(1,1),this._viewportCount=1,this._viewports=[new py(0,0,1,1)]}return Sn(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;uE.setFromMatrixPosition(e.matrixWorld),t.position.copy(uE),cE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(cE),t.updateMatrixWorld(),lE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lE),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(lE)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),fE=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this,new Wb(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return Sn(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Og*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),Md(Tn(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(dE),hE=function(e){En(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return _n(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Ex.DEFAULT_UP),i.updateMatrix(),i.target=new Ex,i.distance=a,i.angle=o,i.penumbra=s,i.decay=l,i.map=null,i.shadow=new fE,i}return Sn(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(oE),pE=new $y,vE=new wy,mE=new wy,gE=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this,new Wb(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new Hg(4,2),e._viewportCount=6,e._viewports=[new py(2,1,1,1),new py(0,1,1,1),new py(3,1,1,1),new py(1,1,1,1),new py(3,0,1,1),new py(1,0,1,1)],e._cubeDirections=[new wy(1,0,0),new wy(-1,0,0),new wy(0,0,1),new wy(0,0,-1),new wy(0,1,0),new wy(0,-1,0)],e._cubeUps=[new wy(0,1,0),new wy(0,1,0),new wy(0,1,0),new wy(0,1,0),new wy(0,0,1),new wy(0,0,-1)],e}return Sn(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),vE.setFromMatrixPosition(e.matrixWorld),n.position.copy(vE),mE.copy(n.position),mE.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(mE),n.updateMatrixWorld(),r.makeTranslation(-vE.x,-vE.y,-vE.z),pE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pE)}}]),n}(dE),yE=function(e){En(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return _n(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new gE,i}return Sn(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(oE),xE=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return _n(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return Sn(n,[{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(jb),bE=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this,new xE(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return Sn(n)}(dE),_E=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Ex.DEFAULT_UP),i.updateMatrix(),i.target=new Ex,i.shadow=new bE,i}return Sn(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(oE),wE=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return Sn(n)}(oE),SE=function(e){En(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return _n(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return Sn(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(oE),ME=function(){function e(){_n(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new wy)}return Sn(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),EE=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ME,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _n(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(oE),TE=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).textures={},r}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new QM(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Wx).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new Wx).setHex(a.value);break;case"v2":r.uniforms[i].value=(new Hg).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new wy).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new py).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new Vg).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new $y).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Hg).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Hg).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}},{key:"createMaterialFromType",value:function(e){return n.createMaterialFromType(e)}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:pM,SpriteMaterial:t_,RawShaderMaterial:vM,ShaderMaterial:zb,PointsMaterial:Cw,MeshPhysicalMaterial:gM,MeshStandardMaterial:mM,MeshPhongMaterial:yM,MeshToonMaterial:xM,MeshNormalMaterial:bM,MeshLambertMaterial:_M,MeshDepthMaterial:wM,MeshDistanceMaterial:SM,MeshBasicMaterial:Yx,MeshMatcapMaterial:MM,LineDashedMaterial:EM,LineBasicMaterial:pw,Material:qx}[e]}}]),n}(ZM),kE=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"decodeText",value:function(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),CE=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=Md(Tn(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(xb),AE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new QM(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=qg(i.type,a),s=new $b(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new CE:new xb,a=e.data.index;if(void 0!==a){var o=qg(a.type,a.array);i.setIndex(new nb(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var d=r(e.data,u.data);c=new e_(d,u.itemSize,u.offset,u.normalized)}else{var f=qg(u.type,u.array);c=new(u.isInstancedBufferAttribute?O_:nb)(f,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),i.setAttribute(l,c)}var h=e.data.morphAttributes;if(h)for(var p in h){for(var v=h[p],m=[],g=0,y=v.length;g<y;g++){var x=v[g],b=void 0;if(x.isInterleavedBufferAttribute){var _=r(e.data,x.data);b=new e_(_,x.itemSize,x.offset,x.normalized)}else{var w=qg(x.type,x.array);b=new nb(w,x.itemSize,x.normalized)}void 0!==x.name&&(b.name=x.name),m.push(b)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var M=0,E=S.length;M!==E;++M){var T=S[M];i.addGroup(T.start,T.count,T.materialIndex)}var k=e.data.boundingSphere;if(void 0!==k){var C=new wy;void 0!==k.center&&C.fromArray(k.center),i.boundingSphere=new Vy(C,k.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(ZM),PE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?kE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new QM(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(UR){return void 0!==r&&r(UR),void console.error("THREE:ObjectLoader: Can't parse "+e+".",UR.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=Ln(Rn().mark((function e(t,n){var r,i,a,o,s,l;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?kE.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new QM(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),this.bindLightTargets(l),void 0!==t){var c=!1;for(var d in a)if(a[d].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseAsync",value:function(){var e=Ln(Rn().mark((function e(t){var n,r,i,a,o,s,l,u;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,i,s,o,n),u=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,u),this.bindLightTargets(l),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new SS).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new L_).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new AE,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in hM?o=hM[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new TE;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=WM.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:qg(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new qM(t);(n=new nE(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){for(var d=[],f=0,h=c.length;f<h;f++){var p=a(c[f]);null!==p&&(p instanceof HTMLImageElement?d.push(p):d.push(new P_(p.data,p.width,p.height)))}i[u.uuid]=new cy(d)}else{var v=a(u.url);i[u.uuid]=new cy(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=Ln(Rn().mark((function e(t){var n,r,i,a,o,s,l,u,c,d,f,h,p,v,m;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=Ln(Rn().mark((function e(t){var r,a;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:qg(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new nE(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 8:if(!(s<l)){e.next=33;break}if(u=t[s],c=u.url,!Array.isArray(c)){e.next=26;break}d=[],f=0,h=c.length;case 14:if(!(f<h)){e.next=23;break}return p=c[f],e.next=18,a(p);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?d.push(v):d.push(new P_(v.data,v.width,v.height)));case 20:f++,e.next=14;break;case 23:r[u.uuid]=new cy(d),e.next=30;break;case 26:return e.next=28,a(u.url);case 28:m=e.sent,r[u.uuid]=new cy(m);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],l=s.data,u=void 0;Array.isArray(l)?(u=new qb,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new P_:new hy,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=n(o.mapping,RE)),void 0!==o.channel&&(u.channel=o.channel),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=n(o.wrap[0],NE),u.wrapT=n(o.wrap[1],NE)),void 0!==o.format&&(u.format=o.format),void 0!==o.internalFormat&&(u.internalFormat=o.internalFormat),void 0!==o.type&&(u.type=o.type),void 0!==o.colorSpace&&(u.colorSpace=o.colorSpace),void 0!==o.minFilter&&(u.minFilter=n(o.minFilter,LE)),void 0!==o.magFilter&&(u.magFilter=n(o.magFilter,LE)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.generateMipmaps&&(u.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(u.compareFunction=o.compareFunction),void 0!==o.userData&&(u.userData=o.userData),r[o.uuid]=u}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Jb,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Wx(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Kb(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Zb(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Wb(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new xE(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new wE(e.color,e.intensity);break;case"DirectionalLight":(a=new _E(e.color,e.intensity)).target=e.target||"";break;case"PointLight":a=new yE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new SE(e.color,e.intensity,e.width,e.height);break;case"SpotLight":(a=new hE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay)).target=e.target||"";break;case"HemisphereLight":a=new sE(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new EE).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new C_(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new Rb(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);var d=e.count,f=e.instanceMatrix,h=e.instanceColor;(a=new H_(o,s,d)).instanceMatrix=new O_(new Float32Array(f.array),16),void 0!==h&&(a.instanceColor=new O_(new Float32Array(h.array),h.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=u(e.material),(a=new hw(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s)).geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map((function(e){var t=new Ey;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);var n=new Vy;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new y_;break;case"Line":a=new ww(l(e.geometry),u(e.material));break;case"LineLoop":a=new kw(l(e.geometry),u(e.material));break;case"LineSegments":a=new Tw(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new Lw(l(e.geometry),u(e.material));break;case"Sprite":a=new p_(u(e.material));break;case"Group":a=new Iw;break;case"Bone":a=new A_;break;default:a=new Ex}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var x=e.levels,b=0;b<x.length;b++){var _=x[b],w=a.getObjectByProperty("uuid",_.object);void 0!==w&&a.addLevel(w,_.distance,_.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"bindLightTargets",value:function(e){e.traverse((function(t){if(t.isDirectionalLight||t.isSpotLight){var n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new Ex}}))}}]),n}(ZM),RE={UVMapping:ev,CubeReflectionMapping:tv,CubeRefractionMapping:nv,EquirectangularReflectionMapping:rv,EquirectangularRefractionMapping:iv,CubeUVReflectionMapping:av},NE={RepeatWrapping:ov,ClampToEdgeWrapping:sv,MirroredRepeatWrapping:lv},LE={NearestFilter:uv,NearestMipmapNearestFilter:cv,NearestMipmapLinearFilter:fv,LinearFilter:pv,LinearMipmapNearestFilter:vv,LinearMipmapLinearFilter:gv},OE=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return Sn(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=XM.get(e);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then((function(n){t&&t(n),i.manager.itemEnd(e)})).catch((function(e){r&&r(e)})):(setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a);var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;var s=fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return XM.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),XM.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));XM.add(e,s),i.manager.itemStart(e)}}]),n}(ZM),IE=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"getContext",value:function(){return void 0===KM&&(KM=new(window.AudioContext||window.webkitAudioContext)),KM}},{key:"setContext",value:function(e){KM=e}}]),e}(),DE=function(e){En(n,e);var t=Pn(n);function n(e){return _n(this,n),t.call(this,e)}return Sn(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new QM(this.manager);function o(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{var n=e.slice(0);IE.getContext().decodeAudioData(n,(function(e){t(e)})).catch(o)}catch(r){o(r)}}),n,r)}}]),n}(ZM),UE=new $y,FE=new $y,zE=new $y,jE=function(){function e(){_n(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wb,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wb,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return Sn(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,zE.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Lg*t.fov*.5)/t.zoom;FE.elements[12]=-i,UE.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,zE.elements[0]=2*t.near/(r-n),zE.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(zE),n=-o*t.aspect-a,r=o*t.aspect-a,zE.elements[0]=2*t.near/(r-n),zE.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(zE)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(UE)}}]),e}(),BE=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _n(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return Sn(n)}(Wb),HE=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_n(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Sn(e,[{key:"start",value:function(){this.startTime=VE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=VE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function VE(){return performance.now()}var WE=new wy,GE=new _y,XE=new wy,qE=new wy,YE=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).type="AudioListener",e.context=IE.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new HE,e}return Sn(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(WE,GE,XE),qE.set(0,0,-1).applyQuaternion(GE),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(WE.x,i),t.positionY.linearRampToValueAtTime(WE.y,i),t.positionZ.linearRampToValueAtTime(WE.z,i),t.forwardX.linearRampToValueAtTime(qE.x,i),t.forwardY.linearRampToValueAtTime(qE.y,i),t.forwardZ.linearRampToValueAtTime(qE.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(WE.x,WE.y,WE.z),t.setOrientation(qE.x,qE.y,qE.z,r.x,r.y,r.z)}}]),n}(Ex),ZE=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Sn(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1,this._progress=0}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),"buffer"!==e.sourceType?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}},{key:"clone",value:function(e){return new this.constructor(this.listener).copy(this,e)}}]),n}(Ex),KE=new wy,JE=new _y,$E=new wy,QE=new wy,eT=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return Sn(n,[{key:"connect",value:function(){Md(Tn(n.prototype),"connect",this).call(this),this.panner.connect(this.gain)}},{key:"disconnect",value:function(){Md(Tn(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(KE,JE,$E),QE.set(0,0,1).applyQuaternion(JE);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(KE.x,r),t.positionY.linearRampToValueAtTime(KE.y,r),t.positionZ.linearRampToValueAtTime(KE.z,r),t.orientationX.linearRampToValueAtTime(QE.x,r),t.orientationY.linearRampToValueAtTime(QE.y,r),t.orientationZ.linearRampToValueAtTime(QE.z,r)}else t.setPosition(KE.x,KE.y,KE.z),t.setOrientation(QE.x,QE.y,QE.z)}}}]),n}(ZE),tT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;_n(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Sn(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),nT=function(){function e(t,n,r){var i,a,o;switch(_n(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return Sn(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){_y.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;_y.multiplyQuaternionsFlat(e,a,e,t,e,n),_y.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),rT="\\[\\]\\.:\\/",iT=new RegExp("["+rT+"]","g"),aT="[^"+rT+"]",oT="[^"+rT.replace("\\.","")+"]",sT=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",aT)+/(WCOD+)?/.source.replace("WCOD",oT)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",aT)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",aT)+"$"),lT=["material","materials","bones","map"],uT=function(){function e(t,n,r){_n(this,e);var i=r||cT.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return Sn(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),cT=function(){function e(t,n,r){_n(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return Sn(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(iT,"")}},{key:"parseTrackName",value:function(e){var t=sT.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==lT.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();cT.Composite=uT,cT.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},cT.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},cT.prototype.GetterByBindingType=[cT.prototype._getValue_direct,cT.prototype._getValue_array,cT.prototype._getValue_arrayElement,cT.prototype._getValue_toArray],cT.prototype.SetterByBindingTypeAndVersioning=[[cT.prototype._setValue_direct,cT.prototype._setValue_direct_setNeedsUpdate,cT.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cT.prototype._setValue_array,cT.prototype._setValue_array_setNeedsUpdate,cT.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cT.prototype._setValue_arrayElement,cT.prototype._setValue_arrayElement_setNeedsUpdate,cT.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cT.prototype._setValue_fromArray,cT.prototype._setValue_fromArray_setNeedsUpdate,cT.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var dT=function(){function e(){_n(this,e),this.isAnimationObjectGroup=!0,this.uuid=Ig(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return Sn(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],f=d.uuid,h=t[f];if(void 0===h){h=s++,t[f]=h,e.push(d);for(var p=0,v=a;p!==v;++p)i[p].push(new cT(d,n[p],r[p]))}else if(h<l){o=e[h];var m=--l,g=e[m];t[g.uuid]=h,e[h]=g,t[f]=m,e[m]=d;for(var y=0,x=a;y!==x;++y){var b=i[y],_=b[m],w=b[h];b[h]=_,void 0===w&&(w=new cT(d,n[y],r[y])),b[m]=w}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,d=e[c];t[d.uuid]=u,e[u]=d,t[l]=c,e[c]=s;for(var f=0,h=r;f!==h;++f){var p=n[f],v=p[c],m=p[u];p[u]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=t[u];if(void 0!==c)if(delete t[u],c<i){var d=--i,f=e[d],h=--a,p=e[h];t[f.uuid]=c,e[c]=f,t[p.uuid]=d,e[d]=p,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[d],x=g[h];g[c]=y,g[d]=x,g.pop()}}else{var b=--a,_=e[b];b>0&&(t[_.uuid]=c),e[c]=_,e.pop();for(var w=0,S=r;w!==S;++w){var M=n[w];M[c]=M[b],M.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var d=u,f=s.length;d!==f;++d){var h=s[d];c[d]=new cT(h,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),fT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;_n(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Cm,endingEnd:Cm},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Sm,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Sn(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===Nm)for(var c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Mm;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===wm){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Am,r.endingEnd=Am):(r.endingStart=e?this.zeroSlopeAtStart?Am:Cm:Pm,r.endingEnd=t?this.zeroSlopeAtEnd?Am:Cm:Pm)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),hT=new Float32Array(1),pT=function(e){En(n,e);var t=Pn(n);function n(e){var r;return _n(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return Sn(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var d=r[c],f=d.name,h=u[f];if(void 0!==h)++h.referenceCount,a[c]=h;else{if(void 0!==(h=a[c])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,f));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(h=new nT(cT.create(n,f,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(h,s,f),a[c]=h}o[c].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new OM(new Float32Array(2),new Float32Array(2),1,hT)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?WM.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:Rm),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new fT(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?WM.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Pg),vT=function(){function e(t){_n(this,e),this.value=t}return Sn(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),mT=0,gT=function(e){En(n,e);var t=Pn(n);function n(){var e;return _n(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(Cn(e),"id",{value:mT++}),e.name="",e.usage=gg,e.uniforms=[],e}return Sn(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)for(var i=Array.isArray(t[n])?t[n]:[t[n]],a=0;a<i.length;a++)this.uniforms.push(i[a].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Pg),yT=function(e){En(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return _n(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return Sn(n,[{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=Md(Tn(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=Md(Tn(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}($b),xT=function(){function e(t,n,r,i,a){_n(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return Sn(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),bT=new $y,_T=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;_n(this,e),this.ray=new Jy(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new ux,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return Sn(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"setFromXRController",value:function(e){return bT.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(bT),this}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return ST(e,this,n,t),n.sort(wT),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)ST(e[r],this,n,t);return n.sort(wT),n}}]),e}();function wT(e,t){return e.distance-t.distance}function ST(e,t,n,r){var i=!0;e.layers.test(t.layers)&&(!1===e.raycast(t,n)&&(i=!1));if(!0===i&&!0===r)for(var a=e.children,o=0,s=a.length;o<s;o++)ST(a[o],t,n,!0)}var MT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _n(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Sn(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Dg(this.phi,e,Math.PI-e),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Dg(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ET=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _n(this,e),this.radius=t,this.theta=n,this.y=r,this}return Sn(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),TT=function(){function e(t,n,r,i){_n(this,e),e.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==t&&this.set(t,n,r,i)}return Sn(e,[{key:"identity",value:function(){return this.set(1,0,0,1),this}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<4;n++)this.elements[n]=e[n+t];return this}},{key:"set",value:function(e,t,n,r){var i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}]),e}(),kT=new Hg,CT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hg(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hg(-1/0,-1/0);_n(this,e),this.isBox2=!0,this.min=t,this.max=n}return Sn(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=kT.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,kT).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),AT=new wy,PT=new wy,RT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy;_n(this,e),this.start=t,this.end=n}return Sn(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){AT.subVectors(e,this.start),PT.subVectors(this.end,this.start);var n=PT.dot(PT),r=PT.dot(AT)/n;return t&&(r=Dg(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),NT=new wy,LT=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;_n(this,n),(i=t.call(this)).light=e,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new xb,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new db(o,3));var d=new pw({fog:!1,toneMapped:!1});return i.cone=new Tw(a,d),i.add(i.cone),i.update(),i}return Sn(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),NT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(NT),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Ex),OT=new wy,IT=new $y,DT=new $y,UT=function(e){En(n,e);var t=Pn(n);function n(e){var r;_n(this,n);for(var i=FT(e),a=new xb,o=[],s=[],l=new Wx(0,0,1),u=new Wx(0,1,0),c=0;c<i.length;c++){var d=i[c];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}a.setAttribute("position",new db(o,3)),a.setAttribute("color",new db(s,3));var f=new pw({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,f)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return Sn(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");DT.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(IT.multiplyMatrices(DT,s.matrixWorld),OT.setFromMatrixPosition(IT),i.setXYZ(o,OT.x,OT.y,OT.z),IT.multiplyMatrices(DT,s.parent.matrixWorld),OT.setFromMatrixPosition(IT),i.setXYZ(o+1,OT.x,OT.y,OT.z),o+=2)}r.getAttribute("position").needsUpdate=!0,Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw);function FT(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,FT(e.children[n]));return t}var zT=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;_n(this,n);var o=new oM(r,4,2),s=new Yx({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return Sn(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Rb),jT=new wy,BT=new Wx,HT=new Wx,VT=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;_n(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new nM(r);o.rotateY(.5*Math.PI),a.material=new Yx({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new nb(l,3)),a.add(new Rb(o,a.material)),a.update(),a}return Sn(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");BT.copy(this.light.color),HT.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?BT:HT;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jT.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Ex),WT=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;_n(this,n),a=new Wx(a),o=new Wx(o);for(var s=i/2,l=r/i,u=r/2,c=[],d=[],f=0,h=0,p=-u;f<=i;f++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var v=f===s?a:o;v.toArray(d,h),h+=3,v.toArray(d,h),h+=3,v.toArray(d,h),h+=3,v.toArray(d,h),h+=3}var m=new xb;m.setAttribute("position",new db(c,3)),m.setAttribute("color",new db(d,3));var g=new pw({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return Sn(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw),GT=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;_n(this,n),s=new Wx(s),l=new Wx(l);var u=[],c=[];if(i>1)for(var d=0;d<i;d++){var f=d/i*(2*Math.PI),h=Math.sin(f)*r,p=Math.cos(f)*r;u.push(0,0,0),u.push(h,0,p);var v=1&d?s:l;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var g=1&m?s:l,y=r-r/a*m,x=0;x<o;x++){var b=x/o*(2*Math.PI),_=Math.sin(b)*y,w=Math.cos(b)*y;u.push(_,0,w),c.push(g.r,g.g,g.b),b=(x+1)/o*(2*Math.PI),_=Math.sin(b)*y,w=Math.cos(b)*y,u.push(_,0,w),c.push(g.r,g.g,g.b)}var S=new xb;S.setAttribute("position",new db(u,3)),S.setAttribute("color",new db(c,3));var M=new pw({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,M)).type="PolarGridHelper",e}return Sn(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw),XT=new wy,qT=new wy,YT=new wy,ZT=function(e){En(n,e);var t=Pn(n);function n(e,r,i){var a;_n(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new xb;o.setAttribute("position",new db([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new pw({fog:!1,toneMapped:!1});return a.lightPlane=new ww(o,s),a.add(a.lightPlane),(o=new xb).setAttribute("position",new db([0,0,0,0,0,1],3)),a.targetLine=new ww(o,s),a.add(a.targetLine),a.update(),a}return Sn(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XT.setFromMatrixPosition(this.light.matrixWorld),qT.setFromMatrixPosition(this.light.target.matrixWorld),YT.subVectors(qT,XT),this.lightPlane.lookAt(qT),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qT),this.targetLine.scale.z=YT.length()}}]),n}(Ex),KT=new wy,JT=new jb,$T=function(e){En(n,e);var t=Pn(n);function n(e){var r;_n(this,n);var i=new xb,a=new pw({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={};function u(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===l[e]&&(l[e]=[]),l[e].push(o.length/3-1)}u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4"),i.setAttribute("position",new db(o,3)),i.setAttribute("color",new db(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update();var d=new Wx(16755200),f=new Wx(16711680),h=new Wx(43775),p=new Wx(16777215),v=new Wx(3355443);return r.setColors(d,f,h,p,v),r}return Sn(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;JT.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),QT("c",t,e,JT,0,0,-1),QT("t",t,e,JT,0,0,1),QT("n1",t,e,JT,-1,-1,-1),QT("n2",t,e,JT,1,-1,-1),QT("n3",t,e,JT,-1,1,-1),QT("n4",t,e,JT,1,1,-1),QT("f1",t,e,JT,-1,-1,1),QT("f2",t,e,JT,1,-1,1),QT("f3",t,e,JT,-1,1,1),QT("f4",t,e,JT,1,1,1),QT("u1",t,e,JT,.7,1.1,-1),QT("u2",t,e,JT,-.7,1.1,-1),QT("u3",t,e,JT,0,2,-1),QT("cf1",t,e,JT,-1,0,1),QT("cf2",t,e,JT,1,0,1),QT("cf3",t,e,JT,0,-1,1),QT("cf4",t,e,JT,0,1,1),QT("cn1",t,e,JT,-1,0,-1),QT("cn2",t,e,JT,1,0,-1),QT("cn3",t,e,JT,0,-1,-1),QT("cn4",t,e,JT,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw);function QT(e,t,n,r,i,a,o){KT.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],KT.x,KT.y,KT.z)}var ek,tk,nk=new Ey,rk=function(e){En(n,e);var t=Pn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;_n(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new xb;return s.setIndex(new nb(a,1)),s.setAttribute("position",new nb(o,3)),(r=t.call(this,s,new pw({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return Sn(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&nk.setFromObject(this.object),!nk.isEmpty()){var t=nk.min,n=nk.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return Md(Tn(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw),ik=function(e){En(n,e);var t=Pn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;_n(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new xb;return s.setIndex(new nb(a,1)),s.setAttribute("position",new db(o,3)),(r=t.call(this,s,new pw({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return Sn(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw),ak=function(e){En(n,e);var t=Pn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;_n(this,n);var o=a,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new xb;l.setAttribute("position",new db(s,3)),l.computeBoundingSphere(),(r=t.call(this,l,new pw({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new xb;return c.setAttribute("position",new db(u,3)),c.computeBoundingSphere(),r.add(new Rb(c,new Yx({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return Sn(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),Md(Tn(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(ww),ok=new wy,sk=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wy(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wy(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return _n(this,n),(e=t.call(this)).type="ArrowHelper",void 0===ek&&((ek=new xb).setAttribute("position",new db([0,0,0,0,1,0],3)),(tk=new pS(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new ww(ek,new pw({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Rb(tk,new Yx({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,l),e}return Sn(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ok.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ok,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return Md(Tn(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Ex),lk=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;_n(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new xb;o.setAttribute("position",new db(i,3)),o.setAttribute("color",new db(a,3));var s=new pw({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return Sn(n,[{key:"setColors",value:function(e,t,n){var r=new Wx,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Tw),uk=function(){function e(){_n(this,e),this.type="ShapePath",this.color=new Wx,this.subPaths=[],this.currentPath=null}return Sn(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new cS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=KS.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new SS).curves=r.curves,s.push(i),s;var l=!a(o[0].getPoints());l=e?!l:l;var u,c,d=[],f=[],h=[],p=0;f[p]=void 0,h[p]=[];for(var v=0,m=o.length;v<m;v++)n=a(u=(r=o[v]).getPoints()),(n=e?!n:n)?(!l&&f[p]&&p++,f[p]={s:new SS,p:u},f[p].s.curves=r.curves,l&&p++,h[p]=[]):h[p].push({h:r,p:u[0]});if(!f[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new SS;a.curves=i.curves,t.push(a)}return t}(o);if(f.length>1){for(var g=!1,y=0,x=0,b=f.length;x<b;x++)d[x]=[];for(var _=0,w=f.length;_<w;_++)for(var S=h[_],M=0;M<S.length;M++){for(var E=S[M],T=!0,k=0;k<f.length;k++)t(E.p,f[k].p)&&(_!==k&&y++,T?(T=!1,d[k].push(E)):g=!0);T&&d[_].push(E)}y>0&&!1===g&&(h=d)}for(var C=0,A=f.length;C<A;C++){i=f[C].s,s.push(i);for(var P=0,R=(c=h[C]).length;P<R;P++)i.holes.push(c[P].h)}return s}}]),e}(),ck=function(e){En(n,e);var t=Pn(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _n(this,n),(r=t.call(this)).object=e,r.domElement=i,r.enabled=!0,r.state=-1,r.keys={},r.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},r.touches={ONE:null,TWO:null},r}return Sn(n,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"dispose",value:function(){}},{key:"update",value:function(){}}]),n}(Pg);function dk(e,t,n,r){var i=function(e){switch(e){case xv:case bv:return{byteLength:1,components:1};case wv:case _v:case Tv:return{byteLength:2,components:1};case kv:case Cv:return{byteLength:2,components:4};case Mv:case Sv:case Ev:return{byteLength:4,components:1};case Pv:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(r);switch(n){case Rv:case Ov:return e*t;case Iv:return e*t*2;case Fv:case zv:return e*t/i.components*i.byteLength;case jv:case Bv:return e*t*2/i.components*i.byteLength;case Nv:return e*t*3/i.components*i.byteLength;case Lv:case Vv:return e*t*4/i.components*i.byteLength;case Wv:case Gv:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Xv:case qv:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Zv:case Jv:return Math.max(e,16)*Math.max(t,8)/4;case Yv:case Kv:return Math.max(e,8)*Math.max(t,8)/2;case $v:case Qv:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case em:case tm:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case nm:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case rm:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case im:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case am:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case om:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case sm:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case lm:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case um:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case cm:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case dm:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case fm:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case hm:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case pm:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case vm:case mm:case gm:return Math.ceil(e/4)*Math.ceil(t/4)*16;case ym:case xm:return Math.ceil(e/4)*Math.ceil(t/4)*8;case bm:case _m:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}var fk,hk={contain:function(e,t){var n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){var n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:dk},pk=function(e){En(n,e);var t=Pn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _n(this,n),console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),(e=t.call(this,r,i,je(je({},o),{},{count:a}))).isWebGLMultipleRenderTargets=!0,e}return Sn(n,[{key:"texture",get:function(){return this.textures}}]),n}(my);function vk(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function mk(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){var i=t.get(n);(!i||i.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version})}else{var a=t.get(n);if(void 0===a)t.set(n,function(t,n){var r,i=t.array,a=t.usage,o=i.byteLength,s=e.createBuffer();if(e.bindBuffer(n,s),e.bufferData(n,i,a),t.onUploadCallback(),i instanceof Float32Array)r=e.FLOAT;else if(i instanceof Uint16Array)r=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)r=e.SHORT;else if(i instanceof Uint32Array)r=e.UNSIGNED_INT;else if(i instanceof Int32Array)r=e.INT;else if(i instanceof Int8Array)r=e.BYTE;else if(i instanceof Uint8Array)r=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);r=e.UNSIGNED_BYTE}return{buffer:s,type:r,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(a.version<n.version){if(a.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){var i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((function(e,t){return e.start-t.start}));for(var o=0,s=1;s<a.length;s++){var l=a[o],u=a[s];u.start<=l.start+l.count+1?l.count=Math.max(l.count,u.start+u.count-l.start):a[++o]=u}a.length=o+1;for(var c=0,d=a.length;c<d;c++){var f=a[c];e.bufferSubData(r,f.start*i.BYTES_PER_ELEMENT,i,f.start,f.count)}n.clearUpdateRanges()}n.onUploadCallback()}(a.buffer,n,r),a.version=n.version}}}}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qh}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qh);var gk={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},yk={common:{diffuse:{value:new Wx(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Vg},alphaMap:{value:null},alphaMapTransform:{value:new Vg},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Vg}},envmap:{envMap:{value:null},envMapRotation:{value:new Vg},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Vg}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Vg}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Vg},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Vg},normalScale:{value:new Hg(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Vg},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Vg}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Vg}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Vg}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Wx(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Wx(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Vg},alphaTest:{value:0},uvTransform:{value:new Vg}},sprite:{diffuse:{value:new Wx(16777215)},opacity:{value:1},center:{value:new Hg(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Vg},alphaMap:{value:null},alphaMapTransform:{value:new Vg},alphaTest:{value:0}}},xk={basic:{uniforms:Ib([yk.common,yk.specularmap,yk.envmap,yk.aomap,yk.lightmap,yk.fog]),vertexShader:gk.meshbasic_vert,fragmentShader:gk.meshbasic_frag},lambert:{uniforms:Ib([yk.common,yk.specularmap,yk.envmap,yk.aomap,yk.lightmap,yk.emissivemap,yk.bumpmap,yk.normalmap,yk.displacementmap,yk.fog,yk.lights,{emissive:{value:new Wx(0)}}]),vertexShader:gk.meshlambert_vert,fragmentShader:gk.meshlambert_frag},phong:{uniforms:Ib([yk.common,yk.specularmap,yk.envmap,yk.aomap,yk.lightmap,yk.emissivemap,yk.bumpmap,yk.normalmap,yk.displacementmap,yk.fog,yk.lights,{emissive:{value:new Wx(0)},specular:{value:new Wx(1118481)},shininess:{value:30}}]),vertexShader:gk.meshphong_vert,fragmentShader:gk.meshphong_frag},standard:{uniforms:Ib([yk.common,yk.envmap,yk.aomap,yk.lightmap,yk.emissivemap,yk.bumpmap,yk.normalmap,yk.displacementmap,yk.roughnessmap,yk.metalnessmap,yk.fog,yk.lights,{emissive:{value:new Wx(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gk.meshphysical_vert,fragmentShader:gk.meshphysical_frag},toon:{uniforms:Ib([yk.common,yk.aomap,yk.lightmap,yk.emissivemap,yk.bumpmap,yk.normalmap,yk.displacementmap,yk.gradientmap,yk.fog,yk.lights,{emissive:{value:new Wx(0)}}]),vertexShader:gk.meshtoon_vert,fragmentShader:gk.meshtoon_frag},matcap:{uniforms:Ib([yk.common,yk.bumpmap,yk.normalmap,yk.displacementmap,yk.fog,{matcap:{value:null}}]),vertexShader:gk.meshmatcap_vert,fragmentShader:gk.meshmatcap_frag},points:{uniforms:Ib([yk.points,yk.fog]),vertexShader:gk.points_vert,fragmentShader:gk.points_frag},dashed:{uniforms:Ib([yk.common,yk.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gk.linedashed_vert,fragmentShader:gk.linedashed_frag},depth:{uniforms:Ib([yk.common,yk.displacementmap]),vertexShader:gk.depth_vert,fragmentShader:gk.depth_frag},normal:{uniforms:Ib([yk.common,yk.bumpmap,yk.normalmap,yk.displacementmap,{opacity:{value:1}}]),vertexShader:gk.meshnormal_vert,fragmentShader:gk.meshnormal_frag},sprite:{uniforms:Ib([yk.sprite,yk.fog]),vertexShader:gk.sprite_vert,fragmentShader:gk.sprite_frag},background:{uniforms:{uvTransform:{value:new Vg},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gk.background_vert,fragmentShader:gk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Vg}},vertexShader:gk.backgroundCube_vert,fragmentShader:gk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gk.cube_vert,fragmentShader:gk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gk.equirect_vert,fragmentShader:gk.equirect_frag},distanceRGBA:{uniforms:Ib([yk.common,yk.displacementmap,{referencePosition:{value:new wy},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gk.distanceRGBA_vert,fragmentShader:gk.distanceRGBA_frag},shadow:{uniforms:Ib([yk.lights,yk.fog,{color:{value:new Wx(0)},opacity:{value:1}}]),vertexShader:gk.shadow_vert,fragmentShader:gk.shadow_frag}};xk.physical={uniforms:Ib([xk.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Vg},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Vg},clearcoatNormalScale:{value:new Hg(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Vg},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Vg},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Vg},sheen:{value:0},sheenColor:{value:new Wx(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Vg},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Vg},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Vg},transmissionSamplerSize:{value:new Hg},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Vg},attenuationDistance:{value:0},attenuationColor:{value:new Wx(0)},specularColor:{value:new Wx(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Vg},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Vg},anisotropyVector:{value:new Hg},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Vg}}]),vertexShader:gk.meshphysical_vert,fragmentShader:gk.meshphysical_frag};var bk={r:0,b:0,g:0},_k=new lx,wk=new $y;function Sk(e,t,n,r,i,a,o){var s,l,u=new Wx(0),c=!0===a?0:1,d=null,f=0,h=null;function p(e){var r=!0===e.isScene?e.background:null;r&&r.isTexture&&(r=(e.backgroundBlurriness>0?n:t).get(r));return r}function v(t,n){t.getRGB(bk,Db(e)),r.buffers.color.setClear(bk.r,bk.g,bk.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),v(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){v(u,c=e)},render:function(t){var n=!1,i=p(t);null===i?v(u,c):i&&i.isColor&&(v(i,1),n=!0);var a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){var r=p(n);r&&(r.isCubeTexture||r.mapping===av)?(void 0===l&&((l=new Rb(new Lb(1,1,1),new zb({name:"BackgroundCubeMaterial",uniforms:Ob(xk.backgroundCube.uniforms),vertexShader:xk.backgroundCube.vertexShader,fragmentShader:xk.backgroundCube.fragmentShader,side:ap,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),_k.copy(n.backgroundRotation),_k.x*=-1,_k.y*=-1,_k.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(_k.y*=-1,_k.z*=-1),l.material.uniforms.envMap.value=r,l.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.uniforms.backgroundRotation.value.setFromMatrix4(wk.makeRotationFromEuler(_k)),l.material.toneMapped=ay.getTransfer(r.colorSpace)!==Xm,d===r&&f===r.version&&h===e.toneMapping||(l.material.needsUpdate=!0,d=r,f=r.version,h=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null)):r&&r.isTexture&&(void 0===s&&((s=new Rb(new rM(2,2),new zb({name:"BackgroundMaterial",uniforms:Ob(xk.background.uniforms),vertexShader:xk.background.vertexShader,fragmentShader:xk.background.fragmentShader,side:ip,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=r,s.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,s.material.toneMapped=ay.getTransfer(r.colorSpace)!==Xm,!0===r.matrixAutoUpdate&&r.updateMatrix(),s.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&f===r.version&&h===e.toneMapping||(s.material.needsUpdate=!0,d=r,f=r.version,h=e.toneMapping),s.layers.enableAll(),t.unshift(s,s.geometry,s.material,0,0,null))},dispose:function(){void 0!==l&&(l.geometry.dispose(),l.material.dispose()),void 0!==s&&(s.geometry.dispose(),s.material.dispose())}}}function Mk(e,t){var n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=u(null),a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function u(e){for(var t=[],r=[],i=[],a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function c(){for(var e=a.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function d(e){f(e,0)}function f(t,n){var r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function h(){for(var t=a.newAttributes,n=a.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function v(){m(),o=!0,a!==i&&s((a=i).object)}function m(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,v,m){var g,y=function(t,n,i){var a=!0===i.wireframe,o=r[t.id];void 0===o&&(o={},r[t.id]=o);var s=o[n.id];void 0===s&&(s={},o[n.id]=s);var l=s[a];void 0===l&&(l=u(e.createVertexArray()),s[a]=l);return l}(v,l,i);a!==y&&s((a=y).object),(g=function(e,t,n,r){var i=a.attributes,o=t.attributes,s=0,l=n.getAttributes();for(var u in l){if(l[u].location>=0){var c=i[u],d=o[u];if(void 0===d&&("instanceMatrix"===u&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(d=e.instanceColor)),void 0===c)return!0;if(c.attribute!==d)return!0;if(d&&c.data!==d.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}(n,v,l,m))&&function(e,t,n,r){var i={},o=t.attributes,s=0,l=n.getAttributes();for(var u in l){if(l[u].location>=0){var c=o[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var d={};d.attribute=c,c&&c.data&&(d.data=c.data),i[u]=d,s++}}a.attributes=i,a.attributesNum=s,a.index=r}(n,v,l,m),null!==m&&t.update(m,e.ELEMENT_ARRAY_BUFFER),(g||o)&&(o=!1,function(n,r,i,a){c();var o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(var u in s){var v=s[u];if(v.location>=0){var m=o[u];if(void 0===m&&("instanceMatrix"===u&&n.instanceMatrix&&(m=n.instanceMatrix),"instanceColor"===u&&n.instanceColor&&(m=n.instanceColor)),void 0!==m){var g=m.normalized,y=m.itemSize,x=t.get(m);if(void 0===x)continue;var b=x.buffer,_=x.type,w=x.bytesPerElement,S=_===e.INT||_===e.UNSIGNED_INT||m.gpuType===Sv;if(m.isInterleavedBufferAttribute){var M=m.data,E=M.stride,T=m.offset;if(M.isInstancedInterleavedBuffer){for(var k=0;k<v.locationSize;k++)f(v.location+k,M.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var C=0;C<v.locationSize;C++)d(v.location+C);e.bindBuffer(e.ARRAY_BUFFER,b);for(var A=0;A<v.locationSize;A++)p(v.location+A,y/v.locationSize,_,g,E*w,(T+y/v.locationSize*A)*w,S)}else{if(m.isInstancedBufferAttribute){for(var P=0;P<v.locationSize;P++)f(v.location+P,m.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=m.meshPerAttribute*m.count)}else for(var R=0;R<v.locationSize;R++)d(v.location+R);e.bindBuffer(e.ARRAY_BUFFER,b);for(var N=0;N<v.locationSize;N++)p(v.location+N,y/v.locationSize,_,g,y*w,y/v.locationSize*N*w,S)}}else if(void 0!==l){var L=l[u];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(v.location,L);break;case 3:e.vertexAttrib3fv(v.location,L);break;case 4:e.vertexAttrib4fv(v.location,L);break;default:e.vertexAttrib1fv(v.location,L)}}}}h()}(n,i,l,v),null!==m&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(m).buffer))},reset:v,resetDefaultState:m,dispose:function(){for(var e in v(),r){var t=r[e];for(var n in t){var i=t[n];for(var a in i)l(i[a].object),delete i[a];delete t[n]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0!==r[e.id]){var t=r[e.id];for(var n in t){var i=t[n];for(var a in i)l(i[a].object),delete i[a];delete t[n]}delete r[e.id]}},releaseStatesOfProgram:function(e){for(var t in r){var n=r[t];if(void 0!==n[e.id]){var i=n[e.id];for(var a in i)l(i[a].object),delete i[a];delete n[e.id]}}},initAttributes:c,enableAttribute:d,disableUnusedAttributes:h}}function Ek(e,t,n){var r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0!==a){t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);for(var o=0,s=0;s<a;s++)o+=i[s];n.update(o,r,1)}},this.renderMultiDrawInstances=function(e,a,o,s){if(0!==o){var l=t.get("WEBGL_multi_draw");if(null===l)for(var u=0;u<e.length;u++)i(e[u],a[u],s[u]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);for(var c=0,d=0;d<o;d++)c+=a[d]*s[d];n.update(c,r,1)}}}}function Tk(e,t,n,r){var i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o=void 0!==n.precision?n.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===Lv||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){var i=n===Tv&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==xv&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==Ev&&!i)},precision:o,logarithmicDepthBuffer:l,reverseDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function kk(e){var t=this,n=null,r=0,i=!1,a=!1,o=new X_,s=new Vg,l={value:null,needsUpdate:!1};function u(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,h=r;f!==a;++f,h+=4)o.copy(e[f]).applyMatrix4(d,s),o.normal.toArray(u,h),u[h+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var d=o.clippingPlanes,f=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!h)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=p.clippingState||null;l.value=g,g=u(d,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function Ck(e){var t=new WeakMap;function n(e,t){return t===rv?e.mapping=tv:t===iv&&(e.mapping=nv),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(a===rv||a===iv){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Yb(o.height);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Ak=[.125,.215,.35,.446,.526,.582],Pk=20,Rk=new xE,Nk=new Wx,Lk=null,Ok=0,Ik=0,Dk=!1,Uk=(1+Math.sqrt(5))/2,Fk=1/Uk,zk=[new wy(-Uk,Fk,0),new wy(Uk,Fk,0),new wy(-Fk,0,Uk),new wy(Fk,0,Uk),new wy(0,Uk,-Fk),new wy(0,Uk,Fk),new wy(-1,1,-1),new wy(1,1,-1),new wy(-1,1,1),new wy(1,1,1)],jk=function(){function e(t){_n(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return Sn(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Lk=this._renderer.getRenderTarget(),Ok=this._renderer.getActiveCubeFace(),Ik=this._renderer.getActiveMipmapLevel(),Dk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Wk(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Vk(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Lk,Ok,Ik),this._renderer.xr.enabled=Dk,e.scissorTest=!1,Hk(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===tv||e.mapping===nv?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Lk=this._renderer.getRenderTarget(),Ok=this._renderer.getActiveCubeFace(),Ik=this._renderer.getActiveMipmapLevel(),Dk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:pv,minFilter:pv,generateMipmaps:!1,type:Tv,format:Lv,colorSpace:Wm,depthBuffer:!1},r=Bk(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Bk(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Ak.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=Ak[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,d=1+u,f=[c,c,d,c,d,d,c,c,d,d,c,d],h=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*h),x=new Float32Array(m*p*h),b=new Float32Array(g*p*h),_=0;_<h;_++){var w=_%3*2/3-1,S=_>2?0:-1,M=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];y.set(M,v*p*_),x.set(f,m*p*_);var E=[_,_,_,_,_,_];b.set(E,g*p*_)}var T=new xb;T.setAttribute("position",new nb(y,v)),T.setAttribute("uv",new nb(x,m)),T.setAttribute("faceIndex",new nb(b,g)),t.push(T),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Pk),i=new wy(0,1,0),a=new zb({name:"SphericalGaussianBlur",defines:{n:Pk,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:sp,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Rb(this._lodPlanes[0],e);this._renderer.compile(t,Rk)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Wb(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Nk),s.toneMapping=Wp,s.autoClear=!1;var c=new Yx({name:"PMREM.Background",side:ap,depthWrite:!1,depthTest:!1}),d=new Rb(new Lb,c),f=!1,h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,f=!0):(c.color.copy(Nk),f=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Hk(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),f&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===tv||e.mapping===nv;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Wk()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Vk());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Rb(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Hk(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Rk)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=this._lodPlanes.length,i=1;i<r;i++){var a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=zk[(r-i-1)%zk.length];this._blur(e,i-1,i,a,o)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Rb(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/f,p=isFinite(i)?1+Math.floor(3*h):Pk;p>Pk&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Pk));for(var v=[],m=0,g=0;g<Pk;++g){var y=g/h,x=Math.exp(-y*y/2);v.push(x),0===g?m+=x:g<p&&(m+=2*x)}for(var b=0;b<v.length;b++)v[b]=v[b]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var _=this._lodMax;c.dTheta.value=f,c.mipInt.value=_-n;var w=this._sizeLods[r];Hk(t,3*w*(r>_-4?r-_+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(u,Rk)}}]),e}();function Bk(e,t,n){var r=new my(e,t,n);return r.texture.mapping=av,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Hk(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Vk(){return new zb({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:sp,depthTest:!1,depthWrite:!1})}function Wk(){return new zb({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:sp,depthTest:!1,depthWrite:!1})}function Gk(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===rv||a===iv,s=a===tv||a===nv;if(o||s){var l=t.get(i),u=void 0!==l?l.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==u)return null===n&&(n=new jk(e)),(l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l)).texture.pmremVersion=i.pmremVersion,t.set(i,l),l.texture;if(void 0!==l)return l.texture;var c=i.image;return o&&c&&c.height>0||s&&c&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(c)?(null===n&&(n=new jk(e)),(l=o?n.fromEquirectangular(i):n.fromCubemap(i)).texture.pmremVersion=i.pmremVersion,t.set(i,l),i.addEventListener("dispose",r),l.texture):null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Xk(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){var t=n(e);return null===t&&Jg("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function qk(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete i[s.id];var u=a.get(s);u&&(t.remove(u),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],f=s[l+2];n.push(c,d,d,f,f,c)}}else{if(void 0===i)return;var h=i.array;o=i.version;for(var p=0,v=h.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var x=new(Gg(n)?ub:sb)(n,1);x.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,x)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Yk(e,t,n){var r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0!==o){t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,o);for(var s=0,l=0;l<o;l++)s+=a[l];n.update(s,r,1)}},this.renderMultiDrawInstances=function(e,s,l,u){if(0!==l){var c=t.get("WEBGL_multi_draw");if(null===c)for(var d=0;d<e.length;d++)o(e[d]/a,s[d],u[d]);else{c.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,u,0,l);for(var f=0,h=0;h<l;h++)f+=s[h]*u[h];n.update(f,r,1)}}}}function Zk(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Kk(e,t,n){var r=new WeakMap,i=new py;return{update:function(a,o,s){var l=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,c=void 0!==u?u.length:0,d=r.get(o);if(void 0===d||d.count!==c){void 0!==d&&d.texture.dispose();var f=void 0!==o.morphAttributes.position,h=void 0!==o.morphAttributes.normal,p=void 0!==o.morphAttributes.color,v=o.morphAttributes.position||[],m=o.morphAttributes.normal||[],g=o.morphAttributes.color||[],y=0;!0===f&&(y=1),!0===h&&(y=2),!0===p&&(y=3);var x=o.attributes.position.count*y,b=1;x>t.maxTextureSize&&(b=Math.ceil(x/t.maxTextureSize),x=t.maxTextureSize);var _=new Float32Array(x*b*4*c),w=new gy(_,x,b,c);w.type=Ev,w.needsUpdate=!0;for(var S=4*y,M=0;M<c;M++)for(var E=v[M],T=m[M],k=g[M],C=x*b*4*M,A=0;A<E.count;A++){var P=A*S;!0===f&&(i.fromBufferAttribute(E,A),_[C+P+0]=i.x,_[C+P+1]=i.y,_[C+P+2]=i.z,_[C+P+3]=0),!0===h&&(i.fromBufferAttribute(T,A),_[C+P+4]=i.x,_[C+P+5]=i.y,_[C+P+6]=i.z,_[C+P+7]=0),!0===p&&(i.fromBufferAttribute(k,A),_[C+P+8]=i.x,_[C+P+9]=i.y,_[C+P+10]=i.z,_[C+P+11]=4===k.itemSize?i.w:1)}d={count:c,texture:w,size:new Hg(x,b)},r.set(o,d),o.addEventListener("dispose",(function e(){w.dispose(),r.delete(o),o.removeEventListener("dispose",e)}))}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{for(var R=0,N=0;N<l.length;N++)R+=l[N];var L=o.morphTargetsRelative?1:1-R;s.getUniforms().setValue(e,"morphTargetBaseInfluence",L),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function Jk(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,l=o.geometry,u=t.get(o,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return u},dispose:function(){i=new WeakMap}}}var $k=new hy,Qk=new Hw(1,1),eC=new gy,tC=new xy,nC=new qb,rC=[],iC=[],aC=new Float32Array(16),oC=new Float32Array(9),sC=new Float32Array(4);function lC(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=rC[i];if(void 0===a&&(a=new Float32Array(i),rC[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function uC(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function cC(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function dC(e,t){var n=iC[t];void 0===n&&(n=new Int32Array(t),iC[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function fC(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function hC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uC(n,t))return;e.uniform2fv(this.addr,t),cC(n,t)}}function pC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(uC(n,t))return;e.uniform3fv(this.addr,t),cC(n,t)}}function vC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uC(n,t))return;e.uniform4fv(this.addr,t),cC(n,t)}}function mC(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(uC(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),cC(n,t)}else{if(uC(n,r))return;sC.set(r),e.uniformMatrix2fv(this.addr,!1,sC),cC(n,r)}}function gC(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(uC(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),cC(n,t)}else{if(uC(n,r))return;oC.set(r),e.uniformMatrix3fv(this.addr,!1,oC),cC(n,r)}}function yC(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(uC(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),cC(n,t)}else{if(uC(n,r))return;aC.set(r),e.uniformMatrix4fv(this.addr,!1,aC),cC(n,r)}}function xC(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function bC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uC(n,t))return;e.uniform2iv(this.addr,t),cC(n,t)}}function _C(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(uC(n,t))return;e.uniform3iv(this.addr,t),cC(n,t)}}function wC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uC(n,t))return;e.uniform4iv(this.addr,t),cC(n,t)}}function SC(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function MC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uC(n,t))return;e.uniform2uiv(this.addr,t),cC(n,t)}}function EC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(uC(n,t))return;e.uniform3uiv(this.addr,t),cC(n,t)}}function TC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uC(n,t))return;e.uniform4uiv(this.addr,t),cC(n,t)}}function kC(e,t,n){var r,i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),this.type===e.SAMPLER_2D_SHADOW?(Qk.compareFunction=fg,r=Qk):r=$k,n.setTexture2D(t||r,a)}function CC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||tC,i)}function AC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||nC,i)}function PC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||eC,i)}function RC(e,t){e.uniform1fv(this.addr,t)}function NC(e,t){var n=lC(t,this.size,2);e.uniform2fv(this.addr,n)}function LC(e,t){var n=lC(t,this.size,3);e.uniform3fv(this.addr,n)}function OC(e,t){var n=lC(t,this.size,4);e.uniform4fv(this.addr,n)}function IC(e,t){var n=lC(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function DC(e,t){var n=lC(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function UC(e,t){var n=lC(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function FC(e,t){e.uniform1iv(this.addr,t)}function zC(e,t){e.uniform2iv(this.addr,t)}function jC(e,t){e.uniform3iv(this.addr,t)}function BC(e,t){e.uniform4iv(this.addr,t)}function HC(e,t){e.uniform1uiv(this.addr,t)}function VC(e,t){e.uniform2uiv(this.addr,t)}function WC(e,t){e.uniform3uiv(this.addr,t)}function GC(e,t){e.uniform4uiv(this.addr,t)}function XC(e,t,n){var r=this.cache,i=t.length,a=dC(n,i);uC(r,a)||(e.uniform1iv(this.addr,a),cC(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||$k,a[o])}function qC(e,t,n){var r=this.cache,i=t.length,a=dC(n,i);uC(r,a)||(e.uniform1iv(this.addr,a),cC(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||tC,a[o])}function YC(e,t,n){var r=this.cache,i=t.length,a=dC(n,i);uC(r,a)||(e.uniform1iv(this.addr,a),cC(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||nC,a[o])}function ZC(e,t,n){var r=this.cache,i=t.length,a=dC(n,i);uC(r,a)||(e.uniform1iv(this.addr,a),cC(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||eC,a[o])}var KC=Sn((function e(t,n,r){_n(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=function(e){switch(e){case 5126:return fC;case 35664:return hC;case 35665:return pC;case 35666:return vC;case 35674:return mC;case 35675:return gC;case 35676:return yC;case 5124:case 35670:return xC;case 35667:case 35671:return bC;case 35668:case 35672:return _C;case 35669:case 35673:return wC;case 5125:return SC;case 36294:return MC;case 36295:return EC;case 36296:return TC;case 35678:case 36198:case 36298:case 36306:case 35682:return kC;case 35679:case 36299:case 36307:return CC;case 35680:case 36300:case 36308:case 36293:return AC;case 36289:case 36303:case 36311:case 36292:return PC}}(n.type)})),JC=Sn((function e(t,n,r){_n(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function(e){switch(e){case 5126:return RC;case 35664:return NC;case 35665:return LC;case 35666:return OC;case 35674:return IC;case 35675:return DC;case 35676:return UC;case 5124:case 35670:return FC;case 35667:case 35671:return zC;case 35668:case 35672:return jC;case 35669:case 35673:return BC;case 5125:return HC;case 36294:return VC;case 36295:return WC;case 36296:return GC;case 35678:case 36198:case 36298:case 36306:case 35682:return XC;case 35679:case 36299:case 36307:return qC;case 35680:case 36300:case 36308:case 36293:return YC;case 36289:case 36303:case 36311:case 36292:return ZC}}(n.type)})),$C=function(){function e(t){_n(this,e),this.id=t,this.seq=[],this.map={}}return Sn(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),QC=/(\w+)(\])?(\[|\.)?/g;function eA(e,t){e.seq.push(t),e.map[t.id]=t}function tA(e,t,n){var r=e.name,i=r.length;for(QC.lastIndex=0;;){var a=QC.exec(r),o=QC.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){eA(n,void 0===u?new KC(s,e,t):new JC(s,e,t));break}var c=n.map[s];void 0===c&&eA(n,c=new $C(s)),n=c}}var nA=function(){function e(t,n){_n(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);tA(a,t.getUniformLocation(n,a.name),this)}}return Sn(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function rA(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var iA=0;var aA=new Vg;function oA(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function sA(e,t){var n=function(e){ay._getMatrix(aA,ay.workingColorSpace,e);var t="mat3( ".concat(aA.elements.map((function(e){return e.toFixed(4)}))," )");switch(ay.getTransfer(e)){case Gm:return[t,"LinearTransferOETF"];case Xm:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return["vec4 ".concat(e,"( vec4 value ) {"),"\treturn ".concat(n[1],"( vec4( value.rgb * ").concat(n[0],", value.a ) );"),"}"].join("\n")}function lA(e,t){var n;switch(t){case Gp:n="Linear";break;case Xp:n="Reinhard";break;case qp:n="Cineon";break;case Yp:n="ACESFilmic";break;case Kp:n="AgX";break;case Jp:n="Neutral";break;case Zp:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}var uA=new wy;function cA(){ay.getLuminanceCoefficients(uA);var e=uA.x.toFixed(4),t=uA.y.toFixed(4),n=uA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {","\tconst vec3 weights = vec3( ".concat(e,", ").concat(t,", ").concat(n," );"),"\treturn dot( weights, rgb );","}"].join("\n")}function dA(e){return""!==e}function fA(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function hA(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var pA=/^[ \t]*#include +<([\w\d./]+)>/gm;function vA(e){return e.replace(pA,gA)}var mA=new Map;function gA(e,t){var n=gk[t];if(void 0===n){var r=mA.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=gk[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return vA(n)}var yA=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xA(e){return e.replace(yA,bA)}function bA(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function _A(e){var t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function wA(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===tp?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===np?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===rp&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case tv:case nv:t="ENVMAP_TYPE_CUBE";break;case av:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===nv&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Bp:t="ENVMAP_BLENDING_MULTIPLY";break;case Hp:t="ENVMAP_BLENDING_MIX";break;case Vp:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(dA).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(dA).join("\n")).length>0&&(i+="\n"),(a=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(dA).join("\n")).length>0&&(a+="\n")):(i=[_A(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(dA).join("\n"),a=[_A(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Wp?"#define TONE_MAPPING":"",n.toneMapping!==Wp?gk.tonemapping_pars_fragment:"",n.toneMapping!==Wp?lA("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",gk.colorspace_pars_fragment,sA("linearToOutputTexel",n.outputColorSpace),cA(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(dA).join("\n")),l=hA(l=fA(l=vA(l),n),n),u=hA(u=fA(u=vA(u),n),n),l=xA(l),u=xA(u),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=[v,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===kg?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kg?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var x,b,_=y+i+l,w=y+a+u,S=rA(o,o.VERTEX_SHADER,_),M=rA(o,o.FRAGMENT_SHADER,w);function E(t){if(e.debug.checkShaderErrors){var n=o.getProgramInfoLog(g).trim(),r=o.getShaderInfoLog(S).trim(),s=o.getShaderInfoLog(M).trim(),l=!0,u=!0;if(!1===o.getProgramParameter(g,o.LINK_STATUS))if(l=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,S,M);else{var c=oA(o,S,"vertex"),d=oA(o,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,o.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+c+"\n"+d)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==s||(u=!1);u&&(t.diagnostics={runnable:l,programLog:n,vertexShader:{log:r,prefix:i},fragmentShader:{log:s,prefix:a}})}o.deleteShader(S),o.deleteShader(M),x=new nA(o,g),b=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)}o.attachShader(g,S),o.attachShader(g,M),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),this.getUniforms=function(){return void 0===x&&E(this),x},this.getAttributes=function(){return void 0===b&&E(this),b};var T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=o.getProgramParameter(g,37297)),T},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=iA++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=M,this}var SA=0,MA=function(){function e(){_n(this,e),this.shaderCache=new Map,this.materialCache=new Map}return Sn(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=Un(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new EA(e),t.set(e,n)),n}}]),e}(),EA=Sn((function e(t){_n(this,e),this.id=SA++,this.code=t,this.usedTimes=0}));function TA(e,t,n,r,i,a,o){var s=new ux,l=new MA,u=new Set,c=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures,h=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return u.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,c,m,g){var y=m.fog,x=g.geometry,b=a.isMeshStandardMaterial?m.environment:null,_=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),w=_&&_.mapping===av?_.image.height:null,S=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",h,"instead.");var M,E,T,k,C=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,A=void 0!==C?C.length:0,P=0;if(void 0!==x.morphAttributes.position&&(P=1),void 0!==x.morphAttributes.normal&&(P=2),void 0!==x.morphAttributes.color&&(P=3),S){var R=xk[S];M=R.vertexShader,E=R.fragmentShader}else M=a.vertexShader,E=a.fragmentShader,l.update(a),T=l.getVertexShaderID(a),k=l.getFragmentShaderID(a);var N=e.getRenderTarget(),L=e.state.buffers.depth.getReversed(),O=!0===g.isInstancedMesh,I=!0===g.isBatchedMesh,D=!!a.map,U=!!a.matcap,F=!!_,z=!!a.aoMap,j=!!a.lightMap,B=!!a.bumpMap,H=!!a.normalMap,V=!!a.displacementMap,W=!!a.emissiveMap,G=!!a.metalnessMap,X=!!a.roughnessMap,q=a.anisotropy>0,Y=a.clearcoat>0,Z=a.dispersion>0,K=a.iridescence>0,J=a.sheen>0,$=a.transmission>0,Q=q&&!!a.anisotropyMap,ee=Y&&!!a.clearcoatMap,te=Y&&!!a.clearcoatNormalMap,ne=Y&&!!a.clearcoatRoughnessMap,re=K&&!!a.iridescenceMap,ie=K&&!!a.iridescenceThicknessMap,ae=J&&!!a.sheenColorMap,oe=J&&!!a.sheenRoughnessMap,se=!!a.specularMap,le=!!a.specularColorMap,ue=!!a.specularIntensityMap,ce=$&&!!a.transmissionMap,de=$&&!!a.thicknessMap,fe=!!a.gradientMap,he=!!a.alphaMap,pe=a.alphaTest>0,ve=!!a.alphaHash,me=!!a.extensions,ge=Wp;a.toneMapped&&(null!==N&&!0!==N.isXRRenderTarget||(ge=e.toneMapping));var ye={shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:M,fragmentShader:E,defines:a.defines,customVertexShaderID:T,customFragmentShaderID:k,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,batching:I,batchingColor:I&&null!==g._colorsTexture,instancing:O,instancingColor:O&&null!==g.instanceColor,instancingMorph:O&&null!==g.morphTexture,supportsVertexTextures:f,outputColorSpace:null===N?e.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:Wm,alphaToCoverage:!!a.alphaToCoverage,map:D,matcap:U,envMap:F,envMapMode:F&&_.mapping,envMapCubeUVHeight:w,aoMap:z,lightMap:j,bumpMap:B,normalMap:H,displacementMap:f&&V,emissiveMap:W,normalMapObjectSpace:H&&a.normalMapType===Bm,normalMapTangentSpace:H&&a.normalMapType===jm,metalnessMap:G,roughnessMap:X,anisotropy:q,anisotropyMap:Q,clearcoat:Y,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,dispersion:Z,iridescence:K,iridescenceMap:re,iridescenceThicknessMap:ie,sheen:J,sheenColorMap:ae,sheenRoughnessMap:oe,specularMap:se,specularColorMap:le,specularIntensityMap:ue,transmission:$,transmissionMap:ce,thicknessMap:de,gradientMap:fe,opaque:!1===a.transparent&&a.blending===lp&&!1===a.alphaToCoverage,alphaMap:he,alphaTest:pe,alphaHash:ve,combine:a.combine,mapUv:D&&v(a.map.channel),aoMapUv:z&&v(a.aoMap.channel),lightMapUv:j&&v(a.lightMap.channel),bumpMapUv:B&&v(a.bumpMap.channel),normalMapUv:H&&v(a.normalMap.channel),displacementMapUv:V&&v(a.displacementMap.channel),emissiveMapUv:W&&v(a.emissiveMap.channel),metalnessMapUv:G&&v(a.metalnessMap.channel),roughnessMapUv:X&&v(a.roughnessMap.channel),anisotropyMapUv:Q&&v(a.anisotropyMap.channel),clearcoatMapUv:ee&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:te&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:oe&&v(a.sheenRoughnessMap.channel),specularMapUv:se&&v(a.specularMap.channel),specularColorMapUv:le&&v(a.specularColorMap.channel),specularIntensityMapUv:ue&&v(a.specularIntensityMap.channel),transmissionMapUv:ce&&v(a.transmissionMap.channel),thicknessMapUv:de&&v(a.thicknessMap.channel),alphaMapUv:he&&v(a.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(H||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!x.attributes.uv&&(D||he),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:L,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:A,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,decodeVideoTexture:D&&!0===a.map.isVideoTexture&&ay.getTransfer(a.map.colorSpace)===Xm,decodeVideoTextureEmissive:W&&!0===a.emissiveMap.isVideoTexture&&ay.getTransfer(a.emissiveMap.colorSpace)===Xm,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===op,flipSided:a.side===ap,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:me&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===a.extensions.multiDraw||I)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ye.vertexUv1s=u.has(1),ye.vertexUv2s=u.has(2),ye.vertexUv3s=u.has(3),u.clear(),ye},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.reverseDepthBuffer&&s.enable(4);t.skinning&&s.enable(5);t.morphTargets&&s.enable(6);t.morphNormals&&s.enable(7);t.morphColors&&s.enable(8);t.premultipliedAlpha&&s.enable(9);t.shadowMapEnabled&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.decodeVideoTextureEmissive&&s.enable(20);t.alphaToCoverage&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=xk[n];t=Fb.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=c.length;i<o;i++){var s=c[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new wA(e,n,t,a),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function kA(){var e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function CA(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function AA(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function PA(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||CA),r.length>1&&r.sort(t||AA),i.length>1&&i.sort(t||AA)}}}function RA(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new PA,e.set(t,[r])):n>=i.length?(r=new PA,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function NA(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new wy,color:new Wx};break;case"SpotLight":n={position:new wy,direction:new wy,color:new Wx,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new wy,color:new Wx,distance:0,decay:0};break;case"HemisphereLight":n={direction:new wy,skyColor:new Wx,groundColor:new Wx};break;case"RectAreaLight":n={color:new Wx,position:new wy,halfWidth:new wy,halfHeight:new wy}}return e[t.id]=n,n}}}var LA=0;function OA(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function IA(e){for(var t=new NA,n=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hg};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hg,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},i=0;i<9;i++)r.probe.push(new wy);var a=new wy,o=new $y,s=new $y;return{setup:function(i){for(var a=0,o=0,s=0,l=0;l<9;l++)r.probe[l].set(0,0,0);var u=0,c=0,d=0,f=0,h=0,p=0,v=0,m=0,g=0,y=0,x=0;i.sort(OA);for(var b=0,_=i.length;b<_;b++){var w=i[b],S=w.color,M=w.intensity,E=w.distance,T=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)a+=S.r*M,o+=S.g*M,s+=S.b*M;else if(w.isLightProbe){for(var k=0;k<9;k++)r.probe[k].addScaledVector(w.sh.coefficients[k],M);x++}else if(w.isDirectionalLight){var C=t.get(w);if(C.color.copy(w.color).multiplyScalar(w.intensity),w.castShadow){var A=w.shadow,P=n.get(w);P.shadowIntensity=A.intensity,P.shadowBias=A.bias,P.shadowNormalBias=A.normalBias,P.shadowRadius=A.radius,P.shadowMapSize=A.mapSize,r.directionalShadow[u]=P,r.directionalShadowMap[u]=T,r.directionalShadowMatrix[u]=w.shadow.matrix,p++}r.directional[u]=C,u++}else if(w.isSpotLight){var R=t.get(w);R.position.setFromMatrixPosition(w.matrixWorld),R.color.copy(S).multiplyScalar(M),R.distance=E,R.coneCos=Math.cos(w.angle),R.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),R.decay=w.decay,r.spot[d]=R;var N=w.shadow;if(w.map&&(r.spotLightMap[g]=w.map,g++,N.updateMatrices(w),w.castShadow&&y++),r.spotLightMatrix[d]=N.matrix,w.castShadow){var L=n.get(w);L.shadowIntensity=N.intensity,L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,r.spotShadow[d]=L,r.spotShadowMap[d]=T,m++}d++}else if(w.isRectAreaLight){var O=t.get(w);O.color.copy(S).multiplyScalar(M),O.halfWidth.set(.5*w.width,0,0),O.halfHeight.set(0,.5*w.height,0),r.rectArea[f]=O,f++}else if(w.isPointLight){var I=t.get(w);if(I.color.copy(w.color).multiplyScalar(w.intensity),I.distance=w.distance,I.decay=w.decay,w.castShadow){var D=w.shadow,U=n.get(w);U.shadowIntensity=D.intensity,U.shadowBias=D.bias,U.shadowNormalBias=D.normalBias,U.shadowRadius=D.radius,U.shadowMapSize=D.mapSize,U.shadowCameraNear=D.camera.near,U.shadowCameraFar=D.camera.far,r.pointShadow[c]=U,r.pointShadowMap[c]=T,r.pointShadowMatrix[c]=w.shadow.matrix,v++}r.point[c]=I,c++}else if(w.isHemisphereLight){var F=t.get(w);F.skyColor.copy(w.color).multiplyScalar(M),F.groundColor.copy(w.groundColor).multiplyScalar(M),r.hemi[h]=F,h++}}f>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=yk.LTC_FLOAT_1,r.rectAreaLTC2=yk.LTC_FLOAT_2):(r.rectAreaLTC1=yk.LTC_HALF_1,r.rectAreaLTC2=yk.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;var z=r.hash;z.directionalLength===u&&z.pointLength===c&&z.spotLength===d&&z.rectAreaLength===f&&z.hemiLength===h&&z.numDirectionalShadows===p&&z.numPointShadows===v&&z.numSpotShadows===m&&z.numSpotMaps===g&&z.numLightProbes===x||(r.directional.length=u,r.spot.length=d,r.rectArea.length=f,r.point.length=c,r.hemi.length=h,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=m+g-y,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=y,r.numLightProbes=x,z.directionalLength=u,z.pointLength=c,z.spotLength=d,z.rectAreaLength=f,z.hemiLength=h,z.numDirectionalShadows=p,z.numPointShadows=v,z.numSpotShadows=m,z.numSpotMaps=g,z.numLightProbes=x,r.version=LA++)},setupView:function(e,t){for(var n=0,i=0,l=0,u=0,c=0,d=t.matrixWorldInverse,f=0,h=e.length;f<h;f++){var p=e[f];if(p.isDirectionalLight){var v=r.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(a),v.direction.transformDirection(d),n++}else if(p.isSpotLight){var m=r.spot[l];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(d),l++}else if(p.isRectAreaLight){var g=r.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(d),s.identity(),o.copy(p.matrixWorld),o.premultiply(d),s.extractRotation(o),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(s),g.halfHeight.applyMatrix4(s),u++}else if(p.isPointLight){var y=r.point[i];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(d),i++}else if(p.isHemisphereLight){var x=r.hemi[c];x.direction.setFromMatrixPosition(p.matrixWorld),x.direction.transformDirection(d),c++}}},state:r}}function DA(e){var t=new IA(e),n=[],r=[];var i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function UA(e){var t=new WeakMap;return{get:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.get(n);return void 0===a?(r=new DA(e),t.set(n,[r])):i>=a.length?(r=new DA(e),a.push(r)):r=a[i],r},dispose:function(){t=new WeakMap}}}function FA(e,t,n){var r,i=new Z_,a=new Hg,o=new Hg,s=new py,l=new wM({depthPacking:Um}),u=new SM,c={},d=n.maxTextureSize,f=(Fe(r={},ip,ap),Fe(r,ap,ip),Fe(r,op,op),r),h=new zb({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Hg},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;var v=new xb;v.setAttribute("position",new nb(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new Rb(v,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tp;var y=this.type;function x(n,r){var i=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new my(a.x,a.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,m,null)}function b(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?u:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,d=n.uuid,h=c[s];void 0===h&&(h={},c[s]=h);var p=h[d];void 0===p&&(p=a.clone(),h[d]=p,n.addEventListener("dispose",w)),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===rp?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function _(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===rp)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,d=0,f=c.length;d<f;d++){var h=c[d],p=u[h.materialIndex];if(p&&p.visible){var v=b(n,p,o,s);n.onBeforeShadow(e,n,r,a,l,v,h),e.renderBufferDirect(a,null,l,v,n,h),n.onAfterShadow(e,n,r,a,l,v,h)}}else if(u.visible){var m=b(n,u,o,s);n.onBeforeShadow(e,n,r,a,l,m,null),e.renderBufferDirect(a,null,l,m,n,null),n.onAfterShadow(e,n,r,a,l,m,null)}}for(var g=n.children,y=0,x=g.length;y<x;y++)_(g[y],r,a,o,s)}}function w(e){var t=e.target;for(var n in t.removeEventListener("dispose",w),c){var r=c[n],i=e.target.uuid;if(i in r)r[i].dispose(),delete r[i]}}this.render=function(t,n,r){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(sp),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var h=y!==rp&&this.type===rp,p=y===rp&&this.type!==rp,v=0,m=t.length;v<m;v++){var b=t[v],w=b.shadow;if(void 0!==w){if(!1!==w.autoUpdate||!1!==w.needsUpdate){a.copy(w.mapSize);var S=w.getFrameExtents();if(a.multiply(S),o.copy(w.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(o.x=Math.floor(d/S.x),a.x=o.x*S.x,w.mapSize.x=o.x),a.y>d&&(o.y=Math.floor(d/S.y),a.y=o.y*S.y,w.mapSize.y=o.y)),null===w.map||!0===h||!0===p){var M=this.type!==rp?{minFilter:uv,magFilter:uv}:{};null!==w.map&&w.map.dispose(),w.map=new my(a.x,a.y,M),w.map.texture.name=b.name+".shadowMap",w.camera.updateProjectionMatrix()}e.setRenderTarget(w.map),e.clear();for(var E=w.getViewportCount(),T=0;T<E;T++){var k=w.getViewport(T);s.set(o.x*k.x,o.y*k.y,o.x*k.z,o.y*k.w),f.viewport(s),w.updateMatrices(b,T),i=w.getFrustum(),_(n,r,w.camera,b,this.type)}!0!==w.isPointLightShadow&&this.type===rp&&x(w,r),w.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}y=this.type,g.needsUpdate=!1,e.setRenderTarget(l,u,c)}}}var zA=(Fe(fk={},Lp,Op),Fe(fk,Ip,zp),Fe(fk,Up,jp),Fe(fk,Dp,Fp),Fe(fk,Op,Lp),Fe(fk,zp,Ip),Fe(fk,jp,Up),Fe(fk,Fp,Dp),fk);function jA(e,t){var n,r;var i=new function(){var t=!1,n=new py,r=null,i=new py(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){var n=t.get("EXT_clip_control");r?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT);var i=o;o=null,this.setClear(i)}r=e},getReversed:function(){return r},setTest:function(t){t?H(e.DEPTH_TEST):V(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=zA[t]),a!==t){switch(t){case Lp:e.depthFunc(e.NEVER);break;case Op:e.depthFunc(e.ALWAYS);break;case Ip:e.depthFunc(e.LESS);break;case Dp:e.depthFunc(e.LEQUAL);break;case Up:e.depthFunc(e.EQUAL);break;case Fp:e.depthFunc(e.GEQUAL);break;case zp:e.depthFunc(e.GREATER);break;case jp:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}},o=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?H(e.STENCIL_TEST):V(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},s=new WeakMap,l=new WeakMap,u={},c={},d=new WeakMap,f=[],h=null,p=!1,v=null,m=null,g=null,y=null,x=null,b=null,_=null,w=new Wx(0,0,0),S=0,M=!1,E=null,T=null,k=null,C=null,A=null,P=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),R=!1,N=0,L=e.getParameter(e.VERSION);-1!==L.indexOf("WebGL")?(N=parseFloat(/^WebGL (\d)/.exec(L)[1]),R=N>=1):-1!==L.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),R=N>=2);var O=null,I={},D=e.getParameter(e.SCISSOR_BOX),U=e.getParameter(e.VIEWPORT),F=(new py).fromArray(D),z=(new py).fromArray(U);function j(t,n,r,i){var a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}var B={};function H(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function V(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}B[e.TEXTURE_2D]=j(e.TEXTURE_2D,e.TEXTURE_2D,1),B[e.TEXTURE_CUBE_MAP]=j(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),B[e.TEXTURE_2D_ARRAY]=j(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),B[e.TEXTURE_3D]=j(e.TEXTURE_3D,e.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),H(e.DEPTH_TEST),a.setFunc(Dp),q(!1),Y(Jh),H(e.CULL_FACE),X(sp);var W=(Fe(n={},hp,e.FUNC_ADD),Fe(n,pp,e.FUNC_SUBTRACT),Fe(n,vp,e.FUNC_REVERSE_SUBTRACT),n);W[mp]=e.MIN,W[gp]=e.MAX;var G=(Fe(r={},yp,e.ZERO),Fe(r,xp,e.ONE),Fe(r,bp,e.SRC_COLOR),Fe(r,wp,e.SRC_ALPHA),Fe(r,Cp,e.SRC_ALPHA_SATURATE),Fe(r,Tp,e.DST_COLOR),Fe(r,Mp,e.DST_ALPHA),Fe(r,_p,e.ONE_MINUS_SRC_COLOR),Fe(r,Sp,e.ONE_MINUS_SRC_ALPHA),Fe(r,kp,e.ONE_MINUS_DST_COLOR),Fe(r,Ep,e.ONE_MINUS_DST_ALPHA),Fe(r,Ap,e.CONSTANT_COLOR),Fe(r,Pp,e.ONE_MINUS_CONSTANT_COLOR),Fe(r,Rp,e.CONSTANT_ALPHA),Fe(r,Np,e.ONE_MINUS_CONSTANT_ALPHA),r);function X(t,n,r,i,a,o,s,l,u,c){if(t!==sp){if(!1===p&&(H(e.BLEND),p=!0),t===fp)a=a||n,o=o||r,s=s||i,n===m&&a===x||(e.blendEquationSeparate(W[n],W[a]),m=n,x=a),r===g&&i===y&&o===b&&s===_||(e.blendFuncSeparate(G[r],G[i],G[o],G[s]),g=r,y=i,b=o,_=s),!1!==l.equals(w)&&u===S||(e.blendColor(l.r,l.g,l.b,u),w.copy(l),S=u),v=t,M=!1;else if(t!==v||c!==M){if(m===hp&&x===hp||(e.blendEquation(e.FUNC_ADD),m=hp,x=hp),c)switch(t){case lp:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case up:e.blendFunc(e.ONE,e.ONE);break;case cp:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case dp:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case lp:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case up:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case cp:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case dp:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,b=null,_=null,w.set(0,0,0),S=0,v=t,M=c}}else!0===p&&(V(e.BLEND),p=!1)}function q(t){E!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),E=t)}function Y(t){t!==Kh?(H(e.CULL_FACE),t!==T&&(t===Jh?e.cullFace(e.BACK):t===$h?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):V(e.CULL_FACE),T=t}function Z(t,n,r){t?(H(e.POLYGON_OFFSET_FILL),C===n&&A===r||(e.polygonOffset(n,r),C=n,A=r)):V(e.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:a,stencil:o},enable:H,disable:V,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){var r=f,i=!1;if(t){void 0===(r=d.get(n))&&(r=[],d.set(n,r));var a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(var o=0,s=a.length;o<s;o++)r[o]=e.COLOR_ATTACHMENT0+o;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:X,setMaterial:function(t,n){t.side===op?V(e.CULL_FACE):H(e.CULL_FACE);var r=t.side===ap;n&&(r=!r),q(r),t.blending===lp&&!1===t.transparent?X(sp):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),i.setMask(t.colorWrite);var s=t.stencilWrite;o.setTest(s),s&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Z(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?H(e.SAMPLE_ALPHA_TO_COVERAGE):V(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:q,setCullFace:Y,setLineWidth:function(t){t!==k&&(R&&e.lineWidth(t),k=t)},setPolygonOffset:Z,setScissorTest:function(t){t?H(e.SCISSOR_TEST):V(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+P-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?e.TEXTURE0+P-1:O);var i=I[r];void 0===i&&(i={type:void 0,texture:void 0},I[r]=i),i.type===t&&i.texture===n||(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||B[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=I[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},updateUBOMapping:function(t,n){var r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=l.get(n).get(t);s.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(UR){console.error("THREE.WebGLState:",UR)}},scissor:function(t){!1===F.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),a.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},O=null,I={},c={},d=new WeakMap,f=[],h=null,p=!1,v=null,m=null,g=null,y=null,x=null,b=null,_=null,w=new Wx(0,0,0),S=0,M=!1,E=null,T=null,k=null,C=null,A=null,F.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}}}function BA(e,t,n,r,i,a,o){var s,l,u,c,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),h=new Hg,p=new WeakMap,v=new WeakMap,m=!1;try{m="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(G){}function g(e,t){return m?new OffscreenCanvas(e,t):Yg("canvas")}function y(e,t,n){var r=1,i=W(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){var a=Math.floor(r*i.width),o=Math.floor(r*i.height);void 0===c&&(c=g(a,o));var s=t?g(a,o):c;return s.width=a,s.height=o,s.getContext("2d").drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+a+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function x(e){return e.generateMipmaps}function b(t){e.generateMipmap(t)}function _(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function w(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),r===e.RGBA){var l=o?Gm:ay.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=l===Xm?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function S(t,n){var r;return t?null===n||n===Mv||n===Av?r=e.DEPTH24_STENCIL8:n===Ev?r=e.DEPTH32F_STENCIL8:n===wv&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===Mv||n===Av?r=e.DEPTH_COMPONENT24:n===Ev?r=e.DEPTH_COMPONENT32F:n===wv&&(r=e.DEPTH_COMPONENT16),r}function M(e,t){return!0===x(e)||e.isFramebufferTexture&&e.minFilter!==uv&&e.minFilter!==pv?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(e){var t=e.target;t.removeEventListener("dispose",E),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=v.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&k(e),0===Object.keys(i).length&&v.delete(n)}r.remove(e)}(t),t.isVideoTexture&&p.delete(t)}function T(t){var n=t.target;n.removeEventListener("dispose",T),function(t){var n=r.get(t);t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(var i=0;i<6;i++){if(Array.isArray(n.__webglFramebuffer[i]))for(var a=0;a<n.__webglFramebuffer[i].length;a++)e.deleteFramebuffer(n.__webglFramebuffer[i][a]);else e.deleteFramebuffer(n.__webglFramebuffer[i]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i])}else{if(Array.isArray(n.__webglFramebuffer))for(var s=0;s<n.__webglFramebuffer.length;s++)e.deleteFramebuffer(n.__webglFramebuffer[s]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(var l=0;l<n.__webglColorRenderbuffer.length;l++)n.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[l]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}for(var u=t.textures,c=0,d=u.length;c<d;c++){var f=r.get(u[c]);f.__webglTexture&&(e.deleteTexture(f.__webglTexture),o.memory.textures--),r.remove(u[c])}r.remove(t)}(n)}function k(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete v.get(i)[n.__cacheKey],o.memory.textures--}var C=0;function A(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void I(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var P=(Fe(s={},ov,e.REPEAT),Fe(s,sv,e.CLAMP_TO_EDGE),Fe(s,lv,e.MIRRORED_REPEAT),s),R=(Fe(l={},uv,e.NEAREST),Fe(l,cv,e.NEAREST_MIPMAP_NEAREST),Fe(l,fv,e.NEAREST_MIPMAP_LINEAR),Fe(l,pv,e.LINEAR),Fe(l,vv,e.LINEAR_MIPMAP_NEAREST),Fe(l,gv,e.LINEAR_MIPMAP_LINEAR),l),N=(Fe(u={},ug,e.NEVER),Fe(u,mg,e.ALWAYS),Fe(u,cg,e.LESS),Fe(u,fg,e.LEQUAL),Fe(u,dg,e.EQUAL),Fe(u,vg,e.GEQUAL),Fe(u,hg,e.GREATER),Fe(u,pg,e.NOTEQUAL),u);function L(n,a){if(a.type!==Ev||!1!==t.has("OES_texture_float_linear")||a.magFilter!==pv&&a.magFilter!==vv&&a.magFilter!==fv&&a.magFilter!==gv&&a.minFilter!==pv&&a.minFilter!==vv&&a.minFilter!==fv&&a.minFilter!==gv||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,P[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,P[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,P[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,R[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,R[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,N[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===uv)return;if(a.minFilter!==fv&&a.minFilter!==gv)return;if(a.type===Ev&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){var o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function O(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E));var i=n.source,a=v.get(i);void 0===a&&(a={},v.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&k(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function I(t,o,s){var l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);var u=O(t,o),c=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);var d=r.get(c);if(c.version!==d.__version||!0===u){n.activeTexture(e.TEXTURE0+s);var f=ay.getPrimaries(ay.workingColorSpace),h=o.colorSpace===Hm?null:ay.getPrimaries(o.colorSpace),p=o.colorSpace===Hm||f===h?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);var v=y(o.image,!1,i.maxTextureSize);v=V(o,v);var m,g=a.convert(o.format,o.colorSpace),_=a.convert(o.type),E=w(o.internalFormat,g,_,o.colorSpace,o.isVideoTexture);L(l,o);var T=o.mipmaps,k=!0!==o.isVideoTexture,C=void 0===d.__version||!0===u,A=c.dataReady,P=M(o,v);if(o.isDepthTexture)E=S(o.format===Uv,o.type),C&&(k?n.texStorage2D(e.TEXTURE_2D,1,E,v.width,v.height):n.texImage2D(e.TEXTURE_2D,0,E,v.width,v.height,0,g,_,null));else if(o.isDataTexture)if(T.length>0){k&&C&&n.texStorage2D(e.TEXTURE_2D,P,E,T[0].width,T[0].height);for(var R=0,N=T.length;R<N;R++)m=T[R],k?A&&n.texSubImage2D(e.TEXTURE_2D,R,0,0,m.width,m.height,g,_,m.data):n.texImage2D(e.TEXTURE_2D,R,E,m.width,m.height,0,g,_,m.data);o.generateMipmaps=!1}else k?(C&&n.texStorage2D(e.TEXTURE_2D,P,E,v.width,v.height),A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,v.width,v.height,g,_,v.data)):n.texImage2D(e.TEXTURE_2D,0,E,v.width,v.height,0,g,_,v.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){k&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,E,T[0].width,T[0].height,v.depth);for(var I=0,D=T.length;I<D;I++)if(m=T[I],o.format!==Lv)if(null!==g)if(k){if(A)if(o.layerUpdates.size>0){var U,F=dk(m.width,m.height,o.format,o.type),z=Un(o.layerUpdates);try{for(z.s();!(U=z.n()).done;){var j=U.value,B=m.data.subarray(j*F/m.data.BYTES_PER_ELEMENT,(j+1)*F/m.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,j,m.width,m.height,1,g,B)}}catch(G){z.e(G)}finally{z.f()}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,m.width,m.height,v.depth,g,m.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,I,E,m.width,m.height,v.depth,0,m.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else k?A&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,m.width,m.height,v.depth,g,_,m.data):n.texImage3D(e.TEXTURE_2D_ARRAY,I,E,m.width,m.height,v.depth,0,g,_,m.data)}else{k&&C&&n.texStorage2D(e.TEXTURE_2D,P,E,T[0].width,T[0].height);for(var H=0,X=T.length;H<X;H++)m=T[H],o.format!==Lv?null!==g?k?A&&n.compressedTexSubImage2D(e.TEXTURE_2D,H,0,0,m.width,m.height,g,m.data):n.compressedTexImage2D(e.TEXTURE_2D,H,E,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?A&&n.texSubImage2D(e.TEXTURE_2D,H,0,0,m.width,m.height,g,_,m.data):n.texImage2D(e.TEXTURE_2D,H,E,m.width,m.height,0,g,_,m.data)}else if(o.isDataArrayTexture)if(k){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,E,v.width,v.height,v.depth),A)if(o.layerUpdates.size>0){var q,Y=dk(v.width,v.height,o.format,o.type),Z=Un(o.layerUpdates);try{for(Z.s();!(q=Z.n()).done;){var K=q.value,J=v.data.subarray(K*Y/v.data.BYTES_PER_ELEMENT,(K+1)*Y/v.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,K,v.width,v.height,1,g,_,J)}}catch(G){Z.e(G)}finally{Z.f()}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,v.width,v.height,v.depth,g,_,v.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,E,v.width,v.height,v.depth,0,g,_,v.data);else if(o.isData3DTexture)k?(C&&n.texStorage3D(e.TEXTURE_3D,P,E,v.width,v.height,v.depth),A&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,v.width,v.height,v.depth,g,_,v.data)):n.texImage3D(e.TEXTURE_3D,0,E,v.width,v.height,v.depth,0,g,_,v.data);else if(o.isFramebufferTexture){if(C)if(k)n.texStorage2D(e.TEXTURE_2D,P,E,v.width,v.height);else for(var $=v.width,Q=v.height,ee=0;ee<P;ee++)n.texImage2D(e.TEXTURE_2D,ee,E,$,Q,0,g,_,null),$>>=1,Q>>=1}else if(T.length>0){if(k&&C){var te=W(T[0]);n.texStorage2D(e.TEXTURE_2D,P,E,te.width,te.height)}for(var ne=0,re=T.length;ne<re;ne++)m=T[ne],k?A&&n.texSubImage2D(e.TEXTURE_2D,ne,0,0,g,_,m):n.texImage2D(e.TEXTURE_2D,ne,E,g,_,m);o.generateMipmaps=!1}else if(k){if(C){var ie=W(v);n.texStorage2D(e.TEXTURE_2D,P,E,ie.width,ie.height)}A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,_,v)}else n.texImage2D(e.TEXTURE_2D,0,E,g,_,v);x(o)&&b(l),d.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function D(t,i,o,s,l,u){var c=a.convert(o.format,o.colorSpace),f=a.convert(o.type),h=w(o.internalFormat,c,f,o.colorSpace),p=r.get(i),v=r.get(o);if(v.__renderTarget=i,!p.__hasExternalTextures){var m=Math.max(1,i.width>>u),g=Math.max(1,i.height>>u);l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,u,h,m,g,i.depth,0,c,f,null):n.texImage2D(l,u,h,m,g,0,c,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),H(i)?d.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,v.__webglTexture,0,B(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,v.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function U(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){var i=n.depthTexture,o=i&&i.isDepthTexture?i.type:null,s=S(n.stencilBuffer,o),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=B(n);H(n)?d.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,s,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,s,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,s,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else for(var c=n.textures,f=0;f<c.length;f++){var h=c[f],p=a.convert(h.format,h.colorSpace),v=a.convert(h.type),m=w(h.internalFormat,p,v,h.colorSpace),g=B(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,g,m,n.width,n.height):H(n)?d.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,g,m,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,m,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function F(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){var o=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),o){var s=function e(){delete i.__boundDepthTexture,delete i.__depthDisposeCallback,o.removeEventListener("dispose",e)};o.addEventListener("dispose",s),i.__depthDisposeCallback=s}i.__boundDepthTexture=o}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");var a=r.get(i.depthTexture);a.__renderTarget=i,a.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),A(i.depthTexture,0);var o=a.__webglTexture,s=B(i);if(i.depthTexture.format===Dv)H(i)?d.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==Uv)throw new Error("Unknown depthTexture format");H(i)?d.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var l=0;l<6;l++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[l]),void 0===i.__webglDepthbuffer[l])i.__webglDepthbuffer[l]=e.createRenderbuffer(),U(i.__webglDepthbuffer[l],t,!1);else{var u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=i.__webglDepthbuffer[l];e.bindRenderbuffer(e.RENDERBUFFER,c),e.framebufferRenderbuffer(e.FRAMEBUFFER,u,e.RENDERBUFFER,c)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);else{var f=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,h=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,h),e.framebufferRenderbuffer(e.FRAMEBUFFER,f,e.RENDERBUFFER,h)}n.bindFramebuffer(e.FRAMEBUFFER,null)}var z=[],j=[];function B(e){return Math.min(i.maxSamples,e.samples)}function H(e){var n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,t){var n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Wm&&n!==Hm&&(ay.getTransfer(n)===Xm?r===Lv&&i===xv||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function W(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(h.width=e.naturalWidth||e.width,h.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(h.width=e.displayWidth,h.height=e.displayHeight):(h.width=e.width,h.height=e.height),h}this.allocateTextureUnit=function(){var e=C;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),C+=1,e},this.resetTextureUnits=function(){C=0},this.setTexture2D=A,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?I(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?I(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){var s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;var l=O(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);var c=r.get(u);if(u.version!==c.__version||!0===l){n.activeTexture(e.TEXTURE0+s);var d=ay.getPrimaries(ay.workingColorSpace),f=o.colorSpace===Hm?null:ay.getPrimaries(o.colorSpace),h=o.colorSpace===Hm||d===f?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);for(var p=o.isCompressedTexture||o.image[0].isCompressedTexture,v=o.image[0]&&o.image[0].isDataTexture,m=[],g=0;g<6;g++)m[g]=p||v?v?o.image[g].image:o.image[g]:y(o.image[g],!0,i.maxCubemapSize),m[g]=V(o,m[g]);var _,S=m[0],E=a.convert(o.format,o.colorSpace),T=a.convert(o.type),k=w(o.internalFormat,E,T,o.colorSpace),C=!0!==o.isVideoTexture,A=void 0===c.__version||!0===l,P=u.dataReady,R=M(o,S);if(L(e.TEXTURE_CUBE_MAP,o),p){C&&A&&n.texStorage2D(e.TEXTURE_CUBE_MAP,R,k,S.width,S.height);for(var N=0;N<6;N++){_=m[N].mipmaps;for(var I=0;I<_.length;I++){var D=_[I];o.format!==Lv?null!==E?C?P&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,I,0,0,D.width,D.height,E,D.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,I,k,D.width,D.height,0,D.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):C?P&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,I,0,0,D.width,D.height,E,T,D.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,I,k,D.width,D.height,0,E,T,D.data)}}}else{if(_=o.mipmaps,C&&A){_.length>0&&R++;var U=W(m[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,R,k,U.width,U.height)}for(var F=0;F<6;F++)if(v){C?P&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,m[F].width,m[F].height,E,T,m[F].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,k,m[F].width,m[F].height,0,E,T,m[F].data);for(var z=0;z<_.length;z++){var j=_[z].image[F].image;C?P&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,z+1,0,0,j.width,j.height,E,T,j.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,z+1,k,j.width,j.height,0,E,T,j.data)}}else{C?P&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,E,T,m[F]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,k,E,T,m[F]);for(var B=0;B<_.length;B++){var H=_[B];C?P&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,B+1,0,0,E,T,H.image[F]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,B+1,k,E,T,H.image[F])}}}x(o)&&b(e.TEXTURE_CUBE_MAP),c.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&D(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&F(t)},this.setupRenderTarget=function(t){var i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",T);var u=t.textures,c=!0===t.isWebGLCubeRenderTarget,d=u.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),c){s.__webglFramebuffer=[];for(var f=0;f<6;f++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[f]=[];for(var h=0;h<i.mipmaps.length;h++)s.__webglFramebuffer[f][h]=e.createFramebuffer()}else s.__webglFramebuffer[f]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(var p=0;p<i.mipmaps.length;p++)s.__webglFramebuffer[p]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(var v=0,m=u.length;v<m;v++){var g=r.get(u[v]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===H(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(var y=0;y<u.length;y++){var _=u[y];s.__webglColorRenderbuffer[y]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[y]);var S=a.convert(_.format,_.colorSpace),M=a.convert(_.type),E=w(_.internalFormat,S,M,_.colorSpace,!0===t.isXRRenderTarget),k=B(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,k,E,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.RENDERBUFFER,s.__webglColorRenderbuffer[y])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),U(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),L(e.TEXTURE_CUBE_MAP,i);for(var C=0;C<6;C++)if(i.mipmaps&&i.mipmaps.length>0)for(var A=0;A<i.mipmaps.length;A++)D(s.__webglFramebuffer[C][A],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+C,A);else D(s.__webglFramebuffer[C],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+C,0);x(i)&&b(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(var P=0,R=u.length;P<R;P++){var N=u[P],O=r.get(N);n.bindTexture(e.TEXTURE_2D,O.__webglTexture),L(e.TEXTURE_2D,N),D(s.__webglFramebuffer,t,N,e.COLOR_ATTACHMENT0+P,e.TEXTURE_2D,0),x(N)&&b(e.TEXTURE_2D)}n.unbindTexture()}else{var I=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(I=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(I,l.__webglTexture),L(I,i),i.mipmaps&&i.mipmaps.length>0)for(var z=0;z<i.mipmaps.length;z++)D(s.__webglFramebuffer[z],t,i,e.COLOR_ATTACHMENT0,I,z);else D(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,I,0);x(i)&&b(I),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){for(var t=e.textures,i=0,a=t.length;i<a;i++){var o=t[i];if(x(o)){var s=_(e),l=r.get(o).__webglTexture;n.bindTexture(s,l),b(s),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===H(t)){var i=t.textures,a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),c=i.length>1;if(c)for(var d=0;d<i.length;d++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+d,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+d,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(var h=0;h<i.length;h++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),c){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[h]);var p=r.get(i[h]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,p,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===f&&(z.length=0,j.length=0,z.push(e.COLOR_ATTACHMENT0+h),t.depthBuffer&&!1===t.resolveDepthBuffer&&(z.push(l),j.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,j)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,z))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),c)for(var v=0;v<i.length;v++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+v,e.RENDERBUFFER,u.__webglColorRenderbuffer[v]);var m=r.get(i[v]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+v,e.TEXTURE_2D,m,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&f){var g=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[g])}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=D,this.useMultisampledRTT=H}function HA(e,t){return{convert:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hm,a=ay.getTransfer(i);if(n===xv)return e.UNSIGNED_BYTE;if(n===kv)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Cv)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Pv)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===bv)return e.BYTE;if(n===_v)return e.SHORT;if(n===wv)return e.UNSIGNED_SHORT;if(n===Sv)return e.INT;if(n===Mv)return e.UNSIGNED_INT;if(n===Ev)return e.FLOAT;if(n===Tv)return e.HALF_FLOAT;if(n===Rv)return e.ALPHA;if(n===Nv)return e.RGB;if(n===Lv)return e.RGBA;if(n===Ov)return e.LUMINANCE;if(n===Iv)return e.LUMINANCE_ALPHA;if(n===Dv)return e.DEPTH_COMPONENT;if(n===Uv)return e.DEPTH_STENCIL;if(n===Fv)return e.RED;if(n===zv)return e.RED_INTEGER;if(n===jv)return e.RG;if(n===Bv)return e.RG_INTEGER;if(n===Vv)return e.RGBA_INTEGER;if(n===Wv||n===Gv||n===Xv||n===qv)if(a===Xm){if(null===(r=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Wv)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Gv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Xv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===qv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Wv)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Gv)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Xv)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===qv)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Yv||n===Zv||n===Kv||n===Jv){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===Yv)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Zv)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Kv)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Jv)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===$v||n===Qv||n===em){if(null===(r=t.get("WEBGL_compressed_texture_etc")))return null;if(n===$v||n===Qv)return a===Xm?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===em)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===tm||n===nm||n===rm||n===im||n===am||n===om||n===sm||n===lm||n===um||n===cm||n===dm||n===fm||n===hm||n===pm){if(null===(r=t.get("WEBGL_compressed_texture_astc")))return null;if(n===tm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===nm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===rm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===im)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===am)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===om)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===sm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===lm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===um)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===cm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===dm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===fm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===hm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===pm)return a===Xm?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===vm||n===mm||n===gm){if(null===(r=t.get("EXT_texture_compression_bptc")))return null;if(n===vm)return a===Xm?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===mm)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===gm)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===ym||n===xm||n===bm||n===_m){if(null===(r=t.get("EXT_texture_compression_rgtc")))return null;if(n===vm)return r.COMPRESSED_RED_RGTC1_EXT;if(n===xm)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===bm)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===_m)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Av?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}var VA={type:"move"},WA=function(){function e(){_n(this,e),this._targetRay=null,this._grip=null,this._hand=null}return Sn(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Iw,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Iw,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new wy,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new wy),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Iw,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new wy,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new wy),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=Un(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=Un(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,f=t.getJointPose(d,n),h=this._getHandJoint(l,d);null!==f&&(h.matrix.fromArray(f.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=f.radius),h.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],m=p.position.distanceTo(v.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(VA)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new Iw;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),GA=function(){function e(){_n(this,e),this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}return Sn(e,[{key:"init",value:function(e,t,n){if(null===this.texture){var r=new hy;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}},{key:"getMesh",value:function(e){if(null!==this.texture&&null===this.mesh){var t=e.cameras[0].viewport,n=new zb({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Rb(new rM(20,20),n)}return this.mesh}},{key:"reset",value:function(){this.texture=null,this.mesh=null}},{key:"getDepthTexture",value:function(){return this.texture}}]),e}(),XA=function(e){En(n,e);var t=Pn(n);function n(e,r){var i;_n(this,n);var a=Cn(i=t.call(this)),o=null,s=1,l=null,u="local-floor",c=1,d=null,f=null,h=null,p=null,v=null,m=null,g=new GA,y=r.getContextAttributes(),x=null,b=null,_=[],w=[],S=new Hg,M=null,E=new Wb;E.viewport=new py;var T=new Wb;T.viewport=new py;var k=[E,T],C=new BE,A=null,P=null;function R(e){var t=w.indexOf(e.inputSource);if(-1!==t){var n=_[t];void 0!==n&&(n.update(e.inputSource,e.frame,d||l),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function N(){o.removeEventListener("select",R),o.removeEventListener("selectstart",R),o.removeEventListener("selectend",R),o.removeEventListener("squeeze",R),o.removeEventListener("squeezestart",R),o.removeEventListener("squeezeend",R),o.removeEventListener("end",N),o.removeEventListener("inputsourceschange",L);for(var t=0;t<_.length;t++){var n=w[t];null!==n&&(w[t]=null,_[t].disconnect(n))}A=null,P=null,g.reset(),e.setRenderTarget(x),v=null,p=null,h=null,o=null,b=null,F.stop(),a.isPresenting=!1,e.setPixelRatio(M),e.setSize(S.width,S.height,!1),a.dispatchEvent({type:"sessionend"})}function L(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=w.indexOf(n);r>=0&&(w[r]=null,_[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=w.indexOf(a);if(-1===o){for(var s=0;s<_.length;s++){if(s>=w.length){w.push(a),o=s;break}if(null===w[s]){w[s]=a,o=s;break}}if(-1===o)break}var l=_[o];l&&l.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=_[e];return void 0===t&&(t=new WA,_[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=_[e];return void 0===t&&(t=new WA,_[e]=t),t.getGripSpace()},i.getHand=function(e){var t=_[e];return void 0===t&&(t=new WA,_[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return d||l},i.setReferenceSpace=function(e){d=e},i.getBaseLayer=function(){return null!==p?p:v},i.getBinding=function(){return h},i.getFrame=function(){return m},i.getSession=function(){return o},i.setSession=function(){var t=Ln(Rn().mark((function t(n){var i,f,m,g,_;return Rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=27;break}if(x=e.getRenderTarget(),o.addEventListener("select",R),o.addEventListener("selectstart",R),o.addEventListener("selectend",R),o.addEventListener("squeeze",R),o.addEventListener("squeezestart",R),o.addEventListener("squeezeend",R),o.addEventListener("end",N),o.addEventListener("inputsourceschange",L),!0===y.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return M=e.getPixelRatio(),e.getSize(S),void 0===o.renderState.layers?(i={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s},v=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),b=new my(v.framebufferWidth,v.framebufferHeight,{format:Lv,type:xv,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})):(f=null,m=null,g=null,y.depth&&(g=y.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,f=y.stencil?Uv:Dv,m=y.stencil?Av:Mv),_={colorFormat:r.RGBA8,depthFormat:g,scaleFactor:s},h=new XRWebGLBinding(o,r),p=h.createProjectionLayer(_),o.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),b=new my(p.textureWidth,p.textureHeight,{format:Lv,type:xv,depthTexture:new Hw(p.textureWidth,p.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,f),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:!1===p.ignoreDepthValues})),b.isXRRenderTarget=!0,this.setFoveation(c),d=null,t.next=22,o.requestReferenceSpace(u);case 22:l=t.sent,F.setContext(o),F.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode},i.getDepthTexture=function(){return g.getDepthTexture()};var O=new wy,I=new wy;function D(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){var t=e.near,n=e.far;null!==g.texture&&(g.depthNear>0&&(t=g.depthNear),g.depthFar>0&&(n=g.depthFar)),C.near=T.near=E.near=t,C.far=T.far=E.far=n,A===C.near&&P===C.far||(o.updateRenderState({depthNear:C.near,depthFar:C.far}),A=C.near,P=C.far),E.layers.mask=2|e.layers.mask,T.layers.mask=4|e.layers.mask,C.layers.mask=E.layers.mask|T.layers.mask;var r=e.parent,i=C.cameras;D(C,r);for(var a=0;a<i.length;a++)D(i[a],r);2===i.length?function(e,t,n){O.setFromMatrixPosition(t.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);var r=O.distanceTo(I),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*c,h=o*d,p=r/(-c+d),v=p*-c;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{var m=o+p,g=s+p,y=f-v,x=h+(r-v),b=l*s/g*m,_=u*s/g*m;e.projectionMatrix.makePerspective(y,x,b,_,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(C,E,T):C.projectionMatrix.copy(E.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Og*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,C,r)}},i.getCamera=function(){return C},i.getFoveation=function(){if(null!==p||null!==v)return c},i.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=e)},i.hasDepthSensing=function(){return null!==g.texture},i.getDepthSensingMesh=function(){return g.getMesh(C)};var U=null;var F=new vk;return F.setAnimationLoop((function(t,n){if(f=n.getViewerPose(d||l),m=n,null!==f){var r=f.views;null!==v&&(e.setRenderTargetFramebuffer(b,v.framebuffer),e.setRenderTarget(b));var i=!1;r.length!==C.cameras.length&&(C.cameras.length=0,i=!0);for(var s=0;s<r.length;s++){var u=r[s],c=null;if(null!==v)c=v.getViewport(u);else{var y=h.getViewSubImage(p,u);c=y.viewport,0===s&&(e.setRenderTargetTextures(b,y.colorTexture,p.ignoreDepthValues?void 0:y.depthStencilTexture),e.setRenderTarget(b))}var x=k[s];void 0===x&&((x=new Wb).layers.enable(s),x.viewport=new py,k[s]=x),x.matrix.fromArray(u.transform.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale),x.projectionMatrix.fromArray(u.projectionMatrix),x.projectionMatrixInverse.copy(x.projectionMatrix).invert(),x.viewport.set(c.x,c.y,c.width,c.height),0===s&&(C.matrix.copy(x.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===i&&C.cameras.push(x)}var S=o.enabledFeatures;if(S&&S.includes("depth-sensing")){var M=h.getDepthInformation(r[0]);M&&M.isValid&&M.texture&&g.init(e,M,o.renderState)}}for(var E=0;E<_.length;E++){var T=w[E],A=_[E];null!==T&&void 0!==A&&A.update(T,n,d||l)}U&&U(t,n),n.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:n}),m=null})),i.setAnimationLoop=function(e){U=e},i.dispose=function(){},i}return Sn(n)}(Pg),qA=new lx,YA=new $y;function ZA(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===ap&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===ap&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);var i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,qA.copy(o),qA.x*=-1,qA.y*=-1,qA.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(qA.y*=-1,qA.z*=-1),e.envMapRotation.value.setFromMatrix4(YA.makeRotationFromEuler(qA)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Db(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===ap&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function KA(e,t,n,r){var i={},a={},o=[],s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){var i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;var o=r[a];if("number"===typeof i||"boolean"===typeof i){if(o!==i)return r[a]=i,!0}else if(!1===o.equals(i))return o.copy(i),!0;return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){var f=i[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=t.length;i<a;i++)for(var o=Array.isArray(t[i])?t[i]:[t[i]],s=0,l=o.length;s<l;s++)for(var c=o[s],d=Array.isArray(c.value)?c.value:[c.value],f=0,h=d.length;f<h;f++){var p=u(d[f]),v=n%r,m=v%p.boundary,g=v+m;n+=m,0!==g&&r-g<p.storage&&(n+=r-g),c.__data=new Float32Array(p.storage/Float32Array.BYTES_PER_ELEMENT),c.__offset=n,n+=p.storage}var y=n%r;y>0&&(n+=r-y);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));var h=d.program;r.updateUBOMapping(n,h);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++)for(var c=Array.isArray(r[o])?r[o]:[r[o]],d=0,f=c.length;d<f;d++){var h=c[d];if(!0===l(h,o,d,a)){for(var p=h.__offset,v=Array.isArray(h.value)?h.value:[h.value],m=0,g=0;g<v.length;g++){var y=v[g],x=u(y);"number"===typeof y||"boolean"===typeof y?(h.__data[0]=y,e.bufferSubData(e.UNIFORM_BUFFER,p+m,h.__data)):y.isMatrix3?(h.__data[0]=y.elements[0],h.__data[1]=y.elements[1],h.__data[2]=y.elements[2],h.__data[3]=0,h.__data[4]=y.elements[3],h.__data[5]=y.elements[4],h.__data[6]=y.elements[5],h.__data[7]=0,h.__data[8]=y.elements[6],h.__data[9]=y.elements[7],h.__data[10]=y.elements[8],h.__data[11]=0):(y.toArray(h.__data,m),m+=x.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,p,h.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var JA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_n(this,e);var n,r=t.canvas,i=void 0===r?Zg():r,a=t.context,o=void 0===a?null:a,s=t.depth,l=void 0===s||s,u=t.stencil,c=void 0!==u&&u,d=t.alpha,f=void 0!==d&&d,h=t.antialias,p=void 0!==h&&h,v=t.premultipliedAlpha,m=void 0===v||v,g=t.preserveDrawingBuffer,y=void 0!==g&&g,x=t.powerPreference,b=void 0===x?"default":x,_=t.failIfMajorPerformanceCaveat,w=void 0!==_&&_,S=t.reverseDepthBuffer,M=void 0!==S&&S;if(this.isWebGLRenderer=!0,null!==o){if("undefined"!==typeof WebGLRenderingContext&&o instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");n=o.getContextAttributes().alpha}else n=f;var E=new Uint32Array(4),T=new Int32Array(4),k=null,C=null,A=[],P=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Vm,this.toneMapping=Wp,this.toneMappingExposure=1;var R=this,N=!1,L=0,O=0,I=null,D=-1,U=null,F=new py,z=new py,j=null,B=new Wx(0),H=0,V=i.width,W=i.height,G=1,X=null,q=null,Y=new py(0,0,V,W),Z=new py(0,0,V,W),K=!1,J=new Z_,$=!1,Q=!1,ee=new $y,te=new $y,ne=new wy,re=new py,ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},ae=!1;function oe(){return null===I?G:1}var se,le,ue,ce,de,fe,he,pe,ve,me,ge,ye,xe,be,_e,we,Se,Me,Ee,Te,ke,Ce,Ae,Pe,Re=o;function Ne(e,t){return i.getContext(e,t)}try{var Le={alpha:!0,depth:l,stencil:c,antialias:p,premultipliedAlpha:m,preserveDrawingBuffer:y,powerPreference:b,failIfMajorPerformanceCaveat:w};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(qh)),i.addEventListener("webglcontextlost",Ue,!1),i.addEventListener("webglcontextrestored",Fe,!1),i.addEventListener("webglcontextcreationerror",ze,!1),null===Re){var Oe="webgl2";if(null===(Re=Ne(Oe,Le)))throw Ne(Oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(UR){throw console.error("THREE.WebGLRenderer: "+UR.message),UR}function Ie(){(se=new Xk(Re)).init(),Ce=new HA(Re,se),le=new Tk(Re,se,t,Ce),ue=new jA(Re,se),le.reverseDepthBuffer&&M&&ue.buffers.depth.setReversed(!0),ce=new Zk(Re),de=new kA,fe=new BA(Re,se,ue,de,le,Ce,ce),he=new Ck(R),pe=new Gk(R),ve=new mk(Re),Ae=new Mk(Re,ve),me=new qk(Re,ve,ce,Ae),ge=new Jk(Re,me,ve,ce),Ee=new Kk(Re,le,fe),we=new kk(de),ye=new TA(R,he,pe,se,le,Ae,we),xe=new ZA(R,de),be=new RA,_e=new UA(se),Me=new Sk(R,he,pe,ue,ge,n,m),Se=new FA(R,ge,le),Pe=new KA(Re,ce,le,ue),Te=new Ek(Re,se,ce),ke=new Yk(Re,se,ce),ce.programs=ye.programs,R.capabilities=le,R.extensions=se,R.properties=de,R.renderLists=be,R.shadowMap=Se,R.state=ue,R.info=ce}Ie();var De=new XA(R,Re);function Ue(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function Fe(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;var e=ce.autoReset,t=Se.enabled,n=Se.autoUpdate,r=Se.needsUpdate,i=Se.type;Ie(),ce.autoReset=e,Se.enabled=t,Se.autoUpdate=n,Se.needsUpdate=r,Se.type=i}function ze(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function je(e){var t=e.target;t.removeEventListener("dispose",je),Be(t)}function Be(e){He(e),de.remove(e)}function He(e){var t=de.get(e).programs;void 0!==t&&(t.forEach((function(e){ye.releaseProgram(e)})),e.isShaderMaterial&&ye.releaseShaderCache(e))}function Ve(e,t,n){!0===e.transparent&&e.side===op&&!1===e.forceSinglePass?(e.side=ap,e.needsUpdate=!0,et(e,t,n),e.side=ip,e.needsUpdate=!0,et(e,t,n),e.side=op):et(e,t,n)}this.xr=De,this.getContext=function(){return Re},this.getContextAttributes=function(){return Re.getContextAttributes()},this.forceContextLoss=function(){var e=se.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=se.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(V,W,!1))},this.getSize=function(e){return e.set(V,W)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];De.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=e,W=t,i.width=Math.floor(e*G),i.height=Math.floor(t*G),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(V*G,W*G).floor()},this.setDrawingBufferSize=function(e,t,n){V=e,W=t,G=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(F)},this.getViewport=function(e){return e.copy(Y)},this.setViewport=function(e,t,n,r){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,n,r),ue.viewport(F.copy(Y).multiplyScalar(G).round())},this.getScissor=function(e){return e.copy(Z)},this.setScissor=function(e,t,n,r){e.isVector4?Z.set(e.x,e.y,e.z,e.w):Z.set(e,t,n,r),ue.scissor(z.copy(Z).multiplyScalar(G).round())},this.getScissorTest=function(){return K},this.setScissorTest=function(e){ue.setScissorTest(K=e)},this.setOpaqueSort=function(e){X=e},this.setTransparentSort=function(e){q=e},this.getClearColor=function(e){return e.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor.apply(Me,arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha.apply(Me,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;if(e){var i=!1;if(null!==I){var a=I.texture.format;i=a===Vv||a===Bv||a===zv}if(i){var o=I.texture.type,s=o===xv||o===Mv||o===wv||o===Av||o===kv||o===Cv,l=Me.getClearColor(),u=Me.getClearAlpha(),c=l.r,d=l.g,f=l.b;s?(E[0]=c,E[1]=d,E[2]=f,E[3]=u,Re.clearBufferuiv(Re.COLOR,0,E)):(T[0]=c,T[1]=d,T[2]=f,T[3]=u,Re.clearBufferiv(Re.COLOR,0,T))}else r|=Re.COLOR_BUFFER_BIT}t&&(r|=Re.DEPTH_BUFFER_BIT),n&&(r|=Re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Re.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ue,!1),i.removeEventListener("webglcontextrestored",Fe,!1),i.removeEventListener("webglcontextcreationerror",ze,!1),Me.dispose(),be.dispose(),_e.dispose(),de.dispose(),he.dispose(),pe.dispose(),ge.dispose(),Ae.dispose(),Pe.dispose(),ye.dispose(),De.dispose(),De.removeEventListener("sessionstart",Xe),De.removeEventListener("sessionend",qe),Ye.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=ie);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=rt(e,t,n,r,i);ue.setMaterial(r,o);var l=n.index,u=1;if(!0===r.wireframe){if(void 0===(l=me.getWireframeAttribute(n)))return;u=2}var c=n.drawRange,d=n.attributes.position,f=c.start*u,h=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),h=Math.min(h,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),h=Math.min(h,l.count)):void 0!==d&&null!==d&&(f=Math.max(f,0),h=Math.min(h,d.count));var p=h-f;if(!(p<0||p===1/0)){var v;Ae.setup(i,r,s,n,l);var m=Te;if(null!==l&&(v=ve.get(l),(m=ke).setIndex(v)),i.isMesh)!0===r.wireframe?(ue.setLineWidth(r.wireframeLinewidth*oe()),m.setMode(Re.LINES)):m.setMode(Re.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),ue.setLineWidth(g*oe()),i.isLineSegments?m.setMode(Re.LINES):i.isLineLoop?m.setMode(Re.LINE_LOOP):m.setMode(Re.LINE_STRIP)}else i.isPoints?m.setMode(Re.POINTS):i.isSprite&&m.setMode(Re.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)m.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(se.get("WEBGL_multi_draw"))m.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else for(var y=i._multiDrawStarts,x=i._multiDrawCounts,b=i._multiDrawCount,_=l?ve.get(l).bytesPerElement:1,w=de.get(r).currentProgram.getUniforms(),S=0;S<b;S++)w.setValue(Re,"_gl_DrawID",S),m.render(y[S]/_,x[S]);else if(i.isInstancedMesh)m.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){var M=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,E=Math.min(n.instanceCount,M);m.renderInstances(f,p,E)}else m.render(f,p)}},this.compile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),(C=_e.get(n)).init(t),P.push(C),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(C.pushLight(e),e.castShadow&&C.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(C.pushLight(e),e.castShadow&&C.pushShadow(e))})),C.setupLights();var r=new Set;return e.traverse((function(e){if(e.isMesh||e.isPoints||e.isLine||e.isSprite){var t=e.material;if(t)if(Array.isArray(t))for(var i=0;i<t.length;i++){var a=t[i];Ve(a,n,e),r.add(a)}else Ve(t,n,e),r.add(t)}})),P.pop(),C=null,r},this.compileAsync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.compile(e,t,n);return new Promise((function(t){function n(){r.forEach((function(e){de.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==se.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};var We=null;function Ge(e){We&&We(e)}function Xe(){Ye.stop()}function qe(){Ye.start()}var Ye=new vk;function Ze(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)C.pushLight(e),e.castShadow&&C.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||J.intersectsSprite(e)){r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(te);var i=ge.update(e),a=e.material;a.visible&&k.push(e,i,a,n,re.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||J.intersectsObject(e))){var o=ge.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),re.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),re.copy(o.boundingSphere.center)),re.applyMatrix4(e.matrixWorld).applyMatrix4(te)),Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var d=l[u],f=s[d.materialIndex];f&&f.visible&&k.push(e,o,f,n,re.z,d)}else s.visible&&k.push(e,o,s,n,re.z,null)}for(var h=e.children,p=0,v=h.length;p<v;p++)Ze(h[p],t,n,r)}}function Ke(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;C.setupLightsView(n),!0===$&&we.setGlobalState(R.clippingPlanes,n),r&&ue.viewport(F.copy(r)),i.length>0&&$e(i,t,n),a.length>0&&$e(a,t,n),o.length>0&&$e(o,t,n),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function Je(e,t,n,r){if(null===(!0===n.isScene?n.overrideMaterial:null)){void 0===C.state.transmissionRenderTarget[r.id]&&(C.state.transmissionRenderTarget[r.id]=new my(1,1,{generateMipmaps:!0,type:se.has("EXT_color_buffer_half_float")||se.has("EXT_color_buffer_float")?Tv:xv,minFilter:gv,samples:4,stencilBuffer:c,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ay.workingColorSpace}));var i=C.state.transmissionRenderTarget[r.id],a=r.viewport||F;i.setSize(a.z,a.w);var o=R.getRenderTarget();R.setRenderTarget(i),R.getClearColor(B),(H=R.getClearAlpha())<1&&R.setClearColor(16777215,.5),R.clear(),ae&&Me.render(n);var s=R.toneMapping;R.toneMapping=Wp;var l=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),C.setupLightsView(r),!0===$&&we.setGlobalState(R.clippingPlanes,r),$e(e,n,r),fe.updateMultisampleRenderTarget(i),fe.updateRenderTargetMipmap(i),!1===se.has("WEBGL_multisampled_render_to_texture")){for(var u=!1,d=0,f=t.length;d<f;d++){var h=t[d],p=h.object,v=h.geometry,m=h.material,g=h.group;if(m.side===op&&p.layers.test(r.layers)){var y=m.side;m.side=ap,m.needsUpdate=!0,Qe(p,n,r,v,m,g),m.side=y,m.needsUpdate=!0,u=!0}}!0===u&&(fe.updateMultisampleRenderTarget(i),fe.updateRenderTargetMipmap(i))}R.setRenderTarget(o),R.setClearColor(B,H),void 0!==l&&(r.viewport=l),R.toneMapping=s}}function $e(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Qe(s,t,n,l,u,c)}}function Qe(e,t,n,r,i,a){e.onBeforeRender(R,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(R,t,n,r,e,a),!0===i.transparent&&i.side===op&&!1===i.forceSinglePass?(i.side=ap,i.needsUpdate=!0,R.renderBufferDirect(n,t,r,i,e,a),i.side=ip,i.needsUpdate=!0,R.renderBufferDirect(n,t,r,i,e,a),i.side=op):R.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(R,t,n,r,i,a)}function et(e,t,n){!0!==t.isScene&&(t=ie);var r=de.get(e),i=C.state.lights,a=C.state.shadowsArray,o=i.state.version,s=ye.getParameters(e,i.state,a,t,n),l=ye.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?pe:he).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===u&&(e.addEventListener("dispose",je),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return nt(e,s),c}else s.uniforms=ye.getUniforms(e),e.onBeforeCompile(s,R),c=ye.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=we.uniform),nt(e,s),r.needsLights=at(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function tt(e){if(null===e.uniformsList){var t=e.currentProgram.getUniforms();e.uniformsList=nA.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function nt(e,t){var n=de.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function rt(e,t,n,r,i){!0!==t.isScene&&(t=ie),fe.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===I?R.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:Wm,l=(r.isMeshStandardMaterial?pe:he).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,p=Wp;r.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(p=R.toneMapping));var v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=de.get(r),y=C.state.lights;if(!0===$&&(!0===Q||e!==U)){var x=e===U&&r.id===D;we.setState(r,e,x)}var b=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isBatchedMesh&&!1===g.batching?b=!0:i.isBatchedMesh||!0!==g.batching?i.isBatchedMesh&&!0===g.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===g.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===g.instancing?b=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?b=!0:i.isSkinnedMesh||!0!==g.skinning?i.isInstancedMesh&&!0===g.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===g.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===g.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===g.instancingMorph&&null!==i.morphTexture||g.envMap!==l||!0===r.fog&&g.fog!==a?b=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===we.numPlanes&&g.numIntersection===we.numIntersection?(g.vertexAlphas!==u||g.vertexTangents!==c||g.morphTargets!==d||g.morphNormals!==f||g.morphColors!==h||g.toneMapping!==p||g.morphTargetsCount!==m)&&(b=!0):b=!0:b=!0:b=!0:b=!0:(b=!0,g.__version=r.version);var _=g.currentProgram;!0===b&&(_=et(r,t,i));var w=!1,S=!1,M=!1,E=_.getUniforms(),T=g.uniforms;if(ue.useProgram(_.program)&&(w=!0,S=!0,M=!0),r.id!==D&&(D=r.id,S=!0),w||U!==e){ue.buffers.depth.getReversed()?(ee.copy(e.projectionMatrix),Qg(ee),ey(ee),E.setValue(Re,"projectionMatrix",ee)):E.setValue(Re,"projectionMatrix",e.projectionMatrix),E.setValue(Re,"viewMatrix",e.matrixWorldInverse);var k=E.map.cameraPosition;void 0!==k&&k.setValue(Re,ne.setFromMatrixPosition(e.matrixWorld)),le.logarithmicDepthBuffer&&E.setValue(Re,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&E.setValue(Re,"isOrthographic",!0===e.isOrthographicCamera),U!==e&&(U=e,S=!0,M=!0)}if(i.isSkinnedMesh){E.setOptional(Re,i,"bindMatrix"),E.setOptional(Re,i,"bindMatrixInverse");var A=i.skeleton;A&&(null===A.boneTexture&&A.computeBoneTexture(),E.setValue(Re,"boneTexture",A.boneTexture,fe))}i.isBatchedMesh&&(E.setOptional(Re,i,"batchingTexture"),E.setValue(Re,"batchingTexture",i._matricesTexture,fe),E.setOptional(Re,i,"batchingIdTexture"),E.setValue(Re,"batchingIdTexture",i._indirectTexture,fe),E.setOptional(Re,i,"batchingColorTexture"),null!==i._colorsTexture&&E.setValue(Re,"batchingColorTexture",i._colorsTexture,fe));var P=n.morphAttributes;if(void 0===P.position&&void 0===P.normal&&void 0===P.color||Ee.update(i,n,_),(S||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,E.setValue(Re,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(T.envMap.value=l,T.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(T.envMapIntensity.value=t.environmentIntensity),S&&(E.setValue(Re,"toneMappingExposure",R.toneMappingExposure),g.needsLights&&it(T,M),a&&!0===r.fog&&xe.refreshFogUniforms(T,a),xe.refreshMaterialUniforms(T,r,G,W,C.state.transmissionRenderTarget[e.id]),nA.upload(Re,tt(g),T,fe)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(nA.upload(Re,tt(g),T,fe),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&E.setValue(Re,"center",i.center),E.setValue(Re,"modelViewMatrix",i.modelViewMatrix),E.setValue(Re,"normalMatrix",i.normalMatrix),E.setValue(Re,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var N=r.uniformsGroups,L=0,O=N.length;L<O;L++){var F=N[L];Pe.update(F,_),Pe.bind(F,_)}return _}function it(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function at(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ye.setAnimationLoop(Ge),"undefined"!==typeof self&&Ye.setContext(self),this.setAnimationLoop=function(e){We=e,De.setAnimationLoop(e),null===e?Ye.stop():Ye.start()},De.addEventListener("sessionstart",Xe),De.addEventListener("sessionend",qe),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==N){if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===De.enabled&&!0===De.isPresenting&&(!0===De.cameraAutoUpdate&&De.updateCamera(t),t=De.getCamera()),!0===e.isScene&&e.onBeforeRender(R,e,t,I),(C=_e.get(e,P.length)).init(t),P.push(C),te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),J.setFromProjectionMatrix(te),Q=this.localClippingEnabled,$=we.init(this.clippingPlanes,Q),(k=be.get(e,A.length)).init(),A.push(k),!0===De.enabled&&!0===De.isPresenting){var n=R.xr.getDepthSensingMesh();null!==n&&Ze(n,t,-1/0,R.sortObjects)}Ze(e,t,0,R.sortObjects),k.finish(),!0===R.sortObjects&&k.sort(X,q),(ae=!1===De.enabled||!1===De.isPresenting||!1===De.hasDepthSensing())&&Me.addToRenderList(k,e),this.info.render.frame++,!0===$&&we.beginShadows();var r=C.state.shadowsArray;Se.render(r,e,t),!0===$&&we.endShadows(),!0===this.info.autoReset&&this.info.reset();var i=k.opaque,a=k.transmissive;if(C.setupLights(),t.isArrayCamera){var o=t.cameras;if(a.length>0)for(var s=0,l=o.length;s<l;s++){Je(i,a,e,o[s])}ae&&Me.render(e);for(var u=0,c=o.length;u<c;u++){var d=o[u];Ke(k,e,d,d.viewport)}}else a.length>0&&Je(i,a,e,t),ae&&Me.render(e),Ke(k,e,t);null!==I&&(fe.updateMultisampleRenderTarget(I),fe.updateRenderTargetMipmap(I)),!0===e.isScene&&e.onAfterRender(R,e,t),Ae.resetDefaultState(),D=-1,U=null,P.pop(),P.length>0?(C=P[P.length-1],!0===$&&we.setGlobalState(R.clippingPlanes,C.state.camera)):C=null,A.pop(),k=A.length>0?A[A.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(e,t,n){de.get(e.texture).__webglTexture=t,de.get(e.depthTexture).__webglTexture=n;var r=de.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===se.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){var n=de.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;I=e,L=t,O=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=de.get(e);if(void 0!==s.__useDefaultFramebuffer)ue.bindFramebuffer(Re.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)fe.setupRenderTarget(e);else if(s.__hasExternalTextures)fe.rebindTextures(e,de.get(e.texture).__webglTexture,de.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){var l=e.depthTexture;if(s.__boundDepthTexture!==l){if(null!==l&&de.has(l)&&(e.width!==l.image.width||e.height!==l.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");fe.setupDepthRenderbuffer(e)}}var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var c=de.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],a=!0):i=e.samples>0&&!1===fe.useMultisampledRTT(e)?de.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,F.copy(e.viewport),z.copy(e.scissor),j=e.scissorTest}else F.copy(Y).multiplyScalar(G).floor(),z.copy(Z).multiplyScalar(G).floor(),j=K;var d=ue.bindFramebuffer(Re.FRAMEBUFFER,i);if(d&&r&&ue.drawBuffers(e,i),ue.viewport(F),ue.scissor(z),ue.setScissorTest(j),a){var f=de.get(e.texture);Re.framebufferTexture2D(Re.FRAMEBUFFER,Re.COLOR_ATTACHMENT0,Re.TEXTURE_CUBE_MAP_POSITIVE_X+t,f.__webglTexture,n)}else if(o){var h=de.get(e.texture),p=t||0;Re.framebufferTextureLayer(Re.FRAMEBUFFER,Re.COLOR_ATTACHMENT0,h.__webglTexture,n||0,p)}D=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=de.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){ue.bindFramebuffer(Re.FRAMEBUFFER,s);try{var l=e.texture,u=l.format,c=l.type;if(!le.textureFormatReadable(u))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!le.textureTypeReadable(c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Re.readPixels(t,n,r,i,Ce.convert(u),Ce.convert(c),a)}finally{var d=null!==I?de.get(I).__webglFramebuffer:null;ue.bindFramebuffer(Re.FRAMEBUFFER,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.readRenderTargetPixelsAsync=function(){var e=Ln(Rn().mark((function e(t,n,r,i,a,o,s){var l,u,c,d,f,h,p;return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isWebGLRenderTarget){e.next=2;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");case 2:if(l=de.get(t).__webglFramebuffer,t.isWebGLCubeRenderTarget&&void 0!==s&&(l=l[s]),!l){e.next=32;break}if(u=t.texture,c=u.format,d=u.type,le.textureFormatReadable(c)){e.next=10;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");case 10:if(le.textureTypeReadable(d)){e.next=12;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");case 12:if(!(n>=0&&n<=t.width-i&&r>=0&&r<=t.height-a)){e.next=31;break}return ue.bindFramebuffer(Re.FRAMEBUFFER,l),f=Re.createBuffer(),Re.bindBuffer(Re.PIXEL_PACK_BUFFER,f),Re.bufferData(Re.PIXEL_PACK_BUFFER,o.byteLength,Re.STREAM_READ),Re.readPixels(n,r,i,a,Ce.convert(c),Ce.convert(d),0),h=null!==I?de.get(I).__webglFramebuffer:null,ue.bindFramebuffer(Re.FRAMEBUFFER,h),p=Re.fenceSync(Re.SYNC_GPU_COMMANDS_COMPLETE,0),Re.flush(),e.next=24,$g(Re,p,4);case 24:return Re.bindBuffer(Re.PIXEL_PACK_BUFFER,f),Re.getBufferSubData(Re.PIXEL_PACK_BUFFER,0,o),Re.deleteBuffer(f),Re.deleteSync(p),e.abrupt("return",o);case 31:throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.");case 32:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!0!==e.isTexture&&(Jg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);var r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;fe.setTexture2D(e,0),Re.copyTexSubImage2D(Re.TEXTURE_2D,n,0,0,o,s,i,a),ue.unbindTexture()};var ot=Re.createFramebuffer(),st=Re.createFramebuffer();this.copyTextureToTexture=function(e,t){var n,r,i,a,o,s,l,u,c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!0!==e.isTexture&&(Jg("WebGLRenderer: copyTextureToTexture function signature has changed."),f=arguments[0]||null,e=arguments[1],t=arguments[2],p=arguments[3]||0,d=null),null===p&&(0!==h?(Jg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),p=h,h=0):p=0);var v=e.isCompressedTexture?e.mipmaps[p]:e.image;if(null!==d)n=d.max.x-d.min.x,r=d.max.y-d.min.y,i=d.isBox3?d.max.z-d.min.z:1,a=d.min.x,o=d.min.y,s=d.isBox3?d.min.z:0;else{var m=Math.pow(2,-h);n=Math.floor(v.width*m),r=Math.floor(v.height*m),i=e.isDataArrayTexture?v.depth:e.isData3DTexture?Math.floor(v.depth*m):1,a=0,o=0,s=0}null!==f?(l=f.x,u=f.y,c=f.z):(l=0,u=0,c=0);var g,y=Ce.convert(t.format),x=Ce.convert(t.type);t.isData3DTexture?(fe.setTexture3D(t,0),g=Re.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(fe.setTexture2DArray(t,0),g=Re.TEXTURE_2D_ARRAY):(fe.setTexture2D(t,0),g=Re.TEXTURE_2D),Re.pixelStorei(Re.UNPACK_FLIP_Y_WEBGL,t.flipY),Re.pixelStorei(Re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Re.pixelStorei(Re.UNPACK_ALIGNMENT,t.unpackAlignment);var b=Re.getParameter(Re.UNPACK_ROW_LENGTH),_=Re.getParameter(Re.UNPACK_IMAGE_HEIGHT),w=Re.getParameter(Re.UNPACK_SKIP_PIXELS),S=Re.getParameter(Re.UNPACK_SKIP_ROWS),M=Re.getParameter(Re.UNPACK_SKIP_IMAGES);Re.pixelStorei(Re.UNPACK_ROW_LENGTH,v.width),Re.pixelStorei(Re.UNPACK_IMAGE_HEIGHT,v.height),Re.pixelStorei(Re.UNPACK_SKIP_PIXELS,a),Re.pixelStorei(Re.UNPACK_SKIP_ROWS,o),Re.pixelStorei(Re.UNPACK_SKIP_IMAGES,s);var E=e.isDataArrayTexture||e.isData3DTexture,T=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){var k=de.get(e),C=de.get(t),A=de.get(k.__renderTarget),P=de.get(C.__renderTarget);ue.bindFramebuffer(Re.READ_FRAMEBUFFER,A.__webglFramebuffer),ue.bindFramebuffer(Re.DRAW_FRAMEBUFFER,P.__webglFramebuffer);for(var R=0;R<i;R++)E&&(Re.framebufferTextureLayer(Re.READ_FRAMEBUFFER,Re.COLOR_ATTACHMENT0,de.get(e).__webglTexture,h,s+R),Re.framebufferTextureLayer(Re.DRAW_FRAMEBUFFER,Re.COLOR_ATTACHMENT0,de.get(t).__webglTexture,p,c+R)),Re.blitFramebuffer(a,o,n,r,l,u,n,r,Re.DEPTH_BUFFER_BIT,Re.NEAREST);ue.bindFramebuffer(Re.READ_FRAMEBUFFER,null),ue.bindFramebuffer(Re.DRAW_FRAMEBUFFER,null)}else if(0!==h||e.isRenderTargetTexture||de.has(e)){var N=de.get(e),L=de.get(t);ue.bindFramebuffer(Re.READ_FRAMEBUFFER,ot),ue.bindFramebuffer(Re.DRAW_FRAMEBUFFER,st);for(var O=0;O<i;O++)E?Re.framebufferTextureLayer(Re.READ_FRAMEBUFFER,Re.COLOR_ATTACHMENT0,N.__webglTexture,h,s+O):Re.framebufferTexture2D(Re.READ_FRAMEBUFFER,Re.COLOR_ATTACHMENT0,Re.TEXTURE_2D,N.__webglTexture,h),T?Re.framebufferTextureLayer(Re.DRAW_FRAMEBUFFER,Re.COLOR_ATTACHMENT0,L.__webglTexture,p,c+O):Re.framebufferTexture2D(Re.DRAW_FRAMEBUFFER,Re.COLOR_ATTACHMENT0,Re.TEXTURE_2D,L.__webglTexture,p),0!==h?Re.blitFramebuffer(a,o,n,r,l,u,n,r,Re.COLOR_BUFFER_BIT,Re.NEAREST):T?Re.copyTexSubImage3D(g,p,l,u,c+O,a,o,n,r):Re.copyTexSubImage2D(g,p,l,u,a,o,n,r);ue.bindFramebuffer(Re.READ_FRAMEBUFFER,null),ue.bindFramebuffer(Re.DRAW_FRAMEBUFFER,null)}else T?e.isDataTexture||e.isData3DTexture?Re.texSubImage3D(g,p,l,u,c,n,r,i,y,x,v.data):t.isCompressedArrayTexture?Re.compressedTexSubImage3D(g,p,l,u,c,n,r,i,y,v.data):Re.texSubImage3D(g,p,l,u,c,n,r,i,y,x,v):e.isDataTexture?Re.texSubImage2D(Re.TEXTURE_2D,p,l,u,n,r,y,x,v.data):e.isCompressedTexture?Re.compressedTexSubImage2D(Re.TEXTURE_2D,p,l,u,v.width,v.height,y,v.data):Re.texSubImage2D(Re.TEXTURE_2D,p,l,u,n,r,y,x,v);Re.pixelStorei(Re.UNPACK_ROW_LENGTH,b),Re.pixelStorei(Re.UNPACK_IMAGE_HEIGHT,_),Re.pixelStorei(Re.UNPACK_SKIP_PIXELS,w),Re.pixelStorei(Re.UNPACK_SKIP_ROWS,S),Re.pixelStorei(Re.UNPACK_SKIP_IMAGES,M),0===p&&t.generateMipmaps&&Re.generateMipmap(g),ue.unbindTexture()},this.copyTextureToTexture3D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return!0!==e.isTexture&&(Jg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,r=arguments[1]||null,e=arguments[2],t=arguments[3],i=arguments[4]||0),Jg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,i)},this.initRenderTarget=function(e){void 0===de.get(e).__webglFramebuffer&&fe.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?fe.setTextureCube(e,0):e.isData3DTexture?fe.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?fe.setTexture2DArray(e,0):fe.setTexture2D(e,0),ue.unbindTexture()},this.resetState=function(){L=0,O=0,I=null,ue.reset(),Ae.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return Sn(e,[{key:"coordinateSystem",get:function(){return Cg}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorspace=ay._getDrawingBufferColorSpace(e),t.unpackColorSpace=ay._getUnpackColorSpace()}}]),e}(),$A=n(4585);function QA(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var eP="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;var tP=function(e){return"object"===typeof e&&"function"===typeof e.then},nP=[];function rP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function iP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);var i,a=Un(nP);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(rP(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}}}catch(l){a.e(l)}finally{a.f()}var s={keys:t,equal:r.equal,remove:function(){var e=nP.indexOf(s);-1!==e&&nP.splice(e,1)},promise:(tP(e)?e:e.apply(void 0,bn(t))).then((function(e){s.response=e,r.lifespan&&r.lifespan>0&&(s.timeout=setTimeout(s.remove,r.lifespan))})).catch((function(e){return s.error=e}))};if(nP.push(s),!n)throw s.promise}var aP,oP,sP=n(258),lP=n.n(sP),uP=n(4545),cP=["args","attach"],dP=["args","children"],fP=["args","children"],hP=["children","key","ref"],pP=["children","key","ref"],vP=["params"],mP={};var gP=function(e){return"colorSpace"in e||"outputColorSpace"in e},yP=function(){var e;return null!=(e=mP.ColorManagement)?e:null},xP=function(e){return e&&e.isOrthographicCamera},bP="undefined"!==typeof window&&(null!=(aP=window.document)&&aP.createElement||"ReactNative"===(null==(oP=window.navigator)?void 0:oP.product))?t.useLayoutEffect:t.useEffect;function _P(e){var n=t.useRef(e);return bP((function(){n.current=e}),[e]),n}function wP(e){var t=e.set;return bP((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var SP=function(e){En(n,e);var t=Pn(n);function n(){var e;_n(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return Sn(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(t.Component);SP.getDerivedStateFromError=function(){return{error:!0}};var MP="__default",EP=new Map;function TP(e){var t,n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var kP=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function CP(e){for(var t=e.__r3f.root;t.getState().previousRoot;)t=t.getState().previousRoot;return t}var AP={obj:function(e){return e===Object(e)&&!AP.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,l=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(AP.str(e)||AP.num(e)||AP.boo(e))return e===t;var u=AP.obj(e);if(u&&"reference"===o)return e===t;var c,d=AP.arr(e);if(d&&"reference"===i)return e===t;if((d||u)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(u&&"shallow"===i&&"shallow"===o){for(c in l?t:e)if(!AP.equ(e[c],t[c],{strict:l,objects:"reference"}))return!1}else for(c in l?t:e)if(e[c]!==t[c])return!1;if(AP.und(c)){if(d&&0===e.length&&0===t.length)return!0;if(u&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function PP(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function RP(e,t){return e.__r3f=je({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function NP(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var LP=/-\d+$/;function OP(e,t,n){if(AP.str(n)){if(LP.test(n)){var r=NP(e,n.replace(LP,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=NP(e,n),s=o.target,l=o.key;t.__r3f.previousAttach=s[l],s[l]=t}else t.__r3f.previousAttach=n(e,t)}function IP(e,t,n){var r,i;if(AP.str(n)){var a=NP(e,n),o=a.target,s=a.key,l=t.__r3f.previousAttach;void 0===l?delete o[s]:o[s]=l}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function DP(e,t){t.children,t.key,t.ref;var n=mo(t,hP),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(r.children,r.key,r.ref,mo(r,pP)),a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.__r3f,s=Object.entries(n),l=[];if(a)for(var u=Object.keys(i),c=0;c<u.length;c++)n.hasOwnProperty(u[c])||s.unshift([u[c],MP+"remove"]);s.forEach((function(t){var r,a=yn(t,2),o=a[0],s=a[1];if((null==(r=e.__r3f)||!r.primitive||"object"!==o)&&!AP.equ(s,i[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return l.push([o,s,!0,[]]);var u=[];for(var c in o.includes("-")&&(u=o.split("-")),l.push([o,s,!1,u]),n){var d=n[c];c.startsWith("".concat(o,"-"))&&l.push([c,d,!1,c.split("-")])}}}));var d=je({},n);return null!=o&&o.memoizedProps&&null!=o&&o.memoizedProps.args&&(d.args=o.memoizedProps.args),null!=o&&o.memoizedProps&&null!=o&&o.memoizedProps.attach&&(d.attach=o.memoizedProps.attach),{memoized:d,changes:l}}var UP="undefined"!==typeof process&&!1;function FP(e,t){var n,r,i=e.__r3f,a=null==i?void 0:i.root,o=null==a||null==a.getState?void 0:a.getState(),s=(r=t)&&r.memoized&&r.changes?t:DP(e,t),l=s.memoized,u=s.changes,c=null==i?void 0:i.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(var d=0;d<u.length;d++){var f=yn(u[d],4),h=f[0],p=f[1],v=f[2],m=f[3];if(gP(e)){var g="srgb",y="srgb-linear";"encoding"===h?(h="colorSpace",p=3001===p?g:y):"outputEncoding"===h&&(h="outputColorSpace",p=3001===p?g:y)}var x=e,b=x[h];if(m.length&&(b=m.reduce((function(e,t){return e[t]}),e),!b||!b.set)){var _=Dn(m.reverse()),w=_[0];x=_.slice(1).reverse().reduce((function(e,t){return e[t]}),e),h=w}if(p===MP+"remove")if(x.constructor){var S=EP.get(x.constructor);S||(S=new x.constructor,EP.set(x.constructor,S)),p=S[h]}else p=0;if(v&&i)p?i.handlers[h]=p:delete i.handlers[h],i.eventCount=Object.keys(i.handlers).length;else if(b&&b.set&&(b.copy||b instanceof ux)){var M;if(Array.isArray(p))b.fromArray?b.fromArray(p):(M=b).set.apply(M,bn(p));else if(b.copy&&p&&p.constructor&&(UP?b.constructor.name===p.constructor.name:b.constructor===p.constructor))b.copy(p);else if(void 0!==p){var E=b instanceof Wx;!E&&b.setScalar?b.setScalar(p):b instanceof ux&&p instanceof ux?b.mask=p.mask:b.set(p),!yP()&&o&&!o.linear&&E&&b.convertSRGBToLinear()}}else if(x[h]=p,x[h]instanceof hy&&x[h].format===Lv&&x[h].type===xv&&o){var T=x[h];gP(T)&&gP(o.gl)?T.colorSpace=o.gl.outputColorSpace:T.encoding=o.gl.outputEncoding}zP(e)}if(i&&i.parent&&e.raycast&&c!==i.eventCount){var k=CP(e).getState().internal,C=k.interaction.indexOf(e);C>-1&&k.interaction.splice(C,1),i.eventCount&&k.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(n=e.__r3f)&&n.parent&&jP(e),e}function zP(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function jP(e){null==e.onUpdate||e.onUpdate(e)}function BP(e,t){e.manual||(xP(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function HP(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function VP(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function WP(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=Un(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(HP(e)),null!=i&&i.eventCount){var o=je(je({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var o=e.getState(),s=o.onPointerMissed,l=o.internal;l.lastEvent.current=a;var u="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,d=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var l=kP(o[s]);l&&(l.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var u=o.flatMap((function(e){var n,r=kP(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=kP(e.object),r=kP(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=HP(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(u=r.events.filter(u,r));var c,d=Un(u);try{for(d.s();!(c=d.n()).done;)for(var f=c.value,h=f.object;h;){var p;null!=(p=h.__r3f)&&p.eventCount&&a.push(je(je({},f),{},{eventObject:h})),h=h.parent}}catch(y){d.e(y)}finally{d.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,m=Un(r.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(v=m.n()).done;){var g=v.value;i.has(HP(g.intersection))||a.push(g.intersection)}}catch(y){m.e(y)}finally{m.f()}}return a}(a,u?t:void 0),f=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(l.initialClick=[a.offsetX,a.offsetY],l.initialHits=d.map((function(e){return e.eventObject}))),c&&!d.length&&f<=2&&(r(a,l.interaction),s&&s(a)),u&&n(d),function(t,r,i,a){var o=e.getState();t.length&&function(){var e,s={stopped:!1},l=Un(t);try{var u=function(){var l=e.value,u=kP(l.object)||o,c=u.raycaster,d=u.pointer,f=u.camera,h=u.internal,p=new wy(d.x,d.y,0).unproject(f),v=function(e){var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(l.eventObject))&&t},m=function(e){var t={intersection:l,target:r.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(l.eventObject,t):h.capturedMap.set(e,new Map([[l.eventObject,t]])),r.target.setPointerCapture(e)},g=function(e){var t=h.capturedMap.get(e);t&&VP(h.capturedMap,l.eventObject,t,e)},y={};for(var x in r){var b=r[x];"function"!==typeof b&&(y[x]=b)}var _=je(je(je({},l),y),{},{pointer:d,intersections:t,stopped:s.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:f,stopPropagation:function(){var e="pointerId"in r&&h.capturedMap.get(r.pointerId);if((!e||e.has(l.eventObject))&&(_.stopped=s.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((function(e){return e.eventObject===l.eventObject})))){var i=t.slice(0,t.indexOf(l));n([].concat(bn(i),[l]))}},target:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r});if(a(_),!0===s.stopped)return"break"};for(l.s();!(e=l.n()).done&&"break"!==u(););}catch(c){l.e(c)}finally{l.f()}}()}(d,a,f,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(u){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=HP(e),d=l.hovered.get(s);d?d.stopped&&e.stopPropagation():(l.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var f=o[i];f?c&&!l.initialHits.includes(t)||(r(a,l.interaction.filter((function(e){return!l.initialHits.includes(e)}))),f(e)):c&&l.initialHits.includes(t)&&r(a,l.interaction.filter((function(e){return!l.initialHits.includes(e)})))}}))}}}}var GP,XP=function(e){return!(null==e||!e.render)},qP=t.createContext(null),YP=function(e,n){var r=function(e){var n="function"===typeof e?QA(e):e,r=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=(0,t.useReducer)((function(e){return e+1}),0),o=yn(a,2)[1],s=n.getState(),l=(0,t.useRef)(s),u=(0,t.useRef)(r),c=(0,t.useRef)(i),d=(0,t.useRef)(!1),f=(0,t.useRef)();void 0===f.current&&(f.current=r(s));var h=!1;(l.current!==s||u.current!==r||c.current!==i||d.current)&&(e=r(s),h=!i(f.current,e)),eP((function(){h&&(f.current=e),l.current=s,u.current=r,c.current=i,d.current=!1}));var p=(0,t.useRef)(s);eP((function(){var e=function(){try{var e=n.getState(),t=u.current(e);c.current(f.current,t)||(l.current=e,f.current=t,o())}catch(UR){d.current=!0,o()}},t=n.subscribe(e);return n.getState()!==p.current&&e(),t}),[]);var v=h?e:f.current;return(0,t.useDebugValue)(v),v};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}((function(r,i){var a=new wy,o=new wy,s=new wy;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,l=n.height,u=n.top,c=n.left,d=r/l;t instanceof wy?s.copy(t):s.set.apply(s,bn(t));var f=e.getWorldPosition(a).distanceTo(s);if(xP(e))return{width:r/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:f,aspect:d};var h=e.fov*Math.PI/180,p=2*Math.tan(h/2)*f,v=p*(r/l);return{width:v,height:p,top:u,left:c,factor:r/v,distance:f,aspect:d}}var u=void 0,c=function(e){return r((function(t){return{performance:je(je({},t.performance),{},{current:e})}}))},d=new Hg,f={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,t){return n(e,t,i())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new HE,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();u&&clearTimeout(u),e.performance.current!==e.performance.min&&c(e.performance.min),u=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(e){return r((function(t){return je(je({},t),{},{events:je(je({},t.events),e)})}))},setSize:function(e,t,n,a,s){var u=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:n};r((function(e){return{size:c,viewport:je(je({},e.viewport),l(u,o,c))}}))},setDpr:function(e){return r((function(t){var n=TP(e);return{viewport:je(je({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return f})),i=r.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return r.subscribe((function(){var e=r.getState(),t=e.camera,n=e.size,i=e.viewport,l=e.gl,u=e.set;if(n.width!==a.width||n.height!==a.height||i.dpr!==o){var c;a=n,o=i.dpr,BP(t,n),l.setPixelRatio(i.dpr);var d=null!=(c=n.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&l.domElement instanceof HTMLCanvasElement;l.setSize(n.width,n.height,d)}t!==s&&(s=t,u((function(e){return{viewport:je(je({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),r.subscribe((function(t){return e(t)})),r};var ZP,KP,JP=new Set,$P=new Set,QP=new Set;function eR(e,t){if(e.size){var n,r=Un(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function tR(e,t){switch(e){case"before":return eR(JP,t);case"after":return eR($P,t);case"tail":return eR(QP,t)}}function nR(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ZP=t.internal.subscribers,GP=0;GP<ZP.length;GP++)(KP=ZP[GP]).ref.current(KP.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function rR(){var e=t.useContext(qP);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function iR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=rR(),r=n.getState().internal.subscribe,i=_P(e);return bP((function(){return r(i,t,n)}),[t,r,n]),null}var aR=new WeakMap;function oR(e,t){return function(n){var r=aR.get(n);r||(r=new n,aR.set(n,r)),e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,PP(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))}))}))})))}}function sR(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return iP(e,t,!1,n)}(oR(n,r),[e].concat(bn(i)),{equal:AP.equ});return Array.isArray(t)?a:a[0]}sR.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){iP(e,t,!0,n)}(oR(n),[e].concat(bn(r)))},sR.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)nP.splice(0,nP.length);else{var t=nP.find((function(t){return rP(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat(bn(n)))};var lR=new Map,uR=function(e){var t,n,r,i=!1,a=!1;function o(s){n=requestAnimationFrame(o),i=!0,t=0,tR("before",s),a=!0;var l,u=Un(e.values());try{for(u.s();!(l=u.n()).done;){var c,d=l.value;!(r=d.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(c=r.gl.xr)&&c.isPresenting||(t+=nR(s,r))}}catch(f){u.e(f)}finally{u.f()}if(a=!1,tR("after",s),0===t)return tR("tail",s),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState(),s)}));null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=s>1?Math.min(60,n.internal.frames+s):a?2:1,i||(i=!0,requestAnimationFrame(o)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&tR("before",t),r)nR(t,r,i);else{var a,o=Un(e.values());try{for(o.s();!(a=o.n()).done;){var s=a.value;nR(t,s.store.getState())}}catch(l){o.e(l)}finally{o.f()}}n&&tR("after",t)}}}(lR),cR=uR.invalidate,dR=uR.advance,fR=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=mo(t,cP),l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=RP(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var u=mP[l];if(!u)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=RP(On(u,bn(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof xb?r.__r3f.attach="geometry":r instanceof qx&&(r.__r3f.attach="material")),"inject"!==l&&FP(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?OP(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||RP(t,{}),t.__r3f.parent=e,jP(t),zP(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)OP(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(bn(o.slice(0,s)),[t],bn(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||RP(t,{}),t.__r3f.parent=e,jP(t),zP(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&bn(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)IP(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState(),r=n.internal;r.interaction=r.interaction.filter((function(e){return e!==t})),r.initialHits=r.initialHits.filter((function(e){return e!==t})),r.hovered.forEach((function(e,n){e.eventObject!==t&&e.object!==t||r.hovered.delete(n)})),r.capturedMap.forEach((function(e,n){VP(r.capturedMap,t,e,n)}))}(CP(t),t)}var l,u=null==(o=t.__r3f)?void 0:o.primitive,c=!u&&(void 0===n?null!==t.dispose:n);if(!u)a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c);if(delete t.__r3f,c&&t.dispose&&"Scene"!==t.type){var d=function(){try{t.dispose()}catch(e){}};"undefined"===typeof IS_REACT_ACT_ENVIRONMENT?(0,uP.unstable_scheduleCallback)(uP.unstable_IdlePriority,d):d()}zP(e)}}var s=function(){};return{reconciler:lP()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];var a=r.args,o=void 0===a?[]:a,s=(r.children,mo(r,dP)),l=n.args,u=void 0===l?[]:l,c=(n.children,mo(n,fP));if(!Array.isArray(o))throw new Error("R3F: the args prop must be an array!");if(o.some((function(e,t){return e!==u[t]})))return[!0];var d=DP(e,s,c,!0);return d.changes.length?[!1,d]:null},commitUpdate:function(e,t,i,a,s,l){var u=yn(t,2),c=u[0],d=u[1];c?function(e,t,i,a){var s,l=null==(s=e.__r3f)?void 0:s.parent;if(l){var u=n(t,i,e.__r3f.root);if(e.children){var c,d=Un(e.children);try{for(d.s();!(c=d.n()).done;){var f=c.value;f.__r3f&&r(u,f)}}catch(h){d.e(h)}finally{d.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(u,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),r(l,u),u.raycast&&u.__r3f.eventCount&&CP(u).getState().internal.interaction.push(u),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=u,e.ref&&("function"===typeof e.ref?e.ref(u):e.ref.current=u))}))}}(e,i,s,l):FP(e,d)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&CP(e).getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return RP(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&IP(i,e,r),e.isObject3D&&(e.visible=!1),zP(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&OP(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),zP(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():$A.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&AP.fun(performance.now)?performance.now:AP.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:AP.fun(setTimeout)?setTimeout:void 0,cancelTimeout:AP.fun(clearTimeout)?clearTimeout:void 0}),applyProps:FP}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return $A.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $A.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return $A.ContinuousEventPriority;default:return $A.DefaultEventPriority}})),hR=fR.reconciler,pR=fR.applyProps,vR={objects:"shallow",strict:!1},mR=function(e,t){var n="function"===typeof e?e(t):e;return XP(n)?n:new JA(je({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function gR(e,t){var n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){var r=t.width,i=t.height,a=t.top,o=t.left,s=t.updateStyle;return{width:r,height:i,top:a,left:o,updateStyle:void 0===s?n:s}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var l=e.parentElement.getBoundingClientRect();return{width:l.width,height:l.height,top:l.top,left:l.left,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}function yR(e){var t=lR.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");var i,a="function"===typeof reportError?reportError:console.error,o=r||YP(cR,dR),s=n||hR.createContainer(o,$A.ConcurrentRoot,null,!1,null,"",a,null);t||lR.set(e,{fiber:s,store:o});var l,u=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,a=t.scene,s=t.events,c=t.onCreated,d=t.shadows,f=void 0!==d&&d,h=t.linear,p=void 0!==h&&h,v=t.flat,m=void 0!==v&&v,g=t.legacy,y=void 0!==g&&g,x=t.orthographic,b=void 0!==x&&x,_=t.frameloop,w=void 0===_?"always":_,S=t.dpr,M=void 0===S?[1,2]:S,E=t.performance,T=t.raycaster,k=t.camera,C=t.onPointerMissed,A=o.getState(),P=A.gl;A.gl||A.set({gl:P=mR(n,e)});var R=A.raycaster;R||A.set({raycaster:R=new _T});var N,L=T||{},O=L.params,I=mo(L,vP);if(AP.equ(I,R,vR)||pR(R,je({},I)),AP.equ(O,R.params,vR)||pR(R,{params:je(je({},R.params),O)}),!A.camera||A.camera===l&&!AP.equ(l,k,vR)){l=k;var D=k instanceof jb,U=D?k:b?new xE(0,0,0,0,.1,1e3):new Wb(75,0,.1,1e3);D||(U.position.z=5,k&&(pR(U,k),("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(U.manual=!0,U.updateProjectionMatrix())),A.camera||null!=k&&k.rotation||U.lookAt(0,0,0)),A.set({camera:U}),R.camera=U}A.scene||(a instanceof Jb?N=a:(N=new Jb,a&&pR(N,a)),A.set({scene:RP(N)}));if(!A.xr){var F,z=function(e,t){var n=o.getState();"never"!==n.frameloop&&dR(e,!0,n,t)},j=function(){var e=o.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?z:null),e.gl.xr.isPresenting||cR(e)},B={connect:function(){var e=o.getState().gl;e.xr.addEventListener("sessionstart",j),e.xr.addEventListener("sessionend",j)},disconnect:function(){var e=o.getState().gl;e.xr.removeEventListener("sessionstart",j),e.xr.removeEventListener("sessionend",j)}};"function"===typeof(null==(F=P.xr)?void 0:F.addEventListener)&&B.connect(),A.set({xr:B})}if(P.shadowMap){var H=P.shadowMap.enabled,V=P.shadowMap.type;if(P.shadowMap.enabled=!!f,AP.boo(f))P.shadowMap.type=np;else if(AP.str(f)){var W,G={basic:ep,percentage:tp,soft:np,variance:rp};P.shadowMap.type=null!=(W=G[f])?W:np}else AP.obj(f)&&Object.assign(P.shadowMap,f);H===P.shadowMap.enabled&&V===P.shadowMap.type||(P.shadowMap.needsUpdate=!0)}var X=yP();if(X&&("enabled"in X?X.enabled=!y:"legacyMode"in X&&(X.legacyMode=y)),!u){var q=3e3,Y=3001;pR(P,{outputEncoding:p?q:Y,toneMapping:m?Wp:Yp})}A.legacy!==y&&A.set((function(){return{legacy:y}})),A.linear!==p&&A.set((function(){return{linear:p}})),A.flat!==m&&A.set((function(){return{flat:m}})),!n||AP.fun(n)||XP(n)||AP.equ(n,P,vR)||pR(P,n),s&&!A.events.handlers&&A.set({events:s(o)});var Z=gR(e,r);return AP.equ(Z,A.size,vR)||A.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),M&&A.viewport.dpr!==TP(M)&&A.setDpr(M),A.frameloop!==w&&A.setFrameloop(w),A.onPointerMissed||A.set({onPointerMissed:C}),E&&!AP.equ(E,A.performance,vR)&&A.set((function(e){return{performance:je(je({},e.performance),E)}})),i=c,u=!0,this},render:function(t){return u||this.configure(),hR.updateContainer((0,Kf.jsx)(xR,{store:o,children:t,onCreated:i,rootElement:e}),s,null,(function(){})),o},unmount:function(){bR(e)}}}function xR(e){var t=e.store,n=e.children,r=e.onCreated,i=e.rootElement;return bP((function(){var e=t.getState();e.set((function(e){return{internal:je(je({},e.internal),{},{active:!0})}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),(0,Kf.jsx)(qP.Provider,{value:t,children:n})}function bR(e,t){var n=lR.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),hR.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),lR.delete(e),t&&t(e)}catch(s){}}),500)}))}}hR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;var _R={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wR(e){var t=WP(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(_R).reduce((function(e,n){return je(je({},e),{},Fe({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:je(je({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=yn(e,2),r=n[0],i=n[1],a=yn(_R[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=yn(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=yn(_R[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:je(je({},e.events),{},{connected:void 0})}})))}}}var SR,MR,ER=n(7494),TR=n.n(ER),kR=Object.defineProperty,CR=Object.defineProperties,AR=Object.getOwnPropertyDescriptors,PR=Object.getOwnPropertySymbols,RR=Object.prototype.hasOwnProperty,NR=Object.prototype.propertyIsEnumerable,LR=function(e,t,n){return t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},OR=function(e,t){for(var n in t||(t={}))RR.call(t,n)&&LR(e,n,t[n]);if(PR){var r,i=Un(PR(t));try{for(i.s();!(r=i.n()).done;){n=r.value;NR.call(t,n)&&LR(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};"undefined"===typeof window||!(null==(SR=window.document)?void 0:SR.createElement)&&"ReactNative"!==(null==(MR=window.navigator)?void 0:MR.product)?t.useEffect:t.useLayoutEffect;function IR(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=IR(r,t,n);if(i)return i;r=t?null:r.sibling}}}function DR(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(Q){return e}}var UR=console.error;console.error=function(){var e=Array.prototype.slice.call(arguments).join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return UR.apply(this,arguments);console.error=UR};var FR=DR(t.createContext(null)),zR=function(e){En(r,e);var n=Pn(r);function r(){return _n(this,r),n.apply(this,arguments)}return Sn(r,[{key:"render",value:function(){return t.createElement(FR.Provider,{value:this._reactInternals},this.props.children)}}]),r}(t.Component);function jR(){var e=t.useContext(FR);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var n=t.useId();return t.useMemo((function(){for(var t=0,r=[e,null==e?void 0:e.alternate];t<r.length;t++){var i=r[t];if(i){var a=IR(i,!1,(function(e){for(var t=e.memoizedState;t;){if(t.memoizedState===n)return!0;t=t.next}}));if(a)return a}}}),[e,n])}function BR(){var e=function(){var e=jR(),n=yn(t.useState((function(){return new Map})),1)[0];n.clear();for(var r=e;r;){if(r.type&&"object"===typeof r.type){var i=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;i&&i!==FR&&!n.has(i)&&n.set(i,t.useContext(DR(i)))}r=r.return}return n}();return t.useMemo((function(){return Array.from(e.keys()).reduce((function(n,r){return function(i){return t.createElement(n,null,t.createElement(r.Provider,function(e,t){return CR(e,AR(t))}(OR({},i),{value:e.get(r)})))}}),(function(e){return t.createElement(zR,OR({},e))}))}),[e])}var HR=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"];function VR(e){(0,t.useEffect)((function(){var t=e;return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}function WR(e,n){(0,t.useEffect)((function(){if(n){var t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",t,!0)}}}),[e,n])}function GR(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,bn(GR(e.parentElement)))}var XR=["x","y","top","bottom","left","right","width","height"],qR=function(e,t){return XR.every((function(n){return e[n]===t[n]}))},YR=t.forwardRef((function(n,r){var i=n.children,a=n.fallback,o=n.resize,s=n.style,l=n.gl,u=n.events,c=void 0===u?wR:u,d=n.eventSource,f=n.eventPrefix,h=n.shadows,p=n.linear,v=n.flat,m=n.legacy,g=n.orthographic,y=n.frameloop,x=n.dpr,b=n.performance,_=n.raycaster,w=n.camera,S=n.scene,M=n.onPointerMissed,E=n.onCreated,T=mo(n,HR);t.useMemo((function(){return t=e,void Object.assign(mP,t);var t}),[]);var k=BR(),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1},n=e.debounce,r=e.scroll,i=e.polyfill,a=e.offsetSize,o=i||"undefined"!==typeof window&&window.ResizeObserver,s=yn((0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),l=s[0],u=s[1];if(!o)return l.width=1280,l.height=800,[function(){},l,function(){}];var c=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l,orientationHandler:null}),d=n?"number"===typeof n?n:n.scroll:null,f=n?"number"===typeof n?n:n.resize:null,h=(0,t.useRef)(!1);(0,t.useEffect)((function(){return h.current=!0,function(){h.current=!1}}));var p=yn((0,t.useMemo)((function(){var e=function(){if(c.current.element){var e=c.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};c.current.element instanceof HTMLElement&&a&&(t.height=c.current.element.offsetHeight,t.width=c.current.element.offsetWidth),Object.freeze(t),h.current&&!qR(c.current.lastBounds,t)&&u(c.current.lastBounds=t)}};return[e,f?TR()(e,f):e,d?TR()(e,d):e]}),[u,a,d,f]),3),v=p[0],m=p[1],g=p[2];function y(){c.current.scrollContainers&&(c.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",g,!0)})),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function x(){var e;c.current.element&&(c.current.resizeObserver=new o(m),null==(e=c.current.resizeObserver)||e.observe(c.current.element),r&&c.current.scrollContainers&&c.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",g,{capture:!0,passive:!0})})),c.current.orientationHandler=function(){g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}var b=function(e){e&&e!==c.current.element&&(y(),c.current.element=e,c.current.scrollContainers=GR(e),x())};return WR(g,Boolean(r)),VR(m),(0,t.useEffect)((function(){y(),x()}),[r,g,m]),(0,t.useEffect)((function(){return y}),[]),[b,l,v]}(je({scroll:!0,debounce:{scroll:50,resize:0}},o)),A=yn(C,2),P=A[0],R=A[1],N=t.useRef(null),L=t.useRef(null);t.useImperativeHandle(r,(function(){return N.current}));var O=_P(M),I=yn(t.useState(!1),2),D=I[0],U=I[1],F=yn(t.useState(!1),2),z=F[0],j=F[1];if(D)throw D;if(z)throw z;var B=t.useRef(null);bP((function(){var e=N.current;R.width>0&&R.height>0&&e&&(B.current||(B.current=yR(e)),B.current.configure({gl:l,events:c,shadows:h,linear:p,flat:v,legacy:m,orthographic:g,frameloop:y,dpr:x,performance:b,raycaster:_,camera:w,scene:S,size:R,onPointerMissed:function(){return null==O.current?void 0:O.current.apply(O,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(d?(t=d)&&t.hasOwnProperty("current")?d.current:d:L.current),f&&e.setEvents({compute:function(e,t){var n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==E||E(e)}}),B.current.render((0,Kf.jsx)(k,{children:(0,Kf.jsx)(SP,{set:j,children:(0,Kf.jsx)(t.Suspense,{fallback:(0,Kf.jsx)(wP,{set:U}),children:i})})})))})),t.useEffect((function(){var e=N.current;if(e)return function(){return bR(e)}}),[]);var H=d?"none":"auto";return(0,Kf.jsx)("div",je(je({ref:L,style:je({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H},s)},T),{},{children:(0,Kf.jsx)("div",{ref:P,style:{width:"100%",height:"100%"},children:(0,Kf.jsx)("canvas",{ref:N,style:{display:"block"},children:a})})}))})),ZR=t.forwardRef((function(e,t){return(0,Kf.jsx)(zR,{children:(0,Kf.jsx)(YR,je(je({},e),{},{ref:t}))})})),KR=function(){return parseInt(qh.replace(/\D+/g,""))}(),JR=function(e){En(n,e);var t=Pn(n);function n(){return _n(this,n),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <".concat(KR>=154?"colorspace_fragment":"encodings_fragment",">\n      }")})}return Sn(n)}(zb),$R=function(e){return(new wy).setFromSpherical(new MT(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI))},QR=t.forwardRef((function(e,n){var r=e.radius,i=void 0===r?100:r,a=e.depth,o=void 0===a?50:a,s=e.count,l=void 0===s?5e3:s,u=e.saturation,c=void 0===u?0:u,d=e.factor,f=void 0===d?4:d,h=e.fade,p=void 0!==h&&h,v=e.speed,m=void 0===v?1:v,g=t.useRef(),y=t.useMemo((function(){for(var e=[],t=[],n=Array.from({length:l},(function(){return(.5+.5*Math.random())*f})),r=new Wx,a=i+o,s=o/l,u=0;u<l;u++)a-=s*Math.random(),e.push.apply(e,bn($R(a).toArray())),r.setHSL(u/l,c,.9),t.push(r.r,r.g,r.b);return[new Float32Array(e),new Float32Array(t),new Float32Array(n)]}),[l,o,f,i,c]),x=yn(y,3),b=x[0],_=x[1],w=x[2];iR((function(e){return g.current&&(g.current.uniforms.time.value=e.clock.getElapsedTime()*m)}));var S=yn(t.useState((function(){return new JR})),1)[0];return t.createElement("points",{ref:n},t.createElement("bufferGeometry",null,t.createElement("bufferAttribute",{attach:"attributes-position",args:[b,3]}),t.createElement("bufferAttribute",{attach:"attributes-color",args:[_,3]}),t.createElement("bufferAttribute",{attach:"attributes-size",args:[w,1]})),t.createElement("primitive",{ref:g,object:S,attach:"material",blending:up,"uniforms-fade-value":p,depthWrite:!1,transparent:!0,vertexColors:!0}))}));function eN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var nN,rN,iN,aN,oN,sN,lN,uN,cN,dN,fN,hN={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},pN={duration:.5,overwrite:!1,delay:0},vN=1e8,mN=1e-8,gN=2*Math.PI,yN=gN/4,xN=0,bN=Math.sqrt,_N=Math.cos,wN=Math.sin,SN=function(e){return"string"===typeof e},MN=function(e){return"function"===typeof e},EN=function(e){return"number"===typeof e},TN=function(e){return"undefined"===typeof e},kN=function(e){return"object"===typeof e},CN=function(e){return!1!==e},AN=function(){return"undefined"!==typeof window},PN=function(e){return MN(e)||SN(e)},RN="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},NN=Array.isArray,LN=/(?:-?\.?\d|\.)+/gi,ON=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,IN=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,DN=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,UN=/[+-]=-?[.\d]+/,FN=/[^,'"\[\]\s]+/gi,zN=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,jN={},BN={},HN=function(e){return(BN=gL(e,jN))&&xI},VN=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},WN=function(e,t){return!t&&console.warn(e)},GN=function(e,t){return e&&(jN[e]=t)&&BN&&(BN[e]=t)||jN},XN=function(){return 0},qN={suppressEvents:!0,isStart:!0,kill:!1},YN={suppressEvents:!0,kill:!1},ZN={suppressEvents:!0},KN={},JN=[],$N={},QN={},eL={},tL=30,nL=[],rL="",iL=function(e){var t,n,r=e[0];if(kN(r)||MN(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=nL.length;n--&&!nL[n].targetTest(r););t=nL[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new LO(e[n],t)))||e.splice(n,1);return e},aL=function(e){return e._gsap||iL(KL(e))[0]._gsap},oL=function(e,t,n){return(n=e[t])&&MN(n)?e[t]():TN(n)&&e.getAttribute&&e.getAttribute(t)||n},sL=function(e,t){return(e=e.split(",")).forEach(t)||e},lL=function(e){return Math.round(1e5*e)/1e5||0},uL=function(e){return Math.round(1e7*e)/1e7||0},cL=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},dL=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},fL=function(){var e,t,n=JN.length,r=JN.slice(0);for($N={},JN.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},hL=function(e,t,n,r){JN.length&&!rN&&fL(),e.render(t,n,r||rN&&t<0&&(e._initted||e._startAt)),JN.length&&!rN&&fL()},pL=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(FN).length<2?t:SN(e)?e.trim():e},vL=function(e){return e},mL=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},gL=function(e,t){for(var n in t)e[n]=t[n];return e},yL=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=kN(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},xL=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},bL=function(e){var t,n=e.parent||aN,r=e.keyframes?(t=NN(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):mL;if(CN(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},_L=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},wL=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},SL=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ML=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},EL=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},TL=function(e,t,n,r){return e._startAt&&(rN?e._startAt.revert(YN):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},kL=function e(t){return!t||t._ts&&e(t.parent)},CL=function(e){return e._repeat?AL(e._tTime,e=e.duration()+e._rDelay)*e:0},AL=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},PL=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},RL=function(e){return e._end=uL(e._start+(e._tDur/Math.abs(e._ts||e._rts||mN)||0))},NL=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=uL(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),RL(e),n._dirty||ML(n,e)),e},LL=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=PL(e.rawTime(),t),(!t._dur||GL(0,t.totalDuration(),n)-t._tTime>mN)&&t.render(n,!0)),ML(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},OL=function(e,t,n,r){return t.parent&&SL(t),t._start=uL((EN(n)?n:n||e!==aN?HL(e,n,t):e._time)+t._delay),t._end=uL(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),_L(e,t,"_first","_last",e._sort?"_start":0),FL(t)||(e._recent=t),r||LL(e,t),e._ts<0&&NL(e,e._tTime),e},IL=function(e,t){return(jN.ScrollTrigger||VN("scrollTrigger",t))&&jN.ScrollTrigger.create(t,e)},DL=function(e,t,n,r,i){return BO(e,t,i),e._initted?!n&&e._pt&&!rN&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&cN!==bO.frame?(JN.push(e),e._lazy=[i,r],1):void 0:1},UL=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},FL=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},zL=function(e,t,n,r){var i=e._repeat,a=uL(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:uL(a*(i+1)+e._rDelay*i):a,o>0&&!r&&NL(e,e._tTime=e._tDur*o),e.parent&&RL(e),n||ML(e.parent,e),e},jL=function(e){return e instanceof IO?ML(e):zL(e,e._dur)},BL={_start:0,endTime:XN,totalDuration:XN},HL=function e(t,n,r){var i,a,o,s=t.labels,l=t._recent||BL,u=t.duration()>=vN?l.endTime(!1):t._dur;return SN(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=u),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(NN(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:u+a)):null==n?u:+n},VL=function(e,t,n){var r,i,a=EN(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=CN(i.vars.inherit)&&i.parent;s.immediateRender=CN(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new XO(t[0],s,t[o+1])},WL=function(e,t){return e||0===e?t(e):t},GL=function(e,t,n){return n<e?e:n>t?t:n},XL=function(e,t){return SN(e)&&(t=zN.exec(e))?t[1]:""},qL=[].slice,YL=function(e,t){return e&&kN(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&kN(e[0]))&&!e.nodeType&&e!==oN},ZL=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return SN(e)&&!t||YL(e,1)?(r=n).push.apply(r,KL(e)):n.push(e)}))||n},KL=function(e,t,n){return iN&&!t&&iN.selector?iN.selector(e):!SN(e)||n||!sN&&_O()?NN(e)?ZL(e,n):YL(e)?qL.call(e,0):e?[e]:[]:qL.call((t||lN).querySelectorAll(e),0)},JL=function(e){return e=KL(e)[0]||WN("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return KL(t,n.querySelectorAll?n:n===e?WN("Invalid scope")||lN.createElement("div"):e)}},$L=function(e){return e.sort((function(){return.5-Math.random()}))},QL=function(e){if(MN(e))return e;var t=kN(e)?e:{each:e},n=CO(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,l=t.axis,u=r,c=r;return SN(r)?u=c={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(u=r[0],c=r[1]),function(e,o,d){var f,h,p,v,m,g,y,x,b,_=(d||t).length,w=a[_];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,vN])[1])){for(y=-vN;y<(y=d[b++].getBoundingClientRect().left)&&b<_;);b<_&&b--}for(w=a[_]=[],f=s?Math.min(b,_)*u-.5:r%b,h=b===vN?0:s?_*c/b-.5:r/b|0,y=0,x=vN,g=0;g<_;g++)p=g%b-f,v=h-(g/b|0),w[g]=m=l?Math.abs("y"===l?v:p):bN(p*p+v*v),m>y&&(y=m),m<x&&(x=m);"random"===r&&$L(w),w.max=y-x,w.min=x,w.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(b>_?_-1:l?"y"===l?_/b:b:Math.max(b,_/b))||0)*("edges"===r?-1:1),w.b=_<0?i-_:i,w.u=XL(t.amount||t.each)||0,n=n&&_<0?TO(n):n}return _=(w[e]-w.min)/w.max||0,uL(w.b+(n?n(_):_)*w.v)+w.u}},eO=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=uL(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(EN(n)?0:XL(n))}},tO=function(e,t){var n,r,i=NN(e);return!i&&kN(e)&&(n=i=e.radius||vN,e.values?(e=KL(e.values),(r=!EN(e[0]))&&(n*=n)):e=eO(e.increment)),WL(t,i?MN(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=vN,u=0,c=e.length;c--;)(i=r?(i=e[c].x-o)*i+(a=e[c].y-s)*a:Math.abs(e[c]-o))<l&&(l=i,u=c);return u=!n||l<=n?e[u]:t,r||u===t||EN(t)?u:u+XL(t)}:eO(e))},nO=function(e,t,n,r){return WL(NN(e)?!t:!0===n?!!(n=0):!r,(function(){return NN(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},rO=function(e,t,n){return WL(n,(function(n){return e[~~t(n)]}))},iO=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?FN:LN),o+=e.substr(a,t-a)+nO(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},aO=function(e,t,n,r,i){var a=t-e,o=r-n;return WL(i,(function(t){return n+((t-e)/a*o||0)}))},oO=function(e,t,n){var r,i,a,o=e.labels,s=vN;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},sO=function(e,t,n){var r,i,a,o=e.vars,s=o[t],l=iN,u=e._ctx;if(s)return r=o[t+"Params"],i=o.callbackScope||e,n&&JN.length&&fL(),u&&(iN=u),a=r?s.apply(i,r):s.call(i),iN=l,a},lO=function(e){return SL(e),e.scrollTrigger&&e.scrollTrigger.kill(!!rN),e.progress()<1&&sO(e,"onInterrupt"),e},uO=[],cO=function(e){if(e)if(e=!e.name&&e.default||e,AN()||e.headless){var t=e.name,n=MN(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:XN,render:tI,add:zO,kill:rI,modifier:nI,rawVars:0},a={targetTest:0,get:0,getSetter:JO,aliases:{},register:0};if(_O(),e!==r){if(QN[t])return;mL(r,mL(xL(e,i),a)),gL(r.prototype,gL(i,xL(e,a))),QN[r.prop=t]=r,e.targetTest&&(nL.push(r),KN[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}GN(t,r),e.register&&e.register(xI,r,oI)}else uO.push(e)},dO=255,fO={aqua:[0,dO,dO],lime:[0,dO,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,dO],navy:[0,0,128],white:[dO,dO,dO],olive:[128,128,0],yellow:[dO,dO,0],orange:[dO,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[dO,0,0],pink:[dO,192,203],cyan:[0,dO,dO],transparent:[dO,dO,dO,0]},hO=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*dO+.5|0},pO=function(e,t,n){var r,i,a,o,s,l,u,c,d,f,h=e?EN(e)?[e>>16,e>>8&dO,e&dO]:0:fO.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),fO[e])h=fO[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(h=parseInt(e.substr(1,6),16))>>16,h>>8&dO,h&dO,parseInt(e.substr(7),16)/255];h=[(e=parseInt(e.substr(1),16))>>16,e>>8&dO,e&dO]}else if("hsl"===e.substr(0,3))if(h=f=e.match(LN),t){if(~e.indexOf("="))return h=e.match(ON),n&&h.length<4&&(h[3]=1),h}else o=+h[0]%360/360,s=+h[1]/100,r=2*(l=+h[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),h.length>3&&(h[3]*=1),h[0]=hO(o+1/3,r,i),h[1]=hO(o,r,i),h[2]=hO(o-1/3,r,i);else h=e.match(LN)||fO.transparent;h=h.map(Number)}return t&&!f&&(r=h[0]/dO,i=h[1]/dO,a=h[2]/dO,l=((u=Math.max(r,i,a))+(c=Math.min(r,i,a)))/2,u===c?o=s=0:(d=u-c,s=l>.5?d/(2-u-c):d/(u+c),o=u===r?(i-a)/d+(i<a?6:0):u===i?(a-r)/d+2:(r-i)/d+4,o*=60),h[0]=~~(o+.5),h[1]=~~(100*s+.5),h[2]=~~(100*l+.5)),n&&h.length<4&&(h[3]=1),h},vO=function(e){var t=[],n=[],r=-1;return e.split(gO).forEach((function(e){var i=e.match(IN)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},mO=function(e,t,n){var r,i,a,o,s="",l=(e+s).match(gO),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=pO(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=vO(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(gO,"1").split(IN)).length-1;c<o;c++)s+=i[c]+(~r.indexOf(c)?l.shift()||u+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(gO)).length-1;c<o;c++)s+=i[c]+l[c];return s+i[o]},gO=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in fO)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),yO=/hsl[a]?\(/,xO=function(e){var t,n=e.join(" ");if(gO.lastIndex=0,gO.test(n))return t=yO.test(n),e[1]=mO(e[1],t),e[0]=mO(e[0],t,vO(e[1])),!0},bO=function(){var e,t,n,r,i,a,o=Date.now,s=500,l=33,u=o(),c=u,d=1e3/240,f=d,h=[],p=function n(p){var v,m,g,y,x=o()-c,b=!0===p;if((x>s||x<0)&&(u+=x-l),((v=(g=(c+=x)-u)-f)>0||b)&&(y=++r.frame,i=g-1e3*r.time,r.time=g/=1e3,f+=v+(v>=d?4:d-v),m=1),b||(e=t(n)),m)for(a=0;a<h.length;a++)h[a](g,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){uN&&(!sN&&AN()&&(oN=sN=window,lN=oN.document||{},jN.gsap=xI,(oN.gsapVersions||(oN.gsapVersions=[])).push(xI.version),HN(BN||oN.GreenSockGlobals||!oN.gsap&&oN||{}),uO.forEach(cO)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,f-1e3*r.time+1|0)},fN=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),fN=0,t=XN},lagSmoothing:function(e,t){s=e||1/0,l=Math.min(t||33,s)},fps:function(e){d=1e3/(e||240),f=1e3*r.time+d},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),h[n?"unshift":"push"](i),_O(),i},remove:function(e,t){~(t=h.indexOf(e))&&h.splice(t,1)&&a>=t&&a--},_listeners:h},r}(),_O=function(){return!fN&&bO.wake()},wO={},SO=/^[\d.\-M][\d.\-,\s]/,MO=/["']/g,EO=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(MO,"").trim():+r,o=n.substr(t+1).trim();return i},TO=function(e){return function(t){return 1-e(1-t)}},kO=function e(t,n){for(var r,i=t._first;i;)i instanceof IO?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},CO=function(e,t){return e&&(MN(e)?e:wO[e]||function(e){var t=(e+"").split("("),n=wO[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[EO(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(pL)):wO._CE&&SO.test(e)?wO._CE("",e):n}(e))||t},AO=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return sL(e,(function(e){for(var t in wO[e]=jN[e]=a,wO[i=e.toLowerCase()]=n,a)wO[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=wO[e+"."+t]=a[t]})),a},PO=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},RO=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/gN*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*wN((e-o)*a)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:PO(s);return a=gN/a,l.config=function(n,r){return e(t,n,r)},l},NO=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:PO(r);return i.config=function(n){return e(t,n)},i};sL("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;AO(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),wO.Linear.easeNone=wO.none=wO.Linear.easeIn,AO("Elastic",RO("in"),RO("out"),RO()),function(e,t){var n=1/t,r=function(r){return r<n?e*r*r:r<.7272727272727273?e*Math.pow(r-1.5/t,2)+.75:r<.9090909090909092?e*(r-=2.25/t)*r+.9375:e*Math.pow(r-2.625/t,2)+.984375};AO("Bounce",(function(e){return 1-r(1-e)}),r)}(7.5625,2.75),AO("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),AO("Circ",(function(e){return-(bN(1-e*e)-1)})),AO("Sine",(function(e){return 1===e?1:1-_N(e*yN)})),AO("Back",NO("in"),NO("out"),NO()),wO.SteppedEase=wO.steps=jN.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*GL(0,.99999999,e)|0)+i)*n}}},pN.ease=wO["quad.out"],sL("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return rL+=e+","+e+"Params,"}));var LO=function(e,t){this.id=xN++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:oL,this.set=t?t.getSetter:JO},OO=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,zL(this,+e.duration,1,1),this.data=e.data,iN&&(this._ctx=iN,iN.data.push(this)),fN||bO.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,zL(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(_O(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(NL(this,e),!n._dp||n.parent||LL(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&OL(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===mN||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),hL(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+CL(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+CL(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?AL(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?PL(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(GL(-Math.abs(this._delay),this._tDur,n),!1!==t),RL(this),EL(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_O(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==mN&&(this._tTime-=mN)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&OL(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(CN(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?PL(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ZN);var t=rN;return rN=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),rN=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,jL(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,jL(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(HL(this,e),CN(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,CN(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-mN))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=MN(e)?e:vL,i=function(){var e=t.then;t.then=null,MN(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){lO(this)},e}();mL(OO.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var IO=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=CN(t.sortChildren),aN&&OL(t.parent||aN,eN(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&IL(eN(r),t.scrollTrigger),r}tN(t,e);var n=t.prototype;return n.to=function(e,t,n){return VL(0,arguments,this),this},n.from=function(e,t,n){return VL(1,arguments,this),this},n.fromTo=function(e,t,n,r){return VL(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,bL(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new XO(e,t,HL(this,n),1),this},n.call=function(e,t,n){return OL(this,XO.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new XO(e,n,HL(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,bL(n).immediateRender=CN(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,bL(r).immediateRender=CN(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,o,s,l,u,c,d,f,h,p,v=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,y=e<=0?0:uL(e),x=this._zTime<0!==e<0&&(this._initted||!g);if(this!==aN&&y>m&&e>=0&&(y=m),y!==this._tTime||n||x){if(v!==this._time&&g&&(y+=this._time-v,e+=this._time-v),r=y,d=this._start,l=!(c=this._ts),x&&(g||(v=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(h=this._yoyo,s=g+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,n);if(r=uL(y%s),y===m?(o=this._repeat,r=g):((o=~~(y/s))&&o===y/s&&(r=g,o--),r>g&&(r=g)),f=AL(this._tTime,s),!v&&this._tTime&&f!==o&&this._tTime-f*s-this._dur<=0&&(f=o),h&&1&o&&(r=g-r,p=1),o!==f&&!this._lock){var b=h&&1&f,_=b===(h&&1&o);if(o<f&&(b=!b),v=b?0:y%g?g:y,this._lock=1,this.render(v||(p?0:uL(o*s)),t,!g)._lock=0,this._tTime=y,!t&&this.parent&&sO(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),v&&v!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,m=this._tDur,_&&(this._lock=2,v=b?g:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;kO(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,uL(v),uL(r)),u&&(y-=r-(r=u._start))),this._tTime=y,this._time=r,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,v=0),!v&&r&&!t&&!o&&(sO(this,"onStart"),this._tTime!==y))return this;if(r>=v&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){u=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var w=e<0?e:r;i;){if(a=i._prev,(i._act||w<=i._end)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,n||rN&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!l){u=0,a&&(y+=this._zTime=w?-1e-8:mN);break}}i=a}}if(u&&!t&&(this.pause(),u.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=d,RL(this),this.render(e,t,n);this._onUpdate&&!t&&sO(this,"onUpdate",!0),(y===m&&this._tTime>=this.totalDuration()||!y&&v)&&(d!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((e||!g)&&(y===m&&this._ts>0||!y&&this._ts<0)&&SL(this,1),t||e<0&&!v||!y&&!v&&m||(sO(this,y===m&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(EN(t)||(t=HL(this,t,e)),!(e instanceof OO)){if(NN(e))return e.forEach((function(e){return n.add(e,t)})),this;if(SN(e))return this.addLabel(e,t);if(!MN(e))return this;e=XO.delayedCall(0,e)}return this!==e?OL(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-vN);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof XO?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return SN(e)?this.removeLabel(e):MN(e)?this.killTweensOf(e):(wL(this,e),e===this._recent&&(this._recent=this._last),ML(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=uL(bO.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=HL(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=XO.delayedCall(0,t||XN,n);return r.data="isPause",this._hasPause=1,OL(this,r,HL(this,e))},n.removePause=function(e){var t=this._first;for(e=HL(this,e);t;)t._start===e&&"isPause"===t.data&&SL(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)DO!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=KL(e),a=this._first,o=EN(t);a;)a instanceof XO?dL(a._targets,i)&&(o?(!DO||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=HL(r,e),a=t,o=a.startAt,s=a.onStart,l=a.onStartParams,u=a.immediateRender,c=XO.to(r,mL({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||mN,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());c._dur!==e&&zL(c,e,0,1).render(c._time,!0,!0),n=1}s&&s.apply(c,l||[])}},t));return u?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,mL({startAt:{time:HL(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),oO(this,HL(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),oO(this,HL(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+mN)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return ML(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),ML(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,s=vN;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,OL(a,o,n-o._delay,1)._lock=0):s=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),s=0),o._end>i&&o._ts&&(i=o._end),o=t;zL(a,a===aN&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(aN._ts&&(hL(aN,PL(e,aN)),cN=bO.frame),bO.frame>=tL){tL+=hN.autoSleep||120;var t=aN._first;if((!t||!t._ts)&&hN.autoSleep&&bO._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||bO.sleep()}}},t}(OO);mL(IO.prototype,{_lock:0,_hasPause:0,_forcing:0});var DO,UO,FO=function(e,t,n,r,i,a,o){var s,l,u,c,d,f,h,p,v=new oI(this._pt,e,t,0,1,eI,null,i),m=0,g=0;for(v.b=n,v.e=r,n+="",(h=~(r+="").indexOf("random("))&&(r=iO(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(DN)||[];s=DN.exec(r);)c=s[0],d=r.substring(m,s.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),c!==l[g++]&&(f=parseFloat(l[g-1])||0,v._pt={_next:v._pt,p:d||1===g?d:",",s:f,c:"="===c.charAt(1)?cL(f,c)-f:parseFloat(c)-f,m:u&&u<4?Math.round:0},m=DN.lastIndex);return v.c=m<r.length?r.substring(m,r.length):"",v.fp=o,(UN.test(r)||h)&&(v.e=0),this._pt=v,v},zO=function(e,t,n,r,i,a,o,s,l,u){MN(r)&&(r=r(i||0,e,a));var c,d=e[t],f="get"!==n?n:MN(d)?l?e[t.indexOf("set")||!MN(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,h=MN(d)?l?ZO:YO:qO;if(SN(r)&&(~r.indexOf("random(")&&(r=iO(r)),"="===r.charAt(1)&&((c=cL(f,r)+(XL(f)||0))||0===c)&&(r=c)),!u||f!==r||UO)return isNaN(f*r)||""===r?(!d&&!(t in e)&&VN(t,r),FO.call(this,e,t,f,r,h,s||hN.stringFilter,l)):(c=new oI(this._pt,e,t,+f||0,r-(f||0),"boolean"===typeof d?QO:$O,0,h),l&&(c.fp=l),o&&c.modifier(o,this,e),this._pt=c)},jO=function(e,t,n,r,i,a){var o,s,l,u;if(QN[e]&&!1!==(o=new QN[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(MN(e)&&(e=VO(e,i,t,n,r)),!kN(e)||e.style&&e.nodeType||NN(e)||RN(e))return SN(e)?VO(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=VO(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new oI(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==dN))for(l=n._ptLookup[n._targets.indexOf(i)],u=o._props.length;u--;)l[o._props[u]]=s;return o},BO=function e(t,n,r){var i,a,o,s,l,u,c,d,f,h,p,v,m,g=t.vars,y=g.ease,x=g.startAt,b=g.immediateRender,_=g.lazy,w=g.onUpdate,S=g.runBackwards,M=g.yoyoEase,E=g.keyframes,T=g.autoRevert,k=t._dur,C=t._startAt,A=t._targets,P=t.parent,R=P&&"nested"===P.data?P.vars.targets:A,N="auto"===t._overwrite&&!nN,L=t.timeline;if(L&&(!E||!y)&&(y="none"),t._ease=CO(y,pN.ease),t._yEase=M?TO(CO(!0===M?y:M,pN.ease)):0,M&&t._yoyo&&!t._repeat&&(M=t._yEase,t._yEase=t._ease,t._ease=M),t._from=!L&&!!g.runBackwards,!L||E&&!g.stagger){if(v=(d=A[0]?aL(A[0]).harness:0)&&g[d.prop],i=xL(g,KN),C&&(C._zTime<0&&C.progress(1),n<0&&S&&b&&!T?C.render(-1,!0):C.revert(S&&k?YN:qN),C._lazy=0),x){if(SL(t._startAt=XO.set(A,mL({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!C&&CN(_),startAt:null,delay:0,onUpdate:w&&function(){return sO(t,"onUpdate")},stagger:0},x))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(rN||!b&&!T)&&t._startAt.revert(YN),b&&k&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(S&&k&&!C)if(n&&(b=!1),o=mL({overwrite:!1,data:"isFromStart",lazy:b&&!C&&CN(_),immediateRender:b,stagger:0,parent:P},i),v&&(o[d.prop]=v),SL(t._startAt=XO.set(A,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(rN?t._startAt.revert(YN):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,mN,mN);for(t._pt=t._ptCache=0,_=k&&CN(_)||_&&!k,a=0;a<A.length;a++){if(c=(l=A[a])._gsap||iL(A)[a]._gsap,t._ptLookup[a]=h={},$N[c.id]&&JN.length&&fL(),p=R===A?a:R.indexOf(l),d&&!1!==(f=new d).init(l,v||i,t,p,R)&&(t._pt=s=new oI(t._pt,l,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(e){h[e]=s})),f.priority&&(u=1)),!d||v)for(o in i)QN[o]&&(f=jO(o,i,t,p,l,R))?f.priority&&(u=1):h[o]=s=zO.call(t,l,o,"get",i[o],p,R,0,g.stringFilter);t._op&&t._op[a]&&t.kill(l,t._op[a]),N&&t._pt&&(DO=t,aN.killTweensOf(l,h,t.globalTime(n)),m=!t.parent,DO=0),t._pt&&_&&($N[c.id]=1)}u&&aI(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!m,E&&n<=0&&L.render(vN,!0,!0)},HO=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(NN(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},VO=function(e,t,n,r,i){return MN(e)?e.call(t,n,r,i):SN(e)&&~e.indexOf("random(")?iO(e):e},WO=rL+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",GO={};sL(WO+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return GO[e]=1}));var XO=function(e){function t(t,n,r,i){var a;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,s,l,u,c,d,f,h,p=(a=e.call(this,i?n:bL(n))||this).vars,v=p.duration,m=p.delay,g=p.immediateRender,y=p.stagger,x=p.overwrite,b=p.keyframes,_=p.defaults,w=p.scrollTrigger,S=p.yoyoEase,M=n.parent||aN,E=(NN(t)||RN(t)?EN(t[0]):"length"in n)?[t]:KL(t);if(a._targets=E.length?iL(E):WN("GSAP target "+t+" not found. https://gsap.com",!hN.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=x,b||y||PN(v)||PN(m)){if(n=a.vars,(o=a.timeline=new IO({data:"nested",defaults:_||{},targets:M&&"nested"===M.data?M.vars.targets:E})).kill(),o.parent=o._dp=eN(a),o._start=0,y||PN(v)||PN(m)){if(u=E.length,f=y&&QL(y),kN(y))for(c in y)~WO.indexOf(c)&&(h||(h={}),h[c]=y[c]);for(s=0;s<u;s++)(l=xL(n,GO)).stagger=0,S&&(l.yoyoEase=S),h&&gL(l,h),d=E[s],l.duration=+VO(v,eN(a),s,d,E),l.delay=(+VO(m,eN(a),s,d,E)||0)-a._delay,!y&&1===u&&l.delay&&(a._delay=m=l.delay,a._start+=m,l.delay=0),o.to(d,l,f?f(s,d,E):0),o._ease=wO.none;o.duration()?v=m=0:a.timeline=0}else if(b){bL(mL(o.vars.defaults,{ease:"none"})),o._ease=CO(b.ease||n.ease||"none");var T,k,C,A=0;if(NN(b))b.forEach((function(e){return o.to(E,e,">")})),o.duration();else{for(c in l={},b)"ease"===c||"easeEach"===c||HO(c,b[c],l,b.easeEach);for(c in l)for(T=l[c].sort((function(e,t){return e.t-t.t})),A=0,s=0;s<T.length;s++)(C={ease:(k=T[s]).e,duration:(k.t-(s?T[s-1].t:0))/100*v})[c]=k.v,o.to(E,C,A),A+=C.duration;o.duration()<v&&o.to({},{duration:v-o.duration()})}}v||a.duration(v=o.duration())}else a.timeline=0;return!0!==x||nN||(DO=eN(a),aN.killTweensOf(E),DO=0),OL(M,eN(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(g||!v&&!b&&a._start===uL(M._time)&&CN(g)&&kL(eN(a))&&"nested"!==M.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-m)||0)),w&&IL(eN(a),w),a}tN(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,o,s,l,u,c,d,f=this._time,h=this._tDur,p=this._dur,v=e<0,m=e>h-mN&&!v?h:e<mN?0:e;if(p){if(m!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==v){if(r=m,c=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&v)return this.totalTime(100*o+e,t,n);if(r=uL(m%o),m===h?(a=this._repeat,r=p):((a=~~(m/o))&&a===uL(m/o)&&(r=p,a--),r>p&&(r=p)),(l=this._yoyo&&1&a)&&(d=this._yEase,r=p-r),s=AL(this._tTime,o),r===f&&!n&&this._initted&&a===s)return this._tTime=m,this;a!==s&&(c&&this._yEase&&kO(c,l),this.vars.repeatRefresh&&!l&&!this._lock&&this._time!==o&&this._initted&&(this._lock=n=1,this.render(uL(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(DL(this,v?e:r,n,t,m))return this._tTime=0,this;if(f!==this._time&&(!n||!this.vars.repeatRefresh||a===s))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/p),this._from&&(this.ratio=u=1-u),r&&!f&&!t&&!a&&(sO(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;c&&c.render(e<0?e:c._dur*c._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(v&&TL(this,e,0,n),sO(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&sO(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(v&&!this._onUpdate&&TL(this,e,0,!0),(e||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&SL(this,1),t||v&&!f||!(m||f||l)||(sO(this,m===h?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,o,s=e.ratio,l=t<0||!t&&(!e._start&&UL(e)&&(e._initted||!FL(e))||(e._ts<0||e._dp._ts<0)&&!FL(e))?0:1,u=e._rDelay,c=0;if(u&&e._repeat&&(c=GL(0,e._tDur,t),a=AL(c,u),e._yoyo&&1&a&&(l=1-l),a!==AL(e._tTime,u)&&(s=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==s||rN||r||e._zTime===mN||!t&&e._zTime){if(!e._initted&&DL(e,t,r,n,c))return;for(o=e._zTime,e._zTime=t||(n?mN:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=c,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&TL(e,t,0,!0),e._onUpdate&&!n&&sO(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&sO(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&SL(e,1),n||rN||(sO(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){fN||bO.wake(),this._ts||this.play();var a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||BO(this,a),function(e,t,n,r,i,a,o,s){var l,u,c,d,f=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!f)for(f=e._ptCache[t]=[],c=e._ptLookup,d=e._targets.length;d--;){if((l=c[d][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return UO=1,e.vars[t]="+=0",BO(e,o),UO=0,s?WN(t+" not eligible for reset"):1;f.push(l)}for(d=f.length;d--;)(l=(u=f[d])._pt||u).s=!r&&0!==r||i?l.s+(r||0)+a*l.c:r,l.c=n-l.s,u.e&&(u.e=lL(n)+XL(u.e)),u.b&&(u.b=l.s+XL(u.b))}(this,e,t,n,r,this._ease(a/this._dur),a,i)?this.resetTo(e,t,n,r,1):(NL(this,0),this.parent||_L(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?lO(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,DO&&!0!==DO.vars.overwrite)._first||lO(this),this.parent&&n!==this.timeline.totalDuration()&&zL(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,l,u,c=this._targets,d=e?KL(e):c,f=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(c,d))return"all"===t&&(this._pt=0),lO(this);for(r=this._op=this._op||[],"all"!==t&&(SN(t)&&(s={},sL(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?aL(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=gL({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(c,t)),u=c.length;u--;)if(~d.indexOf(c[u]))for(s in i=f[u],"all"===t?(r[u]=t,o=i,a={}):(a=r[u]=r[u]||{},o=t),o)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||wL(this,l,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&h&&lO(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return VL(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return VL(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return aN.killTweensOf(e,t,n)},t}(OO);mL(XO.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),sL("staggerTo,staggerFrom,staggerFromTo",(function(e){XO[e]=function(){var t=new IO,n=qL.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var qO=function(e,t,n){return e[t]=n},YO=function(e,t,n){return e[t](n)},ZO=function(e,t,n,r){return e[t](r.fp,n)},KO=function(e,t,n){return e.setAttribute(t,n)},JO=function(e,t){return MN(e[t])?YO:TN(e[t])&&e.setAttribute?KO:qO},$O=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},QO=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},eI=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},tI=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},nI=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},rI=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?wL(this,r,"_pt"):r.dep||(t=1),r=n;return!t},iI=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},aI=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},oI=function(){function e(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||$O,this.d=o||this,this.set=s||qO,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=iI,this.m=e,this.mt=n,this.tween=t},e}();sL(rL+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return KN[e]=1})),jN.TweenMax=jN.TweenLite=XO,jN.TimelineLite=jN.TimelineMax=IO,aN=new IO({sortChildren:!1,defaults:pN,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),hN.stringFilter=xO;var sI=[],lI={},uI=[],cI=0,dI=0,fI=function(e){return(lI[e]||uI).map((function(e){return e()}))},hI=function(){var e=Date.now(),t=[];e-cI>2&&(fI("matchMediaInit"),sI.forEach((function(e){var n,r,i,a,o=e.queries,s=e.conditions;for(r in o)(n=oN.matchMedia(o[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,a=1);a&&(e.revert(),i&&t.push(e))})),fI("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),cI=e,fI("matchMedia"))},pI=function(){function e(e,t){this.selector=t&&JL(t),this.data=[],this._r=[],this.isReverted=!1,this.id=dI++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){MN(e)&&(n=t,t=e,e=MN);var r=this,i=function(){var e,i=iN,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=JL(n)),iN=r,e=t.apply(r,arguments),MN(e)&&r._r.push(e),iN=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===MN?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=iN;iN=null,e(this),iN=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof XO&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof IO?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof XO)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=sI.length;r--;)sI[r].id===this.id&&sI.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),vI=function(){function e(e){this.contexts=[],this.scope=e,iN&&iN.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){kN(e)||(e={matches:e});var r,i,a,o=new pI(0,n||this.scope),s=o.conditions={};for(i in iN&&!o.selector&&(o.selector=iN.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?a=1:(r=oN.matchMedia(e[i]))&&(sI.indexOf(o)<0&&sI.push(o),(s[i]=r.matches)&&(a=1),r.addListener?r.addListener(hI):r.addEventListener("change",hI));return a&&t(o,(function(e){return o.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),mI={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return cO(e)}))},timeline:function(e){return new IO(e)},getTweensOf:function(e,t){return aN.getTweensOf(e,t)},getProperty:function(e,t,n,r){SN(e)&&(e=KL(e)[0]);var i=aL(e||{}).get,a=n?vL:pL;return"native"===n&&(n=""),e?t?a((QN[t]&&QN[t].get||i)(e,t,n,r)):function(t,n,r){return a((QN[t]&&QN[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=KL(e)).length>1){var r=e.map((function(e){return xI.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=QN[t],o=aL(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var r=new a;dN._pt=0,r.init(e,n?t+n:t,dN,0,[e]),r.render(1,r),dN._pt&&tI(1,dN)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=xI.to(e,gL(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return aN.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=CO(e.ease,pN.ease)),yL(pN,e||{})},config:function(e){return yL(hN,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!QN[e]&&!jN[e]&&WN(t+" effect requires "+e+" plugin.")})),eL[t]=function(e,t,r){return n(KL(e),mL(t||{},i),r)},a&&(IO.prototype[t]=function(e,n,r){return this.add(eL[t](e,kN(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){wO[e]=CO(t)},parseEase:function(e,t){return arguments.length?CO(e,t):wO},getById:function(e){return aN.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new IO(e);for(i.smoothChildTiming=CN(e.smoothChildTiming),aN.remove(i),i._dp=0,i._time=i._tTime=aN._time,n=aN._first;n;)r=n._next,!t&&!n._dur&&n instanceof XO&&n.vars.onComplete===n._targets[0]||OL(i,n,n._start-n._delay),n=r;return OL(aN,i,0),i},context:function(e,t){return e?new pI(e,t):iN},matchMedia:function(e){return new vI(e)},matchMediaRefresh:function(){return sI.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||hI()},addEventListener:function(e,t){var n=lI[e]||(lI[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=lI[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return NN(t)?rO(t,e(0,t.length),n):WL(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return NN(t)?rO(t,e(0,t.length-1),n):WL(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:QL,random:nO,snap:tO,normalize:function(e,t,n){return aO(e,t,0,1,n)},getUnit:XL,clamp:function(e,t,n){return WL(n,(function(n){return GL(e,t,n)}))},splitColor:pO,toArray:KL,selector:JL,mapRange:aO,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||XL(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,l,u,c,d=SN(t),f={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(NN(t)&&!NN(n)){for(l=[],u=t.length,c=u-2,s=1;s<u;s++)l.push(e(t[s-1],t[s]));u--,a=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},r=n}else i||(t=gL(NN(t)?[]:{},t));if(!l){for(o in n)zO.call(f,t,o,"get",n[o]);a=function(e){return tI(e,f)||(d?t.p:t)}}}return WL(r,a)},shuffle:$L},install:HN,effects:eL,ticker:bO,updateRoot:IO.updateRoot,plugins:QN,globalTimeline:aN,core:{PropTween:oI,globals:GN,Tween:XO,Timeline:IO,Animation:OO,getCache:aL,_removeLinkedListItem:wL,reverting:function(){return rN},context:function(e){return e&&iN&&(iN.data.push(e),e._ctx=iN),iN},suppressOverwrites:function(e){return nN=e}}};sL("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return mI[e]=XO[e]})),bO.add(IO.updateRoot),dN=mI.to({},{duration:0});var gI=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},yI=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(SN(n)&&(r={},sL(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=gI(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},xI=mI.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o,s;for(a in this.tween=n,t)s=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(s||0)+"",t[a],r,i,0,0,a)).op=a,o.b=s,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)rN?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},yI("roundProps",eO),yI("modifiers"),yI("snap",tO))||mI;XO.version=IO.version=xI.version="3.12.5",uN=1,AN()&&_O();wO.Power0,wO.Power1,wO.Power2,wO.Power3,wO.Power4,wO.Linear,wO.Quad,wO.Cubic,wO.Quart,wO.Quint,wO.Strong,wO.Elastic,wO.Back,wO.SteppedEase,wO.Bounce,wO.Sine,wO.Expo,wO.Circ;var bI,_I,wI,SI,MI,EI,TI,kI,CI={},AI=180/Math.PI,PI=Math.PI/180,RI=Math.atan2,NI=/([A-Z])/g,LI=/(left|right|width|margin|padding|x)/i,OI=/[\s,\(]\S/,II={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},DI=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},UI=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},FI=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},zI=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},jI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},BI=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},HI=function(e,t,n){return e.style[t]=n},VI=function(e,t,n){return e.style.setProperty(t,n)},WI=function(e,t,n){return e._gsap[t]=n},GI=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},XI=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},qI=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},YI="transform",ZI=YI+"Origin",KI=function e(t,n){var r=this,i=this.target,a=i.style,o=i._gsap;if(t in CI&&a){if(this.tfm=this.tfm||{},"transform"===t)return II.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=II[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=pD(i,e)})):this.tfm[t]=o.x?o[t]:pD(i,t),t===ZI&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(YI)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ZI,n,"")),t=YI}(a||n)&&this.props.push(t,n,a[t])},JI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},$I=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(NI,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=TI())&&e.isStart||i[YI]||(JI(i),a.zOrigin&&i[ZI]&&(i[ZI]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},QI=function(e,t){var n={target:e,props:[],revert:$I,save:KI};return e._gsap||xI.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},eD=function(e,t){var n=_I.createElementNS?_I.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_I.createElement(e);return n&&n.style?n:_I.createElement(e)},tD=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(NI,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,rD(n)||n,1)||""},nD="O,Moz,ms,Ms,Webkit".split(","),rD=function(e,t,n){var r=(t||MI).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(nD[i]+e in r););return i<0?null:(3===i?"ms":i>=0?nD[i]:"")+e},iD=function(){"undefined"!==typeof window&&window.document&&(bI=window,_I=bI.document,wI=_I.documentElement,MI=eD("div")||{style:{}},eD("div"),YI=rD(YI),ZI=YI+"Origin",MI.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",kI=!!rD("perspective"),TI=xI.core.reverting,SI=1)},aD=function e(t){var n,r=eD("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(wI.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(s){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),wI.removeChild(r),this.style.cssText=o,n},oD=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},sD=function(e){var t;try{t=e.getBBox()}catch(UR){t=aD.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===aD||(t=aD.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+oD(e,["x","cx","x1"])||0,y:+oD(e,["y","cy","y1"])||0,width:0,height:0}},lD=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!sD(e))},uD=function(e,t){if(t){var n,r=e.style;t in CI&&t!==ZI&&(t=YI),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(NI,"-$1").toLowerCase())):r.removeAttribute(t)}},cD=function(e,t,n,r,i,a){var o=new oI(e._pt,t,n,0,1,a?BI:jI);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},dD={deg:1,rad:1,turn:1},fD={grid:1,flex:1},hD=function e(t,n,r,i){var a,o,s,l,u=parseFloat(r)||0,c=(r+"").trim().substr((u+"").length)||"px",d=MI.style,f=LI.test(n),h="svg"===t.tagName.toLowerCase(),p=(h?"client":"offset")+(f?"Width":"Height"),v=100,m="px"===i,g="%"===i;if(i===c||!u||dD[i]||dD[c])return u;if("px"!==c&&!m&&(u=e(t,n,r,"px")),l=t.getCTM&&lD(t),(g||"%"===c)&&(CI[n]||~n.indexOf("adius")))return a=l?t.getBBox()[f?"width":"height"]:t[p],lL(g?u/a*v:u/100*a);if(d[f?"width":"height"]=v+(m?c:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!h?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==_I&&o.appendChild||(o=_I.body),(s=o._gsap)&&g&&s.width&&f&&s.time===bO.time&&!s.uncache)return lL(u/s.width*v);if(!g||"height"!==n&&"width"!==n)(g||"%"===c)&&!fD[tD(o,"display")]&&(d.position=tD(t,"position")),o===t&&(d.position="static"),o.appendChild(MI),a=MI[p],o.removeChild(MI),d.position="absolute";else{var y=t.style[n];t.style[n]=v+i,a=t[p],y?t.style[n]=y:uD(t,n)}return f&&g&&((s=aL(o)).time=bO.time,s.width=o[p]),lL(m?a*u/v:a&&u?v/a*u:0)},pD=function(e,t,n,r){var i;return SI||iD(),t in II&&"transform"!==t&&~(t=II[t]).indexOf(",")&&(t=t.split(",")[0]),CI[t]&&"transform"!==t?(i=TD(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:kD(tD(e,ZI))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=xD[t]&&xD[t](e,t,n)||tD(e,t)||oL(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?hD(e,t,i,n)+n:i},vD=function(e,t,n,r){if(!n||"none"===n){var i=rD(t,e,1),a=i&&tD(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=tD(e,"borderTopColor"))}var o,s,l,u,c,d,f,h,p,v,m,g=new oI(this._pt,e.style,t,0,1,eI),y=0,x=0;if(g.b=n,g.e=r,n+="","auto"===(r+="")&&(d=e.style[t],e.style[t]=r,r=tD(e,t)||r,d?e.style[t]=d:uD(e,t)),xO(o=[n,r]),r=o[1],l=(n=o[0]).match(IN)||[],(r.match(IN)||[]).length){for(;s=IN.exec(r);)f=s[0],p=r.substring(y,s.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),f!==(d=l[x++]||"")&&(u=parseFloat(d)||0,m=d.substr((u+"").length),"="===f.charAt(1)&&(f=cL(u,f)+m),h=parseFloat(f),v=f.substr((h+"").length),y=IN.lastIndex-v.length,v||(v=v||hN.units[t]||m,y===r.length&&(r+=v,g.e+=v)),m!==v&&(u=hD(e,t,d,v)||0),g._pt={_next:g._pt,p:p||1===x?p:",",s:u,c:h-u,m:c&&c<4||"zIndex"===t?Math.round:0});g.c=y<r.length?r.substring(y,r.length):""}else g.r="display"===t&&"none"===r?BI:jI;return UN.test(r)&&(g.e=0),this._pt=g,g},mD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},gD=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=mD[n]||n,t[1]=mD[r]||r,t.join(" ")},yD=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],CI[n]&&(r=1,n="transformOrigin"===n?ZI:YI),uD(a,n);r&&(uD(a,YI),l&&(l.svg&&a.removeAttribute("transform"),TD(a,1),l.uncache=1,JI(o)))}},xD={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new oI(e._pt,t,n,0,0,yD);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},bD=[1,0,0,1,0,0],_D={},wD=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},SD=function(e){var t=tD(e,YI);return wD(t)?bD:t.substr(7).match(ON).map(lL)},MD=function(e,t){var n,r,i,a,o=e._gsap||aL(e),s=e.style,l=SD(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?bD:l:(l!==bD||e.offsetParent||e===wI||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,wI.appendChild(e)),l=SD(e),i?s.display=i:uD(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):wI.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ED=function(e,t,n,r,i,a){var o,s,l,u=e._gsap,c=i||MD(e,!0),d=u.xOrigin||0,f=u.yOrigin||0,h=u.xOffset||0,p=u.yOffset||0,v=c[0],m=c[1],g=c[2],y=c[3],x=c[4],b=c[5],_=t.split(" "),w=parseFloat(_[0])||0,S=parseFloat(_[1])||0;n?c!==bD&&(s=v*y-m*g)&&(l=w*(-m/s)+S*(v/s)-(v*b-m*x)/s,w=w*(y/s)+S*(-g/s)+(g*b-y*x)/s,S=l):(w=(o=sD(e)).x+(~_[0].indexOf("%")?w/100*o.width:w),S=o.y+(~(_[1]||_[0]).indexOf("%")?S/100*o.height:S)),r||!1!==r&&u.smooth?(x=w-d,b=S-f,u.xOffset=h+(x*v+b*g)-x,u.yOffset=p+(x*m+b*y)-b):u.xOffset=u.yOffset=0,u.xOrigin=w,u.yOrigin=S,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[ZI]="0px 0px",a&&(cD(a,u,"xOrigin",d,w),cD(a,u,"yOrigin",f,S),cD(a,u,"xOffset",h,u.xOffset),cD(a,u,"yOffset",p,u.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)},TD=function(e,t){var n=e._gsap||new LO(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,u,c,d,f,h,p,v,m,g,y,x,b,_,w,S,M,E,T,k,C,A,P,R,N,L,O,I=e.style,D=n.scaleX<0,U="px",F="deg",z=getComputedStyle(e),j=tD(e,ZI)||"0";return r=i=a=l=u=c=d=f=h=0,o=s=1,n.svg=!(!e.getCTM||!lD(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(I[YI]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[YI]?z[YI]:"")),I.scale=I.rotate=I.translate="none"),m=MD(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),j=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",T=""):T=!t&&e.getAttribute("data-svg-origin"),ED(e,T||j,!!T||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,v=n.yOrigin||0,m!==bD&&(b=m[0],_=m[1],w=m[2],S=m[3],r=M=m[4],i=E=m[5],6===m.length?(o=Math.sqrt(b*b+_*_),s=Math.sqrt(S*S+w*w),l=b||_?RI(_,b)*AI:0,(d=w||S?RI(w,S)*AI+l:0)&&(s*=Math.abs(Math.cos(d*PI))),n.svg&&(r-=p-(p*b+v*w),i-=v-(p*_+v*S))):(O=m[6],N=m[7],A=m[8],P=m[9],R=m[10],L=m[11],r=m[12],i=m[13],a=m[14],u=(g=RI(O,R))*AI,g&&(T=M*(y=Math.cos(-g))+A*(x=Math.sin(-g)),k=E*y+P*x,C=O*y+R*x,A=M*-x+A*y,P=E*-x+P*y,R=O*-x+R*y,L=N*-x+L*y,M=T,E=k,O=C),c=(g=RI(-w,R))*AI,g&&(y=Math.cos(-g),L=S*(x=Math.sin(-g))+L*y,b=T=b*y-A*x,_=k=_*y-P*x,w=C=w*y-R*x),l=(g=RI(_,b))*AI,g&&(T=b*(y=Math.cos(g))+_*(x=Math.sin(g)),k=M*y+E*x,_=_*y-b*x,E=E*y-M*x,b=T,M=k),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),o=lL(Math.sqrt(b*b+_*_+w*w)),s=lL(Math.sqrt(E*E+O*O)),g=RI(M,E),d=Math.abs(g)>2e-4?g*AI:0,h=L?1/(L<0?-L:L):0),n.svg&&(T=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!wD(tD(e,YI)),T&&e.setAttribute("transform",T))),Math.abs(d)>90&&Math.abs(d)<270&&(D?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+U,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+U,n.z=a+U,n.scaleX=lL(o),n.scaleY=lL(s),n.rotation=lL(l)+F,n.rotationX=lL(u)+F,n.rotationY=lL(c)+F,n.skewX=d+F,n.skewY=f+F,n.transformPerspective=h+U,(n.zOrigin=parseFloat(j.split(" ")[2])||!t&&n.zOrigin||0)&&(I[ZI]=kD(j)),n.xOffset=n.yOffset=0,n.force3D=hN.force3D,n.renderTransform=n.svg?OD:kI?LD:AD,n.uncache=0,n},kD=function(e){return(e=e.split(" "))[0]+" "+e[1]},CD=function(e,t,n){var r=XL(t);return lL(parseFloat(t)+parseFloat(hD(e,"x",n+"px",r)))+r},AD=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,LD(e,t)},PD="0deg",RD="0px",ND=") ",LD=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,d=n.skewX,f=n.skewY,h=n.scaleX,p=n.scaleY,v=n.transformPerspective,m=n.force3D,g=n.target,y=n.zOrigin,x="",b="auto"===m&&e&&1!==e||!0===m;if(y&&(c!==PD||u!==PD)){var _,w=parseFloat(u)*PI,S=Math.sin(w),M=Math.cos(w);w=parseFloat(c)*PI,_=Math.cos(w),a=CD(g,a,S*_*-y),o=CD(g,o,-Math.sin(w)*-y),s=CD(g,s,M*_*-y+y)}v!==RD&&(x+="perspective("+v+ND),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),(b||a!==RD||o!==RD||s!==RD)&&(x+=s!==RD||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+ND),l!==PD&&(x+="rotate("+l+ND),u!==PD&&(x+="rotateY("+u+ND),c!==PD&&(x+="rotateX("+c+ND),d===PD&&f===PD||(x+="skew("+d+", "+f+ND),1===h&&1===p||(x+="scale("+h+", "+p+ND),g.style[YI]=x||"translate(0, 0)"},OD=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,u=s.yPercent,c=s.x,d=s.y,f=s.rotation,h=s.skewX,p=s.skewY,v=s.scaleX,m=s.scaleY,g=s.target,y=s.xOrigin,x=s.yOrigin,b=s.xOffset,_=s.yOffset,w=s.forceCSS,S=parseFloat(c),M=parseFloat(d);f=parseFloat(f),h=parseFloat(h),(p=parseFloat(p))&&(h+=p=parseFloat(p),f+=p),f||h?(f*=PI,h*=PI,n=Math.cos(f)*v,r=Math.sin(f)*v,i=Math.sin(f-h)*-m,a=Math.cos(f-h)*m,h&&(p*=PI,o=Math.tan(h-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=lL(n),r=lL(r),i=lL(i),a=lL(a)):(n=v,a=m,r=i=0),(S&&!~(c+"").indexOf("px")||M&&!~(d+"").indexOf("px"))&&(S=hD(g,"x",c,"px"),M=hD(g,"y",d,"px")),(y||x||b||_)&&(S=lL(S+y-(y*n+x*i)+b),M=lL(M+x-(y*r+x*a)+_)),(l||u)&&(o=g.getBBox(),S=lL(S+l/100*o.width),M=lL(M+u/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+S+","+M+")",g.setAttribute("transform",o),w&&(g.style[YI]=o)},ID=function(e,t,n,r,i){var a,o,s=360,l=SN(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?AI:1)-r,c=r+u+"deg";return l&&("short"===(a=i.split("_")[1])&&(u%=s)!==u%180&&(u+=u<0?s:-360),"cw"===a&&u<0?u=(u+36e9)%s-~~(u/s)*s:"ccw"===a&&u>0&&(u=(u-36e9)%s-~~(u/s)*s)),e._pt=o=new oI(e._pt,t,n,r,u,UI),o.e=c,o.u="deg",e._props.push(n),o},DD=function(e,t){for(var n in t)e[n]=t[n];return e},UD=function(e,t,n){var r,i,a,o,s,l,u,c=DD({},n._gsap),d=n.style;for(i in c.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[YI]=t,r=TD(n,1),uD(n,YI),n.setAttribute("transform",a)):(a=getComputedStyle(n)[YI],d[YI]=t,r=TD(n,1),d[YI]=a),CI)(a=c[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=XL(a)!==(u=XL(o))?hD(n,i,a,u):parseFloat(a),l=parseFloat(o),e._pt=new oI(e._pt,r,i,s,l-s,DI),e._pt.u=u||0,e._props.push(i));DD(r,c)};sL("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));xD[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return pD(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var FD={name:"css",register:iD,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,u,c,d,f,h,p,v,m,g,y,x,b,_=this._props,w=e.style,S=n.vars.startAt;for(d in SI||iD(),this.styles=this.styles||QI(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(o=t[d],!QN[d]||!jO(d,t,n,r,e,i)))if(u=typeof o,c=xD[d],"function"===u&&(u=typeof(o=o.call(n,r,e,i))),"string"===u&&~o.indexOf("random(")&&(o=iO(o)),c)c(this,e,d,o,n)&&(x=1);else if("--"===d.substr(0,2))a=(getComputedStyle(e).getPropertyValue(d)+"").trim(),o+="",gO.lastIndex=0,gO.test(a)||(f=XL(a),h=XL(o)),h?f!==h&&(a=hD(e,d,a,h)+h):f&&(o+=f),this.add(w,"setProperty",a,o,r,i,0,0,d),_.push(d),b.push(d,0,w[d]);else if("undefined"!==u){if(S&&d in S?(a="function"===typeof S[d]?S[d].call(n,r,e,i):S[d],SN(a)&&~a.indexOf("random(")&&(a=iO(a)),XL(a+"")||"auto"===a||(a+=hN.units[d]||XL(pD(e,d))||""),"="===(a+"").charAt(1)&&(a=pD(e,d))):a=pD(e,d),l=parseFloat(a),(p="string"===u&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),d in II&&("autoAlpha"===d&&(1===l&&"hidden"===pD(e,"visibility")&&s&&(l=0),b.push("visibility",0,w.visibility),cD(this,w,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=II[d]).indexOf(",")&&(d=d.split(",")[0])),v=d in CI)if(this.styles.save(d),m||((g=e._gsap).renderTransform&&!t.parseTransform||TD(e,t.parseTransform),y=!1!==t.smoothOrigin&&g.smooth,(m=this._pt=new oI(this._pt,w,YI,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===d)this._pt=new oI(this._pt,g,"scaleY",g.scaleY,(p?cL(g.scaleY,p+s):s)-g.scaleY||0,DI),this._pt.u=0,_.push("scaleY",d),d+="X";else{if("transformOrigin"===d){b.push(ZI,0,w[ZI]),o=gD(o),g.svg?ED(e,o,0,y,0,this):((h=parseFloat(o.split(" ")[2])||0)!==g.zOrigin&&cD(this,g,"zOrigin",g.zOrigin,h),cD(this,w,d,kD(a),kD(o)));continue}if("svgOrigin"===d){ED(e,o,1,y,0,this);continue}if(d in _D){ID(this,g,d,l,p?cL(l,p+o):o);continue}if("smoothOrigin"===d){cD(this,g,"smooth",g.smooth,o);continue}if("force3D"===d){g[d]=o;continue}if("transform"===d){UD(this,o,e);continue}}else d in w||(d=rD(d)||d);if(v||(s||0===s)&&(l||0===l)&&!OI.test(o)&&d in w)s||(s=0),(f=(a+"").substr((l+"").length))!==(h=XL(o)||(d in hN.units?hN.units[d]:f))&&(l=hD(e,d,a,h)),this._pt=new oI(this._pt,v?g:w,d,l,(p?cL(l,p+s):s)-l,v||"px"!==h&&"zIndex"!==d||!1===t.autoRound?DI:zI),this._pt.u=h||0,f!==h&&"%"!==h&&(this._pt.b=a,this._pt.r=FI);else if(d in w)vD.call(this,e,d,a,p?p+o:o);else if(d in e)this.add(e,d,a||e[d],p?p+o:o,r,i);else if("parseTransform"!==d){VN(d,o);continue}v||(d in w?b.push(d,0,w[d]):b.push(d,1,a||e[d])),_.push(d)}x&&aI(this)},render:function(e,t){if(t.tween._time||!TI())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:pD,aliases:II,getSetter:function(e,t,n){var r=II[t];return r&&r.indexOf(",")<0&&(t=r),t in CI&&t!==ZI&&(e._gsap.x||pD(e,"x"))?n&&EI===n?"scale"===t?GI:WI:(EI=n||{})&&("scale"===t?XI:qI):e.style&&!TN(e.style[t])?HI:~t.indexOf("-")?VI:JO(e,t)},core:{_removeProperty:uD,_getMatrix:MD}};xI.utils.checkPrefix=rD,xI.core.getStyleSaver=QI,function(e,t,n,r){var i=sL(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){CI[e]=1}));sL(t,(function(e){hN.units[e]="deg",_D[e]=1})),II[i[13]]=e+","+t,sL("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");II[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),sL("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){hN.units[e]="px"})),xI.registerPlugin(FD);var zD=xI.registerPlugin(FD)||xI,jD=(zD.core.Tween,function(e){var n=e.points,r=e.name,i=e.onHover,a=e.onClick,o=(0,t.useRef)();return iR((function(){o.current&&(o.current.rotation.y+=.005)})),(0,Kf.jsxs)("group",{ref:o,onPointerOver:function(e){return i(r)},onClick:function(e){return a(r)},children:[n.map((function(e,t){var n=yn(e,3),r=n[0],i=n[1],a=n[2];return(0,Kf.jsxs)("mesh",{position:[r,i,a],children:[(0,Kf.jsx)("sphereGeometry",{args:[.03,16,16]}),(0,Kf.jsx)("meshBasicMaterial",{color:"white"})]},t)})),(0,Kf.jsxs)("line",{children:[(0,Kf.jsx)("bufferGeometry",{children:(0,Kf.jsx)("bufferAttribute",{attach:"attributes-position",array:new Float32Array(n.flat()),count:n.length,itemSize:3})}),(0,Kf.jsx)("lineBasicMaterial",{color:"white"})]})]})}),BD=function(e){var t=e.onSignHover,n=e.onSignClick;return(0,Kf.jsxs)(ZR,{camera:{position:[0,0,5],fov:50},children:[(0,Kf.jsx)("color",{attach:"background",args:["#000"]}),(0,Kf.jsx)(QR,{radius:100,depth:50,count:5e3,factor:4,fade:!0}),[{name:"Aries",points:[[0,0,0],[1,1,0],[2,.5,0]]},{name:"Taurus",points:[[-1,0,0],[-2,1,0],[-3,.5,0]]}].map((function(e,r){return(0,Kf.jsx)(jD,{points:e.points,name:e.name,onHover:t,onClick:n},r)}))]})},HD=function(){var e=yn((0,t.useState)(""),2),n=e[0],r=e[1],i=(0,t.useRef)();(0,t.useEffect)((function(){zD.fromTo(i.current,{opacity:0,y:-20},{opacity:1,y:0,duration:1,repeat:-1,yoyo:!0})}),[]);return(0,Kf.jsxs)("div",{style:{width:"100vw",height:"100vh",background:"black",overflow:"hidden",position:"relative"},children:[(0,Kf.jsx)("h1",{ref:i,style:{color:"white",textAlign:"center",fontSize:"3rem",position:"absolute",top:"10%",width:"100%",zIndex:2},children:"Luxury Combined with Character and Class"}),(0,Kf.jsx)(BD,{onSignHover:function(e){r(e)}}),n&&(0,Kf.jsx)("div",{style:{position:"absolute",bottom:"10%",width:"100%",textAlign:"center",color:"white",fontSize:"1.5rem",zIndex:2}})]})},VD=function(){return(0,Kf.jsxs)("div",{className:"w-full pb-20",children:[(0,Kf.jsx)(Ah,{heading:"Our Bestsellers"}),(0,Kf.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lgl:grid-cols-3 xl:grid-cols-4 gap-10",children:[(0,Kf.jsx)(Ih,{_id:"1011",img:nh,productName:"Nuit Petite Pisces",price:"$35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}),(0,Kf.jsx)(Ih,{_id:"1012",img:rh,productName:"Nuit Petite Leo",price:"$180.00",color:"Gray",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}),(0,Kf.jsx)(Ih,{_id:"1013",img:ih,productName:"Nuit Petite Cancer",price:"$25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}),(0,Kf.jsx)(Ih,{_id:"1014",img:ah,productName:"Nuit Petite Cancer",price:"$220.00",color:"Black",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."})]})]})},WD=function(){var e={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,nextArrow:(0,Kf.jsx)(Dh,{}),prevArrow:(0,Kf.jsx)(Uh,{}),responsive:[{breakpoint:1025,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0}}]};return(0,Kf.jsxs)("div",{className:"w-full pb-16",children:[(0,Kf.jsx)(Ah,{heading:"New Arrivals"}),(0,Kf.jsxs)(Ch.Z,je(je({},e),{},{children:[(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100001",img:$f,productName:"Nuit Petite Scorpio",price:"$199.00",color:"Black",badge:!0,des:"Handmade leather bag made from the best genuine leather. Every stitch, every cut, down to the packaging, all done by hand. This bag is one of our micro bags and is 17cm at the bottom and 15cm at the top. a perfect companion for great evenings."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100002",img:Qf,productName:"Nuit Petite Cancer",price:"$199.00",color:"Black",badge:!0,des:"Handmade leather bag made from the best genuine leather. Every stitch, every cut, down to the packaging, all done by hand. This bag is one of our micro bags and is 17cm at the bottom and 15cm at the top. a perfect companion for great evenings."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100003",img:eh,productName:"Nuit Petite Leo",price:"$199.00",color:"Mixed",badge:!0,des:"Handmade leather bag made from the best genuine leather. Every stitch, every cut, down to the packaging, all done by hand. This bag is one of our micro bags and is 17cm at the bottom and 15cm at the top. a perfect companion for great evenings."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100004",img:th,productName:"Nuit Petite Pisces",price:"$199.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."})}),(0,Kf.jsx)("div",{className:"px-2",children:(0,Kf.jsx)(Ih,{_id:"100005",img:Qf,productName:"Nuit Petite Pisces",price:"$199.00",color:"Mixed",badge:!1,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."})})]}))]})},GD=function(){return(0,Kf.jsx)("button",{className:"bg-primeColor text-white text-lg font-bodyFont w-[185px] h-[50px] hover:bg-black duration-300 font-bold",children:"Shop Now"})},XD=function(){return(0,Kf.jsx)(Yi,{to:"/shop",children:(0,Kf.jsxs)("div",{className:"w-full h-80 mb-20 bg-[#f3f3f3] md:bg-transparent relative font-titleFont",children:[(0,Kf.jsx)(uh,{className:"w-full h-full object-cover hidden md:inline-block",imgSrc:oh}),(0,Kf.jsxs)("div",{className:"w-full md:w-2/3 xl:w-1/2 h-80 absolute px-4 md:px-0 top-0 right-0 flex flex-col items-start gap-6 justify-center",children:[(0,Kf.jsx)("h1",{className:"text-3xl font-semibold text-primeColor",children:"Product Comming Soon"}),(0,Kf.jsx)("p",{className:"text-base font-normal text-primeColor max-w-[600px] mr-4",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repellat cupiditate modi amet! Facilis, aperiam quaerat."}),(0,Kf.jsx)(GD,{})]})]})})},qD=function(){return(0,Kf.jsxs)("div",{className:"w-full mx-auto",children:[(0,Kf.jsx)(HD,{}),(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)(WD,{}),(0,Kf.jsx)(VD,{}),(0,Kf.jsx)(XD,{})]})]})},YD=["title","titleId"];function ZD(e,n){var r=e.title,i=e.titleId,a=mo(e,YD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}var KD=t.forwardRef(ZD),JD=(0,t.createContext)(void 0);function $D(){return(0,t.useContext)(JD)}function QD(e){var n=e.value,r=e.children;return t.createElement(JD.Provider,{value:n},r)}function eU(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function tU(){var e=[],t={addEventListener:function(e,n,r,i){return e.addEventListener(n,r,i),t.add((function(){return e.removeEventListener(n,r,i)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);return t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame((function(){return t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);return t.add((function(){return clearTimeout(e)}))})),microTask:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i={current:!0};return eU((function(){i.current&&n[0]()})),t.add((function(){i.current=!1}))},style:function(e,t,n){var r=e.style.getPropertyValue(t);return Object.assign(e.style,Fe({},t,n)),this.add((function(){Object.assign(e.style,Fe({},t,r))}))},group:function(e){var t=tU();return e(t),this.add((function(){return t.dispose()}))},add:function(t){return e.includes(t)||e.push(t),function(){var n=e.indexOf(t);if(n>=0){var r,i=Un(e.splice(n,1));try{for(i.s();!(r=i.n()).done;){(0,r.value)()}}catch(a){i.e(a)}finally{i.f()}}}},dispose:function(){var t,n=Un(e.splice(0));try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}}};return t}function nU(){var e=yn((0,t.useState)(tU),1)[0];return(0,t.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}function rU(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=Object.entries(e);r<i.length;r++){var a=yn(i[r],2),o=a[0],s=a[1];aU(n,iU(t,o),s)}return n}function iU(e,t){return e?e+"["+t+"]":t}function aU(e,t,n){if(Array.isArray(n)){var r,i=Un(n.entries());try{for(i.s();!(r=i.n()).done;){var a=yn(r.value,2),o=a[0],s=a[1];aU(e,iU(t,o.toString()),s)}}catch(l){i.e(l)}finally{i.f()}}else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,"".concat(n)]):null==n?e.push([t,""]):rU(n,t,e)}function oU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((function(e){return"string"==typeof e?e.split(" "):[]})))).filter(Boolean).join(" ")}function sU(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return"function"==typeof n?n.apply(void 0,i):n}var o=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(o,sU),o}var lU=["static"],uU=["unmount"],cU=["as","children","refName"],dU=function(e){return e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e}(dU||{}),fU=function(e){return e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e}(fU||{});function hU(){var e=function(){var e=(0,t.useRef)([]),n=(0,t.useCallback)((function(t){var n,r=Un(e.current);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!=i&&("function"==typeof i?i(t):i.current=t)}}catch(a){r.e(a)}finally{r.f()}}),[]);return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(!r.every((function(e){return null==e})))return e.current=r,n}}();return(0,t.useCallback)((function(t){return function(e){var t=e.ourProps,n=e.theirProps,r=e.slot,i=e.defaultTag,a=e.features,o=e.visible,s=void 0===o||o,l=e.name,u=e.mergeRefs;u=null!=u?u:vU;var c=mU(n,t);if(s)return pU(c,r,i,l,u);var d=null!=a?a:0;if(2&d){var f=c.static,h=void 0!==f&&f,p=mo(c,lU);if(h)return pU(p,r,i,l,u)}if(1&d){var v,m=c.unmount,g=void 0===m||m,y=mo(c,uU);return sU(g?0:1,(Fe(v={},0,(function(){return null})),Fe(v,1,(function(){return pU(je(je({},y),{},{hidden:!0,style:{display:"none"}}),r,i,l,u)})),v))}return pU(c,r,i,l,u)}(je({mergeRefs:e},t))}),[e])}function pU(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=xU(e,["unmount","static"]),s=o.as,l=void 0===s?r:s,u=o.children,c=o.refName,d=void 0===c?"ref":c,f=mo(o,cU),h=void 0!==e.ref?Fe({},d,e.ref):{},p="function"==typeof u?u(n):u;"className"in f&&f.className&&"function"==typeof f.className&&(f.className=f.className(n)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);var v={};if(n){for(var m=!1,g=[],y=0,x=Object.entries(n);y<x.length;y++){var b=yn(x[y],2),_=b[0],w=b[1];"boolean"==typeof w&&(m=!0),!0===w&&g.push(_.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))}if(m){v["data-headlessui-state"]=g.join(" ");var S,M=Un(g);try{for(M.s();!(S=M.n()).done;){var E=S.value;v["data-".concat(E)]=""}}catch(N){M.e(N)}finally{M.f()}}}if(l===t.Fragment&&(Object.keys(yU(f)).length>0||Object.keys(yU(v)).length>0)){if((0,t.isValidElement)(p)&&!(Array.isArray(p)&&p.length>1)){var T=p.props,k=null==T?void 0:T.className,C="function"==typeof k?function(){return oU(k.apply(void 0,arguments),f.className)}:oU(k,f.className),A=C?{className:C}:{},P=mU(p.props,yU(xU(f,["ref"])));for(var R in v)R in P&&delete v[R];return(0,t.cloneElement)(p,Object.assign({},P,v,h,{ref:a(bU(p),h.ref)},A))}if(Object.keys(yU(f)).length>0)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(yU(f)).concat(Object.keys(yU(v))).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"))}return(0,t.createElement)(l,Object.assign({},xU(f,["ref"]),l!==t.Fragment&&h,l!==t.Fragment&&v),p)}function vU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return null==e}))?void 0:function(e){var n,r=Un(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!=i&&("function"==typeof i?i(e):i.current=e)}}catch(a){r.e(a)}finally{r.f()}}}function mU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];for(var r={},i={},a=0,o=t;a<o.length;a++){var s=o[a];for(var l in s)l.startsWith("on")&&"function"==typeof s[l]?(null!=i[l]||(i[l]=[]),i[l].push(s[l])):r[l]=s[l]}if(r.disabled||r["aria-disabled"])for(var u in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(u)&&(i[u]=[function(e){var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);var c=function(e){Object.assign(r,Fe({},e,(function(t){for(var n=i[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var s,l=Un(n);try{for(l.s();!(s=l.n()).done;){var u=s.value;if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;u.apply(void 0,[t].concat(a))}}catch(c){l.e(c)}finally{l.f()}})))};for(var d in i)c(d);return r}function gU(e){var n;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(n=e.displayName)?n:e.name})}function yU(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}function xU(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=Un(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a in r&&delete r[a]}}catch(o){i.e(o)}finally{i.f()}return r}function bU(e){return t.version.split(".")[0]>="19"?e.props.ref:e.ref}var _U=["features"],wU=function(e){return e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e}(wU||{});var SU=gU((function(e,t){var n,r=e.features,i=void 0===r?1:r,a=mo(e,_U),o={ref:t,"aria-hidden":2===(2&i)||(null!=(n=a["aria-hidden"])?n:void 0),hidden:4===(4&i)||void 0,style:je({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&i)&&2!==(2&i)&&{display:"none"})};return hU()({ourProps:o,theirProps:a,slot:{},defaultTag:"span",name:"Hidden"})})),MU=(0,t.createContext)(null);function EU(e){var n=yn((0,t.useState)(null),2),r=n[0],i=n[1];return t.createElement(MU.Provider,{value:{target:r}},e.children,t.createElement(SU,{features:wU.Hidden,ref:i}))}function TU(e){var n=e.children,r=(0,t.useContext)(MU);if(!r)return t.createElement(t.Fragment,null,n);var i=r.target;return i?(0,m.createPortal)(t.createElement(t.Fragment,null,n),i):null}function kU(e){var n=e.data,r=e.form,i=e.disabled,a=e.onReset,o=e.overrides,s=yn((0,t.useState)(null),2),l=s[0],u=s[1],c=nU();return(0,t.useEffect)((function(){if(a&&l)return c.addEventListener(l,"reset",a)}),[l,r,a]),t.createElement(TU,null,t.createElement(CU,{setForm:u,formId:r}),rU(n).map((function(e){var n=yn(e,2),a=n[0],s=n[1];return t.createElement(SU,je({features:wU.Hidden},yU(je({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:i,name:a,value:s},o))))})))}function CU(e){var n=e.setForm,r=e.formId;return(0,t.useEffect)((function(){if(r){var e=document.getElementById(r);e&&n(e)}}),[n,r]),r?null:t.createElement(SU,{features:wU.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:function(e){if(e){var t=e.closest("form");t&&n(t)}}})}var AU=(0,t.createContext)(void 0);function PU(){return(0,t.useContext)(AU)}function RU(e){var n=e.id,r=e.children;return t.createElement(AU.Provider,{value:n},r)}var NU=Object.defineProperty,LU=function(e,t,n){return function(e,t,n){t in e?NU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},OU=function(){function e(){_n(this,e),LU(this,"current",this.detect()),LU(this,"handoffState","pending"),LU(this,"currentId",0)}return Sn(e,[{key:"set",value:function(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}},{key:"reset",value:function(){this.set(this.detect())}},{key:"nextId",value:function(){return++this.currentId}},{key:"isServer",get:function(){return"server"===this.current}},{key:"isClient",get:function(){return"client"===this.current}},{key:"detect",value:function(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}},{key:"handoff",value:function(){"pending"===this.handoffState&&(this.handoffState="complete")}},{key:"isHandoffComplete",get:function(){return"complete"===this.handoffState}}]),e}(),IU=new OU,DU=function(e,n){IU.isServer?(0,t.useEffect)(e,n):(0,t.useLayoutEffect)(e,n)};var UU=function(e){var n=function(e){var n=(0,t.useRef)(e);return DU((function(){n.current=e}),[e]),n}(e);return t.useCallback((function(){return n.current.apply(n,arguments)}),[n])},FU=Symbol();function zU(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=(0,t.useRef)(n);(0,t.useEffect)((function(){i.current=n}),[n]);var a=UU((function(e){var t,n=Un(i.current);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r&&("function"==typeof r?r(e):r.current=e)}}catch(a){n.e(a)}finally{n.f()}}));return n.every((function(e){return null==e||(null==e?void 0:e[FU])}))?void 0:a}var jU=["id"],BU=(0,t.createContext)(null);function HU(){var e=(0,t.useContext)(BU);if(null===e){var n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,HU),n}return e}function VU(){var e=yn((0,t.useState)([]),2),n=e[0],r=e[1];return[n.length>0?n.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var n=UU((function(e){return r((function(t){return[].concat(bn(t),[e])})),function(){return r((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}})),i=(0,t.useMemo)((function(){return{register:n,slot:e.slot,name:e.name,props:e.props,value:e.value}}),[n,e.slot,e.name,e.props,e.value]);return t.createElement(BU.Provider,{value:i},e.children)}}),[r])]}BU.displayName="DescriptionContext";var WU=gU((function(e,n){var r=(0,t.useId)(),i=$D(),a=e.id,o=void 0===a?"headlessui-description-".concat(r):a,s=mo(e,jU),l=HU(),u=zU(n);DU((function(){return l.register(o)}),[o,l.register]);var c=i||!1,d=(0,t.useMemo)((function(){return je(je({},l.slot),{},{disabled:c})}),[l.slot,c]),f=je(je({ref:u},l.props),{},{id:o});return hU()({ourProps:f,theirProps:s,slot:d,defaultTag:"p",name:l.name||"Description"})})),GU=Object.assign(WU,{}),XU=["id","htmlFor","passive"],qU=(0,t.createContext)(null);function YU(){var e=(0,t.useContext)(qU);if(null===e){var n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,YU),n}return e}function ZU(e){var n,r,i,a=null!=(r=null==(n=(0,t.useContext)(qU))?void 0:n.value)?r:void 0;return(null!=(i=null==e?void 0:e.length)?i:0)>0?[a].concat(bn(e)).filter(Boolean).join(" "):a}function KU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.inherit,r=void 0!==n&&n,i=ZU(),a=(0,t.useState)([]),o=yn(a,2),s=o[0],l=o[1],u=r?[i].concat(bn(s)).filter(Boolean):s;return[u.length>0?u.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var n=UU((function(e){return l((function(t){return[].concat(bn(t),[e])})),function(){return l((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}})),r=(0,t.useMemo)((function(){return{register:n,slot:e.slot,name:e.name,props:e.props,value:e.value}}),[n,e.slot,e.name,e.props,e.value]);return t.createElement(qU.Provider,{value:r},e.children)}}),[l])]}qU.displayName="LabelContext";var JU=gU((function(e,n){var r,i=(0,t.useId)(),a=YU(),o=PU(),s=$D(),l=e.id,u=void 0===l?"headlessui-label-".concat(i):l,c=e.htmlFor,d=void 0===c?null!=o?o:null==(r=a.props)?void 0:r.htmlFor:c,f=e.passive,h=void 0!==f&&f,p=mo(e,XU),v=zU(n);DU((function(){return a.register(u)}),[u,a.register]);var m=UU((function(e){var t=e.currentTarget;if(t instanceof HTMLLabelElement&&e.preventDefault(),a.props&&"onClick"in a.props&&"function"==typeof a.props.onClick&&a.props.onClick(e),t instanceof HTMLLabelElement){var n=document.getElementById(t.htmlFor);if(n){var r=n.getAttribute("disabled");if("true"===r||""===r)return;var i=n.getAttribute("aria-disabled");if("true"===i||""===i)return;(n instanceof HTMLInputElement&&("radio"===n.type||"checkbox"===n.type)||"radio"===n.role||"checkbox"===n.role||"switch"===n.role)&&n.click(),n.focus({preventScroll:!0})}}})),g=s||!1,y=(0,t.useMemo)((function(){return je(je({},a.slot),{},{disabled:g})}),[a.slot,g]),x=je(je({ref:v},a.props),{},{id:u,htmlFor:d,onClick:m});return h&&("onClick"in x&&(delete x.htmlFor,delete x.onClick),"onClick"in p&&delete p.onClick),hU()({ourProps:x,theirProps:p,slot:y,defaultTag:d?"label":"div",name:a.name||"Label"})})),$U=Object.assign(JU,{}),QU=["disabled"];var eF=gU((function(e,n){var r="headlessui-control-".concat((0,t.useId)()),i=yn(KU(),2),a=i[0],o=i[1],s=yn(VU(),2),l=s[0],u=s[1],c=$D(),d=e.disabled,f=void 0===d?c||!1:d,h=mo(e,QU),p=(0,t.useMemo)((function(){return{disabled:f}}),[f]),v={ref:n,disabled:f||void 0,"aria-disabled":f||void 0},m=hU();return t.createElement(QD,{value:f},t.createElement(o,{value:a},t.createElement(u,{value:l},t.createElement(RU,{id:r},m({ourProps:v,theirProps:je(je({},h),{},{children:t.createElement(EU,null,"function"==typeof h.children?h.children(p):h.children)}),slot:p,defaultTag:"div",name:"Field"})))))}));function tF(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((function(t){return e.test(t.brand)})))||e.test(window.navigator.userAgent))}function nF(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function rF(e){var t=null;return function(){return null==t&&(t=e()),t}}var iF=rF((function(){return nF(/^Mac/i)})),aF=rF((function(){return nF(/^iPhone/i)})),oF=rF((function(){return nF(/^iPad/i)||iF()&&navigator.maxTouchPoints>1})),sF=rF((function(){return aF()||oF()})),lF=(rF((function(){return iF()||sF()})),rF((function(){return tF(/AppleWebKit/i)&&!lF()})),rF((function(){return tF(/Chrome/i)}))),uF=rF((function(){return tF(/Android/i)}));rF((function(){return tF(/Firefox/i)}));var cF=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document},dF=function(e){return e&&"window"in e&&e.window===e?e:cF(e).defaultView||window},fF=null,hF=new Set,pF=new Map,vF=!1,mF=!1,gF={Tab:!0,Escape:!0};function yF(e,t){var n,r=Un(hF);try{for(r.s();!(n=r.n()).done;){(0,n.value)(e,t)}}catch(i){r.e(i)}finally{r.f()}}function xF(e){vF=!0,function(e){return!(e.metaKey||!iF()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(fF="keyboard",yF("keyboard",e))}function bF(e){fF="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(vF=!0,yF("pointer",e))}function _F(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||(uF()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(vF=!0,fF="virtual")}function wF(e){e.target!==window&&e.target!==document&&(vF||mF||(fF="virtual",yF("virtual",e)),vF=!1,mF=!1)}function SF(){vF=!1,mF=!0}function MF(e){if("undefined"!==typeof window&&!pF.get(dF(e))){var t=dF(e),n=cF(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){vF=!0,r.apply(this,arguments)},n.addEventListener("keydown",xF,!0),n.addEventListener("keyup",xF,!0),n.addEventListener("click",_F,!0),t.addEventListener("focus",wF,!0),t.addEventListener("blur",SF,!1),"undefined"!==typeof PointerEvent?(n.addEventListener("pointerdown",bF,!0),n.addEventListener("pointermove",bF,!0),n.addEventListener("pointerup",bF,!0)):(n.addEventListener("mousedown",bF,!0),n.addEventListener("mousemove",bF,!0),n.addEventListener("mouseup",bF,!0)),t.addEventListener("beforeunload",(function(){EF(e)}),{once:!0}),pF.set(t,{focus:r})}}var EF=function(e,t){var n=dF(e),r=cF(e);t&&r.removeEventListener("DOMContentLoaded",t),pF.has(n)&&(n.HTMLElement.prototype.focus=pF.get(n).focus,r.removeEventListener("keydown",xF,!0),r.removeEventListener("keyup",xF,!0),r.removeEventListener("click",_F,!0),n.removeEventListener("focus",wF,!0),n.removeEventListener("blur",SF,!1),"undefined"!==typeof PointerEvent?(r.removeEventListener("pointerdown",bF,!0),r.removeEventListener("pointermove",bF,!0),r.removeEventListener("pointerup",bF,!0)):(r.removeEventListener("mousedown",bF,!0),r.removeEventListener("mousemove",bF,!0),r.removeEventListener("mouseup",bF,!0)),pF.delete(n))};function TF(){return"pointer"!==fF}"undefined"!==typeof document&&function(e){var t,n=cF(e);"loading"!==n.readyState?MF(e):(t=function(){MF(e)},n.addEventListener("DOMContentLoaded",t))}();var kF=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function CF(e,n,r){MF(),(0,t.useEffect)((function(){var t=function(t,n){(function(e,t,n){var r,i="undefined"!==typeof window?dF(null===n||void 0===n?void 0:n.target).HTMLInputElement:HTMLInputElement,a="undefined"!==typeof window?dF(null===n||void 0===n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o="undefined"!==typeof window?dF(null===n||void 0===n?void 0:n.target).HTMLElement:HTMLElement,s="undefined"!==typeof window?dF(null===n||void 0===n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||(null===n||void 0===n?void 0:n.target)instanceof i&&!kF.has(null===n||void 0===n||null===(r=n.target)||void 0===r?void 0:r.type)||(null===n||void 0===n?void 0:n.target)instanceof a||(null===n||void 0===n?void 0:n.target)instanceof o&&(null===n||void 0===n?void 0:n.target.isContentEditable))&&"keyboard"===t&&n instanceof s&&!gF[n.key])})(!!(null===r||void 0===r?void 0:r.isTextInput),t,n)&&e(TF())};return hF.add(t),function(){hF.delete(t)}}),n)}var AF="undefined"!==typeof document?t.useLayoutEffect:function(){};function PF(e){var n=(0,t.useRef)(null);return AF((function(){n.current=e}),[e]),(0,t.useCallback)((function(){var e=n.current;return null===e||void 0===e?void 0:e.apply(void 0,arguments)}),[])}var RF=function(){function e(t,n){_n(this,e),this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}return Sn(e,[{key:"isDefaultPrevented",value:function(){return this.nativeEvent.defaultPrevented}},{key:"preventDefault",value:function(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=function(){return!0}}},{key:"isPropagationStopped",value:function(){return!1}},{key:"persist",value:function(){}}]),e}();function NF(e){var n=(0,t.useRef)({isFocused:!1,observer:null});AF((function(){var e=n.current;return function(){e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);var r=PF((function(t){null===e||void 0===e||e(t)}));return(0,t.useCallback)((function(e){if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){n.current.isFocused=!0;var t=e.target;t.addEventListener("focusout",(function(e){n.current.isFocused=!1,t.disabled&&r(new RF("blur",e)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)}),{once:!0}),n.current.observer=new MutationObserver((function(){if(n.current.isFocused&&t.disabled){var e;null===(e=n.current.observer)||void 0===e||e.disconnect();var r=t===document.activeElement?null:document.activeElement;t.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),t.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}})),n.current.observer.observe(t,{attributes:!0,attributeFilter:["disabled"]})}}),[r])}function LF(e){var n=e.isDisabled,r=e.onFocus,i=e.onBlur,a=e.onFocusChange,o=(0,t.useCallback)((function(e){if(e.target===e.currentTarget)return i&&i(e),a&&a(!1),!0}),[i,a]),s=NF(o),l=(0,t.useCallback)((function(e){var t=cF(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(r&&r(e),a&&a(!0),s(e))}),[a,r,s]);return{focusProps:{onFocus:!n&&(r||a||i)?l:void 0,onBlur:n||!i&&!a?void 0:o}}}function OF(e){var n=e.isDisabled,r=e.onBlurWithin,i=e.onFocusWithin,a=e.onFocusWithinChange,o=(0,t.useRef)({isFocusWithin:!1}),s=(0,t.useCallback)((function(e){o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(o.current.isFocusWithin=!1,r&&r(e),a&&a(!1))}),[r,a,o]),l=NF(s),u=(0,t.useCallback)((function(e){o.current.isFocusWithin||document.activeElement!==e.target||(i&&i(e),a&&a(!0),o.current.isFocusWithin=!0,l(e))}),[i,a,l]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:s}}}var IF=!1,DF=0;function UF(){IF=!0,setTimeout((function(){IF=!1}),50)}function FF(e){"touch"===e.pointerType&&UF()}function zF(){if("undefined"!==typeof document)return"undefined"!==typeof PointerEvent?document.addEventListener("pointerup",FF):document.addEventListener("touchend",UF),DF++,function(){--DF>0||("undefined"!==typeof PointerEvent?document.removeEventListener("pointerup",FF):document.removeEventListener("touchend",UF))}}function jF(e){return IU.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function BF(e){var t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function HF(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function VF(e,n){return(0,t.useMemo)((function(){var t;if(e.type)return e.type;var r=null!=(t=e.as)?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()||"BUTTON"===(null==n?void 0:n.tagName)&&!n.hasAttribute("type")?"button":void 0}),[e.type,e.as,n])}function WF(e){for(var t=e.parentElement,n=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;var r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var GF=function(e){return e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e}(GF||{}),XF=["id","disabled","checked","defaultChecked","onChange","name","value","form","autoFocus"],qF=(0,t.createContext)(null);qF.displayName="GroupContext";var YF=t.Fragment;var ZF=gU((function(e,n){var r,i=(0,t.useId)(),a=PU(),o=$D(),s=e.id,l=void 0===s?a||"headlessui-switch-".concat(i):s,u=e.disabled,c=void 0===u?o||!1:u,d=e.checked,f=e.defaultChecked,h=e.onChange,p=e.name,v=e.value,m=e.form,g=e.autoFocus,y=void 0!==g&&g,x=mo(e,XF),b=(0,t.useContext)(qF),_=yn((0,t.useState)(null),2),w=_[0],S=_[1],M=zU((0,t.useRef)(null),n,null===b?null:b.setSwitch,S),E=function(e){return yn((0,t.useState)(e),1)[0]}(f),T=function(e,n,r){var i=yn((0,t.useState)(r),2),a=i[0],o=i[1],s=void 0!==e,l=(0,t.useRef)(s),u=(0,t.useRef)(!1),c=(0,t.useRef)(!1);return!s||l.current||u.current?!s&&l.current&&!c.current&&(c.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(u.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[s?e:a,UU((function(e){return s||o(e),null==n?void 0:n(e)}))]}(d,h,null!=E&&E),k=yn(T,2),C=k[0],A=k[1],P=nU(),R=yn((0,t.useState)(!1),2),N=R[0],L=R[1],O=UU((function(){L(!0),null==A||A(!C),P.nextFrame((function(){L(!1)}))})),I=UU((function(e){if(WF(e.currentTarget))return e.preventDefault();e.preventDefault(),O()})),D=UU((function(e){e.key===GF.Space?(e.preventDefault(),O()):e.key===GF.Enter&&function(e){var t,n,r=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(r){var i,a=Un(r.elements);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o!==e&&("INPUT"===o.tagName&&"submit"===o.type||"BUTTON"===o.tagName&&"submit"===o.type||"INPUT"===o.nodeName&&"image"===o.type))return void o.click()}}catch(s){a.e(s)}finally{a.f()}null==(n=r.requestSubmit)||n.call(r)}}(e.currentTarget)})),U=UU((function(e){return e.preventDefault()})),F=ZU(),z=function(){var e,n;return null!=(n=null==(e=(0,t.useContext)(BU))?void 0:e.value)?n:void 0}(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoFocus,r=void 0!==n&&n,i=e.isTextInput,a=e.within,o=(0,t.useRef)({isFocused:!1,isFocusVisible:r||TF()}),s=yn((0,t.useState)(!1),2),l=s[0],u=s[1],c=yn((0,t.useState)((function(){return o.current.isFocused&&o.current.isFocusVisible})),2),d=c[0],f=c[1],h=(0,t.useCallback)((function(){return f(o.current.isFocused&&o.current.isFocusVisible)}),[]),p=(0,t.useCallback)((function(e){o.current.isFocused=e,u(e),h()}),[h]);CF((function(e){o.current.isFocusVisible=e,h()}),[],{isTextInput:i});var v=LF({isDisabled:a,onFocusChange:p}).focusProps,m=OF({isDisabled:!a,onFocusWithinChange:p}).focusWithinProps;return{isFocused:l,isFocusVisible:d,focusProps:a?m:v}}({autoFocus:y}),B=j.isFocusVisible,H=j.focusProps,V=function(e){var n=e.onHoverStart,r=e.onHoverChange,i=e.onHoverEnd,a=e.isDisabled,o=yn((0,t.useState)(!1),2),s=o[0],l=o[1],u=(0,t.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,t.useEffect)(zF,[]);var c=(0,t.useMemo)((function(){var e=function(e,t){if(u.pointerType=t,!a&&"touch"!==t&&!u.isHovered&&e.currentTarget.contains(e.target)){u.isHovered=!0;var i=e.currentTarget;u.target=i,n&&n({type:"hoverstart",target:i,pointerType:t}),r&&r(!0),l(!0)}},t=function(e,t){if(u.pointerType="",u.target=null,"touch"!==t&&u.isHovered){u.isHovered=!1;var n=e.currentTarget;i&&i({type:"hoverend",target:n,pointerType:t}),r&&r(!1),l(!1)}},o={};return"undefined"!==typeof PointerEvent?(o.onPointerEnter=function(t){IF&&"mouse"===t.pointerType||e(t,t.pointerType)},o.onPointerLeave=function(e){!a&&e.currentTarget.contains(e.target)&&t(e,e.pointerType)}):(o.onTouchStart=function(){u.ignoreEmulatedMouseEvents=!0},o.onMouseEnter=function(t){u.ignoreEmulatedMouseEvents||IF||e(t,"mouse"),u.ignoreEmulatedMouseEvents=!1},o.onMouseLeave=function(e){!a&&e.currentTarget.contains(e.target)&&t(e,"mouse")}),{hoverProps:o,triggerHoverEnd:t}}),[n,r,i,a,u]),d=c.hoverProps,f=c.triggerHoverEnd;return(0,t.useEffect)((function(){a&&f({currentTarget:u.target},u.pointerType)}),[a]),{hoverProps:d,isHovered:s}}({isDisabled:c}),W=V.isHovered,G=V.hoverProps,X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.disabled,r=void 0!==n&&n,i=(0,t.useRef)(null),a=yn((0,t.useState)(!1),2),o=a[0],s=a[1],l=nU(),u=UU((function(){i.current=null,s(!1),l.dispose()})),c=UU((function(e){if(l.dispose(),null===i.current){i.current=e.currentTarget,s(!0);var t=jF(e.currentTarget);l.addEventListener(t,"pointerup",u,!1),l.addEventListener(t,"pointermove",(function(e){if(i.current){var t=BF(e);s(HF(t,i.current.getBoundingClientRect()))}}),!1),l.addEventListener(t,"pointercancel",u,!1)}}));return{pressed:o,pressProps:r?{}:{onPointerDown:c,onPointerUp:u,onClick:u}}}({disabled:c}),q=X.pressed,Y=X.pressProps,Z=(0,t.useMemo)((function(){return{checked:C,disabled:c,hover:W,focus:B,active:q,autofocus:y,changing:N}}),[C,W,B,q,c,N,y]),K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];for(var r={},i={},a=0,o=t;a<o.length;a++){var s=o[a];for(var l in s)l.startsWith("on")&&"function"==typeof s[l]?(null!=i[l]||(i[l]=[]),i[l].push(s[l])):r[l]=s[l]}var u=function(e){Object.assign(r,Fe({},e,(function(){var t,n=Un(i[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;null==r||r.apply(void 0,arguments)}}catch(a){n.e(a)}finally{n.f()}})))};for(var c in i)u(c);return r}({id:l,ref:M,role:"switch",type:VF(e,w),tabIndex:-1===e.tabIndex?0:null!=(r=e.tabIndex)?r:0,"aria-checked":C,"aria-labelledby":F,"aria-describedby":z,disabled:c||void 0,autoFocus:y,onClick:I,onKeyUp:D,onKeyPress:U},H,G,Y),J=(0,t.useCallback)((function(){if(void 0!==E)return null==A?void 0:A(E)}),[A,E]),$=hU();return t.createElement(t.Fragment,null,null!=p&&t.createElement(kU,{disabled:c,data:Fe({},p,v||"on"),overrides:{type:"checkbox",checked:C},form:m,onReset:J}),$({ourProps:K,theirProps:x,slot:Z,defaultTag:"button",name:"Switch"}))})),KF=function(e){var n,r=yn((0,t.useState)(null),2),i=r[0],a=r[1],o=yn(KU(),2),s=o[0],l=o[1],u=yn(VU(),2),c=u[0],d=u[1],f=(0,t.useMemo)((function(){return{switch:i,setSwitch:a}}),[i,a]),h=e,p=hU();return t.createElement(d,{name:"Switch.Description",value:c},t.createElement(l,{name:"Switch.Label",value:s,props:{htmlFor:null==(n=f.switch)?void 0:n.id,onClick:function(e){i&&(e.currentTarget instanceof HTMLLabelElement&&e.preventDefault(),i.click(),i.focus({preventScroll:!0}))}}},t.createElement(qF.Provider,{value:f},p({ourProps:{},theirProps:h,slot:{},defaultTag:YF,name:"Switch.Group"}))))},JF=$U,$F=GU,QF=Object.assign(ZF,{Group:KF,Label:JF,Description:$F}),ez=function(){var e=_i(),n=yn((0,t.useState)(""),2),r=n[0],i=n[1],a=yn((0,t.useState)(!1),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){i(e.state.data)}),[e]),(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)(kh,{title:"Coolabration",prevLocation:r}),(0,Kf.jsxs)("div",{className:"pb-10",children:[(0,Kf.jsxs)("h1",{className:" text-base text-lightText mb-2 pb-14",children:[(0,Kf.jsx)("span",{className:"text-primeColor font-semibold text-3xl text-center pt-10 text-center justify-center",children:"To work with us"})," "," ",(0,Kf.jsx)("br",{}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo reiciendis delectus vitae, aliquid sit iure dolorum commodi eum numquam voluptate! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo reiciendis delectus vitae, aliquid sit iure dolorum commodi eum numquam voluptate! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo reiciendis delectus vitae, aliquid sit iure dolorum commodi eum numquam voluptate! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo reiciendis delectus vitae, aliquid sit iure dolorum commodi eum numquam voluptate! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo reiciendis delectus vitae, aliquid sit iure dolorum commodi eum numquam voluptate! Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo reiciendis delectus vitae, aliquid sit iure dolorum commodi eum numquam voluptate!"]}),(0,Kf.jsx)("section",{className:"container pt-3 mb-3",children:(0,Kf.jsx)("div",{className:"row justify-content-center",children:(0,Kf.jsxs)("div",{className:"row pt-5 mt-30",children:[(0,Kf.jsx)("div",{className:"customer-card col-lg-4 col-sm-6 mb-30 pb-20",children:(0,Kf.jsxs)("a",{className:"card",href:"#",children:[(0,Kf.jsx)("div",{className:"diamour box-shadow rounded-circle mx-auto",style:{width:"90px",height:"90px",marginTop:"-45px"}}),(0,Kf.jsxs)("div",{className:"card-body text-center pb-1",children:[(0,Kf.jsx)("h3",{className:"card-title pt-1",style:{color:"#01321F"},children:"Be YOURSELF"}),(0,Kf.jsx)("p",{className:"card-text text-sm",style:{color:"#01321F"},children:"We work with people who are themselves, people who bind other people to them through their character. We need people on our side who work for our values."})]})]})}),(0,Kf.jsx)("div",{className:"customer-card col-lg-4 col-sm-6 mb-30 pb-20",children:(0,Kf.jsxs)("a",{className:"card",href:"#",children:[(0,Kf.jsx)("div",{className:"exhange box-shadow rounded-circle mx-auto",style:{width:"90px",height:"90px",marginTop:"-45px"}}),(0,Kf.jsxs)("div",{className:"card-body text-center pb-4",children:[(0,Kf.jsx)("h3",{className:"card-title pt-1",style:{color:"#01321F"},children:"VALUES"}),(0,Kf.jsx)("p",{className:"card-text text-sm",style:{color:"#01321F"},children:"Our values are based on honesty, humanity, openness and respect. We not only meet our customers with these values, but also our employees, producers and everyone who works with ZODIAQUE. You don't get far alone, together you can move mountains."})]})]})}),(0,Kf.jsx)("div",{className:"customer-card col-lg-4 col-sm-6 mb-30 pb-10 ",children:(0,Kf.jsxs)("a",{className:"card",href:"#",children:[(0,Kf.jsx)("div",{className:"refund box-shadow rounded-circle mx-auto",style:{width:"90px",height:"90px",marginTop:"-45px"}}),(0,Kf.jsxs)("div",{className:"card-body text-center",children:[(0,Kf.jsx)("h3",{className:"card-title pt-1",style:{color:"#01321F"},children:"POSSIBILITIES"}),(0,Kf.jsx)("p",{className:"card-text text-sm",style:{color:"#01321F"},children:"With us you have opportunities to discover the world, people, cultures and unique products. Working with ZODIAQUE means more than being part of a team, influencer or brand ambassador."})]})]})}),(0,Kf.jsx)("div",{className:"col-lg-2"})]})})}),(0,Kf.jsxs)("div",{className:"isolate bg-white px-6 py-24 sm:py-32 lg:px-8",children:[(0,Kf.jsx)("div",{"aria-hidden":"true",className:"absolute inset-x-0 top-[-10rem] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[-20rem]",children:(0,Kf.jsx)("div",{style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"},className:"relative left-1/2 -z-10 aspect-[1155/678] w-[36.125rem] max-w-none -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-40rem)] sm:w-[72.1875rem]"})}),(0,Kf.jsxs)("div",{className:"mx-auto max-w-2xl text-center",children:[(0,Kf.jsx)("h2",{className:"text-balance text-4xl font-semibold tracking-tight text-gray-900 sm:text-5xl",children:"Lets Collab With us "}),(0,Kf.jsx)("p",{className:"mt-2 text-lg/8 text-gray-600",children:"Aute magna irure deserunt veniam aliqua magna enim voluptate."})]}),(0,Kf.jsxs)("form",{action:"#",method:"POST",className:"mx-auto mt-16 max-w-xl sm:mt-20",children:[(0,Kf.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2",children:[(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("label",{htmlFor:"first-name",className:"block text-sm/6 font-semibold text-gray-900",children:"First name"}),(0,Kf.jsx)("div",{className:"mt-2.5",children:(0,Kf.jsx)("input",{id:"first-name",name:"first-name",type:"text",autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"})})]}),(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("label",{htmlFor:"last-name",className:"block text-sm/6 font-semibold text-gray-900",children:"Last name"}),(0,Kf.jsx)("div",{className:"mt-2.5",children:(0,Kf.jsx)("input",{id:"last-name",name:"last-name",type:"text",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"})})]}),(0,Kf.jsxs)("div",{className:"sm:col-span-2",children:[(0,Kf.jsx)("label",{htmlFor:"company",className:"block text-sm/6 font-semibold text-gray-900",children:"Company"}),(0,Kf.jsx)("div",{className:"mt-2.5",children:(0,Kf.jsx)("input",{id:"company",name:"company",type:"text",autoComplete:"organization",className:"block w-full rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"})})]}),(0,Kf.jsxs)("div",{className:"sm:col-span-2",children:[(0,Kf.jsx)("label",{htmlFor:"email",className:"block text-sm/6 font-semibold text-gray-900",children:"Email"}),(0,Kf.jsx)("div",{className:"mt-2.5",children:(0,Kf.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:"block w-full rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"})})]}),(0,Kf.jsxs)("div",{className:"sm:col-span-2",children:[(0,Kf.jsx)("label",{htmlFor:"phone-number",className:"block text-sm/6 font-semibold text-gray-900",children:"Phone number"}),(0,Kf.jsx)("div",{className:"mt-2.5",children:(0,Kf.jsxs)("div",{className:"flex rounded-md bg-white outline outline-1 -outline-offset-1 outline-gray-300 has-[input:focus-within]:outline has-[input:focus-within]:outline-2 has-[input:focus-within]:-outline-offset-2 has-[input:focus-within]:outline-indigo-600",children:[(0,Kf.jsxs)("div",{className:"grid shrink-0 grid-cols-1 focus-within:relative",children:[(0,Kf.jsxs)("select",{id:"country",name:"country",autoComplete:"country","aria-label":"Country",className:"col-start-1 row-start-1 w-full appearance-none rounded-md py-2 pl-3.5 pr-7 text-base text-gray-500 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[(0,Kf.jsx)("option",{children:"US"}),(0,Kf.jsx)("option",{children:"CA"}),(0,Kf.jsx)("option",{children:"EU"})]}),(0,Kf.jsx)(KD,{"aria-hidden":"true",className:"pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end text-gray-500 sm:size-4"})]}),(0,Kf.jsx)("input",{id:"phone-number",name:"phone-number",type:"text",placeholder:"123-456-7890",className:"block min-w-0 grow py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6"})]})})]}),(0,Kf.jsxs)("div",{className:"sm:col-span-2",children:[(0,Kf.jsx)("label",{htmlFor:"message",className:"block text-sm/6 font-semibold text-gray-900",children:"Message"}),(0,Kf.jsx)("div",{className:"mt-2.5",children:(0,Kf.jsx)("textarea",{id:"message",name:"message",rows:4,className:"block w-full rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600",defaultValue:""})})]}),(0,Kf.jsxs)(eF,{className:"flex gap-x-4 sm:col-span-2",children:[(0,Kf.jsx)("div",{className:"flex h-6 items-center",children:(0,Kf.jsxs)(QF,{checked:o,onChange:s,className:"group flex w-8 flex-none cursor-pointer rounded-full bg-gray-200 p-px ring-1 ring-inset ring-gray-900/5 transition-colors duration-200 ease-in-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 data-[checked]:bg-indigo-600",children:[(0,Kf.jsx)("span",{className:"sr-only",children:"Agree to policies"}),(0,Kf.jsx)("span",{"aria-hidden":"true",className:"size-4 transform rounded-full bg-white shadow-sm ring-1 ring-gray-900/5 transition duration-200 ease-in-out group-data-[checked]:translate-x-3.5"})]})}),(0,Kf.jsxs)($U,{className:"text-sm/6 text-gray-600",children:["By selecting this, you agree to our"," ",(0,Kf.jsx)("a",{href:"#",className:"font-semibold text-indigo-600",children:"privacy\xa0policy"}),"."]})]})]}),(0,Kf.jsx)("div",{className:"mt-10",children:(0,Kf.jsx)("button",{type:"submit",className:"block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Let's talk"})})]})]}),(0,Kf.jsx)(Yi,{to:"/shop",children:(0,Kf.jsx)("button",{className:"w-52 h-10 bg-primeColor text-white hover:bg-black duration-300",children:"Continue Shopping"})})]})]})},tz=function(){return(0,Kf.jsxs)("div",{className:"w-full pb-20",children:[(0,Kf.jsx)(Ah,{heading:"Special Offers"}),(0,Kf.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lgl:grid-cols-3 xl:grid-cols-4 gap-10",children:[(0,Kf.jsx)(Ih,{_id:"1101",img:nh,productName:"Cap for Boys",price:"35.00",color:"Blank and White",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}),(0,Kf.jsx)(Ih,{_id:"1102",img:rh,productName:"Tea Table",price:"180.00",color:"Gray",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}),(0,Kf.jsx)(Ih,{_id:"1103",img:nh,productName:"Headphones",price:"25.00",color:"Mixed",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."}),(0,Kf.jsx)(Ih,{_id:"1104",img:nh,productName:"Sun glasses",price:"220.00",color:"Black",badge:!0,des:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis."})]})]})},nz=function(){var e=yn((0,t.useState)(""),1)[0];return(0,Kf.jsxs)("div",{className:"max-w-container mx-auto",children:[(0,Kf.jsx)(kh,{title:"Offer",prevLocation:e}),(0,Kf.jsx)("div",{className:"pb-10",children:(0,Kf.jsx)(tz,{})})]})},rz=function(){return(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)(kh,{title:"Payment gateway"}),(0,Kf.jsxs)("div",{className:"pb-10",children:[(0,Kf.jsx)("p",{children:"Payment gateway only applicable for Production build."}),(0,Kf.jsx)(Yi,{to:"/",children:(0,Kf.jsx)("button",{className:"w-52 h-10 bg-primeColor text-white text-lg mt-4 hover:bg-black duration-300",children:"Explore More"})})]})]})},iz=function(e){var t=e.productInfo,n=O();return(0,Kf.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,Kf.jsx)("h2",{className:"text-4xl font-semibold",children:t.productName}),(0,Kf.jsxs)("p",{className:"text-xl font-semibold",children:["$",t.price]}),(0,Kf.jsx)("p",{className:"text-base text-gray-600",children:t.des}),(0,Kf.jsx)("p",{className:"text-sm",children:"Be the first to leave a review."}),(0,Kf.jsxs)("p",{className:"font-medium text-lg",children:[(0,Kf.jsx)("span",{className:"font-normal",children:"Colors:"})," ",t.color]}),(0,Kf.jsx)("button",{onClick:function(){return n(an({_id:t.id,name:t.productName,quantity:1,image:t.img,badge:t.badge,price:t.price,colors:t.color}))},className:"w-full py-4 bg-primeColor hover:bg-black duration-300 text-white text-lg font-titleFont",children:"Add to Cart"}),(0,Kf.jsxs)("p",{className:"font-normal text-sm",children:[(0,Kf.jsx)("span",{className:"text-base font-medium",children:" Categories:"})," Spring collection, Streetwear, Women Tags: featured SKU: N/A"]})]})},az=function(){return(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("h3",{className:"font-titleFont text-xl font-semibold mb-6 underline underline-offset-4 decoration-[1px]",children:"Products on sale"}),(0,Kf.jsx)("div",{className:"flex flex-col gap-2",children:bh.map((function(e){return(0,Kf.jsxs)("div",{className:"flex items-center gap-4 border-b-[1px] border-b-gray-300 py-2",children:[(0,Kf.jsx)("div",{children:(0,Kf.jsx)("img",{className:"w-24",src:e.img,alt:e.img})}),(0,Kf.jsxs)("div",{className:"flex flex-col gap-2 font-titleFont",children:[(0,Kf.jsx)("p",{className:"text-base font-medium",children:e.productName}),(0,Kf.jsxs)("p",{className:"text-sm font-semibold",children:["$",e.price]})]})]},e._id)}))})]})},oz=function(){var e=_i(),n=yn((0,t.useState)(""),2),r=n[0],i=n[1],a=yn((0,t.useState)([]),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){s(e.state.item),i(e.pathname)}),[e,o]),(0,Kf.jsx)("div",{className:"w-full mx-auto border-b-[1px] border-b-gray-300",children:(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)("div",{className:"xl:-mt-10 -mt-7",children:(0,Kf.jsx)(kh,{title:"",prevLocation:r})}),(0,Kf.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4 h-full -mt-5 xl:-mt-8 pb-10 bg-gray-100 p-4",children:[(0,Kf.jsx)("div",{className:"h-full",children:(0,Kf.jsx)(az,{})}),(0,Kf.jsx)("div",{className:"h-full xl:col-span-2",children:(0,Kf.jsx)("img",{className:"w-full h-full object-cover",src:o.img,alt:o.img})}),(0,Kf.jsx)("div",{className:"h-full w-full md:col-span-2 xl:col-span-3 xl:p-14 flex flex-col gap-6 justify-center",children:(0,Kf.jsx)(iz,{productInfo:o})})]})]})})},sz=n(6048),lz=n.n(sz),uz=_h;function cz(e){var t=e.currentItems;return(0,Kf.jsx)(Kf.Fragment,{children:t&&t.map((function(e){return(0,Kf.jsx)("div",{className:"w-full",children:(0,Kf.jsx)(Ih,{_id:e._id,img:e.img,productName:e.productName,price:e.price,color:e.color,badge:e.badge,des:e.des})},e._id)}))})}var dz=function(e){var n=e.itemsPerPage,r=yn((0,t.useState)(0),2),i=r[0],a=r[1],o=yn((0,t.useState)(1),2),s=o[0],l=o[1],u=i+n,c=uz.slice(i,u),d=Math.ceil(uz.length/n);return(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-10 mdl:gap-4 lg:gap-10",children:(0,Kf.jsx)(cz,{currentItems:c})}),(0,Kf.jsxs)("div",{className:"flex flex-col mdl:flex-row justify-center mdl:justify-between items-center",children:[(0,Kf.jsx)(lz(),{nextLabel:"",onPageChange:function(e){var t=e.selected*n%uz.length;a(t),l(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:d,previousLabel:"",pageLinkClassName:"w-9 h-9 border-[1px] border-lightColor hover:border-gray-500 duration-300 flex justify-center items-center",pageClassName:"mr-6",containerClassName:"flex text-base font-semibold font-titleFont py-10",activeClassName:"bg-black text-white"}),(0,Kf.jsxs)("p",{className:"text-base font-normal text-lightText",children:["Products from ",0===s?1:s," to ",u," of"," ",uz.length]})]})]})};function fz(e){return Ff({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 5l6 6 6-6H0z"}}]})(e)}var hz=function(e){var n=e.itemsPerPageFromBanner,r=yn((0,t.useState)(!0),2),i=r[0],a=r[1],o=yn((0,t.useState)(!1),2),s=o[0],l=o[1];return(0,t.useEffect)((function(){var e=document.querySelector(".gridView"),t=document.querySelector(".listView");e.addEventListener("click",(function(){l(!1),a(!0)})),t.addEventListener("click",(function(){a(!1),l(!0)}))}),[i,s]),(0,Kf.jsxs)("div",{className:"w-full flex flex-col md:flex-row md:items-center justify-between",children:[(0,Kf.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Kf.jsx)("span",{className:"".concat(i?"bg-primeColor text-white":"border-[1px] border-gray-300 text-[#737373]"," w-8 h-8 text-lg flex items-center justify-center cursor-pointer gridView"),children:(0,Kf.jsx)(Rh,{})}),(0,Kf.jsx)("span",{className:"".concat(s?"bg-primeColor text-white":"border-[1px] border-gray-300 text-[#737373]"," w-8 h-8 text-base flex items-center justify-center cursor-pointer listView"),children:(0,Kf.jsx)(Bh,{})})]}),(0,Kf.jsxs)("div",{className:"flex items-center gap-2 md:gap-6 mt-4 md:mt-0",children:[(0,Kf.jsxs)("div",{className:"flex items-center gap-2 text-base text-[#767676] relative",children:[(0,Kf.jsx)("label",{className:"block",children:"Sort by:"}),(0,Kf.jsxs)("select",{id:"countries",className:"w-32 md:w-52 border-[1px] border-gray-200 py-1 px-4 cursor-pointer text-primeColor text-base block dark:placeholder-gray-400 appearance-none focus-within:outline-none focus-visible:border-primeColor",children:[(0,Kf.jsx)("option",{value:"Final Offer",children:"Comming Soon"}),(0,Kf.jsx)("option",{value:"Best Sellers",children:"Best Sellers"}),(0,Kf.jsx)("option",{value:"New Arrival",children:"New Arrival"}),(0,Kf.jsx)("option",{value:"Featured",children:"Featured"}),(0,Kf.jsx)("option",{value:"Final Offer",children:"Final Offer"})]}),(0,Kf.jsx)("span",{className:"absolute text-sm right-2 md:right-4 top-2.5",children:(0,Kf.jsx)(fz,{})})]}),(0,Kf.jsxs)("div",{className:"flex items-center gap-2 text-[#767676] relative",children:[(0,Kf.jsx)("label",{className:"block",children:"Show:"}),(0,Kf.jsxs)("select",{onChange:function(e){return n(+e.target.value)},id:"countries",className:"w-16 md:w-20 border-[1px] border-gray-200 py-1 px-4 cursor-pointer text-primeColor text-base block dark:placeholder-gray-400 appearance-none focus-within:outline-none focus-visible:border-primeColor",children:[(0,Kf.jsx)("option",{value:"12",children:"12"}),(0,Kf.jsx)("option",{value:"24",children:"24"}),(0,Kf.jsx)("option",{value:"36",children:"36"}),(0,Kf.jsx)("option",{value:"48",children:"48"})]}),(0,Kf.jsx)("span",{className:"absolute text-sm right-3 top-2.5",children:(0,Kf.jsx)(fz,{})})]})]})]})};function pz(e){return Ff({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m11.998 17 7-8h-14z"}}]})(e)}var vz=function(e){var t=e.title,n=e.icons;return(0,Kf.jsx)("div",{className:"flex items-center justify-between pb-5",children:n?(0,Kf.jsxs)(Kf.Fragment,{children:[(0,Kf.jsx)("h3",{className:"font-bold lg:text-xl text-primeColor",children:t}),n&&(0,Kf.jsx)(pz,{})]}):(0,Kf.jsx)(Kf.Fragment,{children:(0,Kf.jsx)("h3",{className:"font-bold lg:text-xl text-primeColor",children:t})})})},mz=function(){var e=yn((0,t.useState)(!0),2),n=e[0],r=e[1];return(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)("div",{onClick:function(){return r(!n)},className:"cursor-pointer",children:(0,Kf.jsx)(vz,{title:"Shop by Brand",icons:!0})}),n&&(0,Kf.jsx)(Nf.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:(0,Kf.jsx)("ul",{className:"flex flex-col gap-4 text-sm lg:text-base text-[#767676]",children:[{_id:9006,title:"lorem"},{_id:9007,title:"lorem"},{_id:9008,title:"lorem"},{_id:9009,title:"lorem"},{_id:9010,title:"lorem"}].map((function(e){return(0,Kf.jsx)("li",{className:"border-b-[1px] border-b-[#F0F0F0] pb-2 flex items-center gap-2 hover:text-primeColor hover:border-gray-400 duration-300",children:e.title},e._id)}))})})]})},gz=function(){var e=yn((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,Kf.jsxs)("div",{className:"w-full",children:[(0,Kf.jsx)(vz,{title:"Shop by Category",icons:!1}),(0,Kf.jsx)("div",{children:(0,Kf.jsx)("ul",{className:"flex flex-col gap-4 text-sm lg:text-base text-[#767676]",children:[{_id:990,title:"Aquarius",icons:!0},{_id:991,title:"Aries"},{_id:992,title:"Cancer",icons:!0},{_id:993,title:"Capricorn"},{_id:994,title:"Gemini"},{_id:994,title:"Leo"},{_id:994,title:"Libra"},{_id:994,title:"Pisces"},{_id:994,title:"Sagittarius"},{_id:994,title:"Scorpio"},{_id:994,title:"Taurus"},{_id:994,title:"Virgo"}].map((function(e){var t=e._id,i=e.title,a=e.icons;return(0,Kf.jsxs)("li",{className:"border-b-[1px] border-b-[#F0F0F0] pb-2 flex items-center justify-between",children:[i,a&&(0,Kf.jsx)("span",{onClick:function(){return r(!n)},className:"text-[10px] lg:text-xs cursor-pointer text-gray-400 hover:text-primeColor duration-300",children:(0,Kf.jsx)(Hh,{})})]},t)}))})})]})},yz=function(){return(0,Kf.jsxs)("div",{className:"cursor-pointer",children:[(0,Kf.jsx)(vz,{title:"Shop by Price",icons:!1}),(0,Kf.jsx)("div",{className:"font-titleFont",children:(0,Kf.jsx)("ul",{className:"flex flex-col gap-4 text-sm lg:text-base text-[#767676]",children:[{_id:950,priceOne:0,priceTwo:49.99},{_id:951,priceOne:50,priceTwo:99.99},{_id:952,priceOne:100,priceTwo:199.99},{_id:953,priceOne:200,priceTwo:399.99},{_id:954,priceOne:400,priceTwo:599.99},{_id:955,priceOne:600,priceTwo:1e3}].map((function(e){return(0,Kf.jsxs)("li",{className:"border-b-[1px] border-b-[#F0F0F0] pb-2 flex items-center gap-2 hover:text-primeColor hover:border-gray-400 duration-300",children:["$",e.priceOne.toFixed(2)," - $",e.priceTwo.toFixed(2)]},e._id)}))})})]})},xz=function(){return(0,Kf.jsxs)("div",{className:"w-full flex flex-col gap-6",children:[(0,Kf.jsx)(gz,{icons:!1}),(0,Kf.jsx)(mz,{}),(0,Kf.jsx)(yz,{})]})},bz=function(){var e=yn((0,t.useState)(12),2),n=e[0],r=e[1];return(0,Kf.jsxs)("div",{className:"max-w-container mx-auto px-4",children:[(0,Kf.jsx)(kh,{title:"Products"}),(0,Kf.jsxs)("div",{className:"w-full h-full flex pb-20 gap-10",children:[(0,Kf.jsx)("div",{className:"w-[20%] lgl:w-[25%] hidden mdl:inline-flex h-full",children:(0,Kf.jsx)(xz,{})}),(0,Kf.jsxs)("div",{className:"w-full mdl:w-[80%] lgl:w-[75%] h-full flex flex-col gap-10",children:[(0,Kf.jsx)(hz,{itemsPerPageFromBanner:function(e){r(e)}}),(0,Kf.jsx)(dz,{itemsPerPage:n})]})]})]})},_z=function(){return(0,Kf.jsxs)("div",{children:[(0,Kf.jsx)(Sh,{}),(0,Kf.jsx)(Mh,{}),(0,Kf.jsx)(Th,{}),(0,Kf.jsx)($i,{}),(0,Kf.jsx)(Ii,{}),(0,Kf.jsx)(ch,{}),(0,Kf.jsx)(fh,{})]})},wz=function(e,t){return Tr({basename:null==t?void 0:t.basename,history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),qn((function(e,t){var n=e.location;return Vn("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Wn(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||Xi(),routes:Bi(e)}).initialize();var n}(ji((0,Kf.jsxs)(Di,{children:[(0,Kf.jsxs)(Di,{path:"/",element:(0,Kf.jsx)(_z,{}),children:[(0,Kf.jsx)(Di,{index:!0,element:(0,Kf.jsx)(qD,{})}),(0,Kf.jsx)(Di,{path:"/shop",element:(0,Kf.jsx)(bz,{})}),(0,Kf.jsx)(Di,{path:"/about",element:(0,Kf.jsx)(Fh,{})}),(0,Kf.jsx)(Di,{path:"/contact",element:(0,Kf.jsx)(Xh,{})}),(0,Kf.jsx)(Di,{path:"/collab",element:(0,Kf.jsx)(ez,{})}),(0,Kf.jsx)(Di,{path:"/offer",element:(0,Kf.jsx)(nz,{})}),(0,Kf.jsx)(Di,{path:"/product/:_id",element:(0,Kf.jsx)(oz,{})}),(0,Kf.jsx)(Di,{path:"/cart",element:(0,Kf.jsx)(Gh,{})}),(0,Kf.jsx)(Di,{path:"/paymentgateway",element:(0,Kf.jsx)(rz,{})})]}),(0,Kf.jsx)(Di,{path:"/signup",element:(0,Kf.jsx)(jh,{})}),(0,Kf.jsx)(Di,{path:"/signin",element:(0,Kf.jsx)(zh,{})})]})));var Sz=function(){return(0,Kf.jsx)("div",{className:"font-bodyFont",children:(0,Kf.jsx)(Oi,{router:wz})})};i.createRoot(document.getElementById("root")).render((0,Kf.jsx)(A,{store:fn,children:(0,Kf.jsx)(h,{loading:null,persistor:hn,children:(0,Kf.jsx)(Sz,{})})}))}()}();
//# sourceMappingURL=main.59e3244d.js.map